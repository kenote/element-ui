(function(g,vt){typeof exports=="object"&&typeof module!="undefined"?vt(exports,require("vue"),require("lodash"),require("@kenote/common"),require("rule-judgment"),require("element-ui"),require("vue-router"),require("js-yaml"),require("nunjucks")):typeof define=="function"&&define.amd?define(["exports","vue","lodash","@kenote/common","rule-judgment","element-ui","vue-router","js-yaml","nunjucks"],vt):(g=typeof globalThis!="undefined"?globalThis:g||self,vt(g["kl-element-ui"]={},g.Vue,g.lodash,g["@kenote/common"],g["rule-judgment"],g["element-ui"],null,g["js-yaml"],g.nunjucks))})(this,function(g,vt,b,vr,Un,_i,pu,qn,Wn){"use strict";function yt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Ee=yt(vt),yr=yt(b),Ne=yt(Un),Ue=yt(qn),Kn=yt(Wn);/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function zt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zt=function(t){return typeof t}:zt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(e)}function Hn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vn(e){return zn(e)||Yn(e)||Gn()}function zn(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function Yn(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Gn(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Xn(){return typeof Reflect!="undefined"&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function Jn(e,t){_r(e,t),Object.getOwnPropertyNames(t.prototype).forEach(function(r){_r(e.prototype,t.prototype,r)}),Object.getOwnPropertyNames(t).forEach(function(r){_r(e,t,r)})}function _r(e,t,r){var i=r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t);i.forEach(function(n){var l=r?Reflect.getOwnMetadata(n,t,r):Reflect.getOwnMetadata(n,t);r?Reflect.defineMetadata(n,l,e,r):Reflect.defineMetadata(n,l,e)})}var Qn={__proto__:[]},Zn=Qn instanceof Array;function Yt(e){return function(t,r,i){var n=typeof t=="function"?t:t.constructor;n.__decorators__||(n.__decorators__=[]),typeof i!="number"&&(i=void 0),n.__decorators__.push(function(l){return e(l,r,i)})}}function Oe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ee.default.extend({mixins:t})}function ea(e){var t=zt(e);return e==null||t!=="object"&&t!=="function"}function ta(e,t){var r=t.prototype._init;t.prototype._init=function(){var l=this,s=Object.getOwnPropertyNames(e);if(e.$options.props)for(var u in e.$options.props)e.hasOwnProperty(u)||s.push(u);s.forEach(function(h){Object.defineProperty(l,h,{get:function(){return e[h]},set:function(w){e[h]=w},configurable:!0})})};var i=new t;t.prototype._init=r;var n={};return Object.keys(i).forEach(function(l){i[l]!==void 0&&(n[l]=i[l])}),n}var gr=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function gi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach(function(u){if(u!=="constructor"){if(gr.indexOf(u)>-1){t[u]=r[u];return}var h=Object.getOwnPropertyDescriptor(r,u);h.value!==void 0?typeof h.value=="function"?(t.methods||(t.methods={}))[u]=h.value:(t.mixins||(t.mixins=[])).push({data:function(){return Hn({},u,h.value)}}):(h.get||h.set)&&((t.computed||(t.computed={}))[u]={get:h.get,set:h.set})}}),(t.mixins||(t.mixins=[])).push({data:function(){return ta(this,e)}});var i=e.__decorators__;i&&(i.forEach(function(u){return u(t)}),delete e.__decorators__);var n=Object.getPrototypeOf(e.prototype),l=n instanceof Ee.default?n.constructor:Ee.default,s=l.extend(t);return ia(s,e,l),Xn()&&Jn(s,e),s}var ra={prototype:!0,arguments:!0,callee:!0,caller:!0};function ia(e,t,r){Object.getOwnPropertyNames(t).forEach(function(i){if(!ra[i]){var n=Object.getOwnPropertyDescriptor(e,i);if(!(n&&!n.configurable)){var l=Object.getOwnPropertyDescriptor(t,i);if(!Zn){if(i==="cid")return;var s=Object.getOwnPropertyDescriptor(r,i);if(!ea(l.value)&&s&&s.value===l.value)return}Object.defineProperty(e,i,l)}}})}function ae(e){return typeof e=="function"?gi(e):function(t){return gi(t,e)}}ae.registerHooks=function(t){gr.push.apply(gr,Vn(t))};var mi=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var l=arguments[t],s=0,u=l.length;s<u;s++,n++)i[n]=l[s];return i},na=/\B([A-Z])/g,aa=function(e){return e.replace(na,"-$1").toLowerCase()};function pe(e){return function(t,r,i){var n=aa(r),l=i.value;i.value=function(){for(var u=this,h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];var w=function(S){var R=e||n;S===void 0?h.length===0?u.$emit(R):h.length===1?u.$emit(R,h[0]):u.$emit.apply(u,mi([R],h)):(h.unshift(S),u.$emit.apply(u,mi([R],h)))},E=l.apply(this,h);return oa(E)?E.then(w):w(E),E}}}function oa(e){return e instanceof Promise||e&&typeof e.then=="function"}function la(e){return typeof e!="function"||!e.managed&&!e.managedReactive}function sa(e){var t=function(){var r=this,i=typeof e=="function"?e.call(this):e;i=Object.create(i||null),i[_t]=Object.create(this[_t]||{});for(var n in t.managed)i[t.managed[n]]=this[n];var l=function(u){i[t.managedReactive[u]]=s[u],Object.defineProperty(i[_t],t.managedReactive[u],{enumerable:!0,configurable:!0,get:function(){return r[u]}})},s=this;for(var n in t.managedReactive)l(n);return i};return t.managed={},t.managedReactive={},t}var _t="__reactiveInject__";function ua(e){Array.isArray(e.inject)||(e.inject=e.inject||{},e.inject[_t]={from:_t,default:{}})}var fa=typeof Reflect!="undefined"&&typeof Reflect.getMetadata!="undefined";function bi(e,t,r){if(fa&&!Array.isArray(e)&&typeof e!="function"&&!e.hasOwnProperty("type")&&typeof e.type=="undefined"){var i=Reflect.getMetadata("design:type",t,r);i!==Object&&(e.type=i)}}function wi(e,t){return t===void 0&&(t={}),function(r,i){bi(t,r,i),Yt(function(n,l){(n.props||(n.props={}))[l]=t,n.model={prop:l,event:e||l}})(r,i)}}function v(e){return e===void 0&&(e={}),function(t,r){bi(e,t,r),Yt(function(i,n){(i.props||(i.props={}))[n]=e})(t,r)}}function Y(e){return Yt(function(t,r){var i=t.provide;ua(t),la(i)&&(i=t.provide=sa(i)),i.managed[r]=e||r})}function Se(e,t){t===void 0&&(t={});var r=t.deep,i=r===void 0?!1:r,n=t.immediate,l=n===void 0?!1:n;return Yt(function(s,u){typeof s.watch!="object"&&(s.watch=Object.create(null));var h=s.watch;typeof h[e]=="object"&&!Array.isArray(h[e])?h[e]=[h[e]]:typeof h[e]=="undefined"&&(h[e]=[]),h[e].push({handler:u,deep:i,immediate:l})})}var da=Object.defineProperty,ca=Object.getOwnPropertyDescriptor,ue=(e,t,r,i)=>{for(var n=i>1?void 0:i?ca(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&da(t,r,n),n};let oe=class extends Ee.default{constructor(){super(...arguments),this.styles={},this.timestamp=0}onWidthChange(e,t){e!==t&&this.getStyles(e)}onVisibleChange(e,t){e!==t&&(e?(document.addEventListener("click",this.handleClick,!0),this.styles=b.merge(this.styles,{[this.placement]:"0"}),this.timestamp=Date.now(),this.$emit("open",null)):(document.removeEventListener("click",this.handleClick,!1),this.styles=b.merge(this.styles,{[this.placement]:`-${this.width}${this.unit}`})))}handleClick(e){var i,n,l;if(this.lock)return;let t=(i=this.$refs)==null?void 0:i.drawer;if(!b.compact((n=Ln(e).path)==null?void 0:n.map(s=>s.className)).includes((l=t==null?void 0:t.className)!=null?l:"")){if(Date.now()-this.timestamp<10)return;this.visible&&this.$emit("close",null)}}getStyles(e){let t=["top","bottom"].includes(this.placement)?"height":"width",r={};["left","right"].includes(this.placement)&&(r.top=`${this.offset}${this.unit}`),this.zIndex&&(r["z-index"]=this.zIndex),this.styles=b.merge({[t]:`${e}${this.unit}`,[this.placement]:`-${e}${this.unit}`},r)}};ue([v({default:"right"})],oe.prototype,"placement",2),ue([v({default:360})],oe.prototype,"width",2),ue([v({default:!1})],oe.prototype,"visible",2),ue([v({default:!1})],oe.prototype,"lock",2),ue([v({default:void 0})],oe.prototype,"zIndex",2),ue([v({default:"px"})],oe.prototype,"unit",2),ue([v({default:0})],oe.prototype,"offset",2),ue([Y()],oe.prototype,"styles",2),ue([Y()],oe.prototype,"timestamp",2),ue([Se("width")],oe.prototype,"onWidthChange",1),ue([Se("visible")],oe.prototype,"onVisibleChange",1),oe=ue([ae({name:"KlDrawer",created(){this.getStyles(this.width)}})],oe);var pa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"drawer",staticClass:"kl-drawer",class:e.placement,style:e.styles},[e._t("header"),e._t("default"),e._t("footer")],2)},ha=[],hu="";function he(e,t,r,i,n,l,s,u){var h=typeof e=="function"?e.options:e;t&&(h.render=t,h.staticRenderFns=r,h._compiled=!0),i&&(h.functional=!0),l&&(h._scopeId="data-v-"+l);var m;if(s?(m=function(S){S=S||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!S&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(S=__VUE_SSR_CONTEXT__),n&&n.call(this,S),S&&S._registeredComponents&&S._registeredComponents.add(s)},h._ssrRegister=m):n&&(m=u?function(){n.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:n),m)if(h.functional){h._injectStyles=m;var w=h.render;h.render=function(R,$){return m.call($),w(R,$)}}else{var E=h.beforeCreate;h.beforeCreate=E?[].concat(E,m):[m]}return{exports:e,options:h}}const xi={};var va=he(oe,pa,ha,!1,ya,null,null,null);function ya(e){for(let t in xi)this[t]=xi[t]}var Ei=function(){return va.exports}(),_a=Object.defineProperty,ga=Object.getOwnPropertyDescriptor,G=(e,t,r,i)=>{for(var n=i>1?void 0:i?ga(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&_a(t,r,n),n};let H=class extends Ee.default{constructor(){super(...arguments),this.keywords="",this.restaurants=[]}onKeywordsChange(e,t){e!==t&&this.update(e)}onValueChange(e,t){e!==t&&(this.keywords=e)}onDataChange(e,t){e!==t&&(this.restaurants=vr.initMaps(e))}update(e){}handleCommand(e){}handleFocus(e){}handleBlur(e){}querySearch(e,t){let r=[];Qr(this.restaurants,b.trim(e),r),this.filter&&(r=r.filter(Ne.default(this.filter)));let i=b.assign({value:"name",key:"key",description:"description"},this.props);t(r.map(ot(i)))}handleClear(){var t;this.keywords="";let e=(t=this.$refs)==null?void 0:t.searchbar;setTimeout(()=>{e.focus()},300)}keyWordsString(e){var r;let t=b.trim(this.keywords);return(r=e.name)==null?void 0:r.replace(new RegExp(`(${t})`,"gi"),"<span class='keywords'>$1</span>")}handleSelect(e){this.handleCommand(e),this.handleClear()}};G([Y()],H.prototype,"item",2),G([v({default:"\u641C\u7D22\u5185\u5BB9"})],H.prototype,"placeholder",2),G([v({default:void 0})],H.prototype,"data",2),G([v({default:void 0})],H.prototype,"props",2),G([v({default:void 0})],H.prototype,"filter",2),G([v({default:"searchbar-popper"})],H.prototype,"popperClass",2),G([v({default:"default"})],H.prototype,"size",2),G([Y()],H.prototype,"keywords",2),G([Y()],H.prototype,"restaurants",2),G([wi("update")],H.prototype,"value",2),G([Se("keywords")],H.prototype,"onKeywordsChange",1),G([Se("value")],H.prototype,"onValueChange",1),G([Se("data")],H.prototype,"onDataChange",1),G([pe("update")],H.prototype,"update",1),G([pe("command")],H.prototype,"handleCommand",1),G([pe("focus")],H.prototype,"handleFocus",1),G([pe("blur")],H.prototype,"handleBlur",1),H=G([ae({name:"KlChannelSearchbar",mounted(){var e;this.keywords=this.value,this.restaurants=vr.initMaps((e=this.data)!=null?e:[])}})],H);var ma=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-autocomplete",{ref:"searchbar",attrs:{size:e.size,"prefix-icon":"el-icon-search","popper-class":e.popperClass,placeholder:e.placeholder,"fetch-suggestions":e.querySearch},on:{focus:e.handleFocus,blur:e.handleBlur,select:e.handleSelect},scopedSlots:e._u([{key:"default",fn:function(i){var n=i.item;return r("div",{},[n.maps?r("div",{staticClass:"name"},e._l(n.maps,function(l,s){return r("fragment",{key:s},[[s>0?r("span",[e._v(" > ")]):e._e(),r("span",{domProps:{innerHTML:e._s(e.keyWordsString(l))}})]],2)}),1):r("div",{staticClass:"name"},[e._v(e._s(n.name))]),n.description?r("span",{staticClass:"description"},[e._v(e._s(n.description))]):e._e()])}}]),model:{value:e.keywords,callback:function(i){e.keywords=i},expression:"keywords"}},[r("i",{directives:[{name:"show",rawName:"v-show",value:e.keywords,expression:"keywords"}],staticClass:"el-icon-error el-input__icon",attrs:{slot:"suffix"},on:{click:e.handleClear},slot:"suffix"})])},ba=[],vu="";const Si={};var wa=he(H,ma,ba,!1,xa,null,null,null);function xa(e){for(let t in Si)this[t]=Si[t]}var Ri=function(){return wa.exports}(),Ea=Object.defineProperty,Sa=Object.getOwnPropertyDescriptor,mr=(e,t,r,i)=>{for(var n=i>1?void 0:i?Sa(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Ea(t,r,n),n};g.KlBaseMixin=class extends Ee.default{constructor(){super(...arguments),this._=yr.default,this.isDisabled=Pn(this.env),this.isFilter=kn(this.env),this.parseProps=ot,this.parseTemplate=Me,this.toFormatString=In,this.getFilter=Bn,this.toStyleSize=jn}parseTag(e,t){let[r,i]=e.split("_");return yr.default.get({label:r,type:i},t)}command(e,t,r){}},mr([v({default:void 0})],g.KlBaseMixin.prototype,"env",2),mr([pe("command")],g.KlBaseMixin.prototype,"command",1),g.KlBaseMixin=mr([ae({name:"KlBaseMixin"})],g.KlBaseMixin);var Ra=Object.defineProperty,$a=Object.getOwnPropertyDescriptor,Re=(e,t,r,i)=>{for(var n=i>1?void 0:i?$a(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Ra(t,r,n),n};let ve=class extends Oe(g.KlBaseMixin){};Re([v({default:""})],ve.prototype,"name",2),Re([v({default:""})],ve.prototype,"icon",2),Re([v({default:void 0})],ve.prototype,"children",2),Re([v({default:""})],ve.prototype,"index",2),Re([v({default:""})],ve.prototype,"tag",2),Re([v({default:!1})],ve.prototype,"disabled",2),Re([v({default:""})],ve.prototype,"popperClass",2),Re([v({default:""})],ve.prototype,"tagClass",2),ve=Re([ae({name:"KlSidebarItem"})],ve);var Fa=function(){var e,t=this,r=t.$createElement,i=t._self._c||r;return i("div",[((e=t.children)===null||e===void 0?void 0:e.length)>0?i("el-submenu",{attrs:{index:t.index,"popper-class":t.popperClass}},[i("template",{slot:"title"},[t.icon?i("i",{class:t.icon}):t._e(),t._v(" "+t._s(t.name)+" ")]),t._l(t.children,function(n,l){var s;return i("kl-sidebar-item",{key:l,attrs:{name:n.name,icon:n.icon,index:(s=n.route)!==null&&s!==void 0?s:n.key,children:n.children,tag:n.tag,disabled:n.disabled,eenv:t.env,"popper-class":t.popperClass,"tag-class":t.tagClass}})})],2):i("el-menu-item",{attrs:{index:t.index,disabled:t.isDisabled(t.disabled)}},[t.icon?i("i",{class:t.icon}):t._e(),t._v(" "+t._s(t.name)+" "),t.tag?i("el-tag",{staticClass:"kl-sidebar-item_tag",class:t.tagClass,attrs:{type:t.parseTag(t.tag,"type"),effect:"dark"}},[t._v(t._s(t.parseTag(t.tag,"label")))]):t._e()],1)],1)},Da=[],yu="";const $i={};var Ma=he(ve,Fa,Da,!1,Oa,null,null,null);function Oa(e){for(let t in $i)this[t]=$i[t]}var br=function(){return Ma.exports}(),Ta=Object.defineProperty,Ca=Object.getOwnPropertyDescriptor,$e=(e,t,r,i)=>{for(var n=i>1?void 0:i?Ca(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Ta(t,r,n),n};let ye=class extends Oe(g.KlBaseMixin){handleSelect(e){}};$e([v({default:""})],ye.prototype,"defaultActive",2),$e([v({default:!1})],ye.prototype,"collapse",2),$e([v({default:!1})],ye.prototype,"uniqueOpened",2),$e([v({default:!1})],ye.prototype,"router",2),$e([v({default:void 0})],ye.prototype,"data",2),$e([v({default:""})],ye.prototype,"popperClass",2),$e([v({default:""})],ye.prototype,"tagClass",2),$e([pe("select")],ye.prototype,"handleSelect",1),ye=$e([ae({name:"KlSidebar",components:{SidebarItem:br}})],ye);var Aa=function(){var e,t=this,r=t.$createElement,i=t._self._c||r;return i("div",{staticClass:"kl-sidebar"},[t.$slots.header?i("div",{staticClass:"header"},[t._t("header")],2):t._e(),i("perfect-scrollbar",{staticStyle:{flex:"1"},attrs:{options:{suppressScrollX:!0}}},[i("el-menu",{attrs:{mode:"vertical","default-active":t.defaultActive,collapse:t.collapse,"unique-opened":t.uniqueOpened,router:t.router},on:{select:t.handleSelect}},t._l((e=t.data)!==null&&e!==void 0?e:[],function(n,l){var s;return i("sidebar-item",{key:l,attrs:{name:n.name,icon:n.icon,children:n.children,index:(s=n.route)!==null&&s!==void 0?s:n.key,tag:n.tag,"popper-class":t.popperClass,"tag-class":t.tagClass,env:t.env}})}),1)],1),t.$slots.footer?i("div",{staticClass:"footer"},[t._t("footer")],2):t._e()],1)},Pa=[],_u="";const Fi={};var ka=he(ye,Aa,Pa,!1,Ba,null,null,null);function Ba(e){for(let t in Fi)this[t]=Fi[t]}var Di=function(){return ka.exports}(),gu="",La=Object.defineProperty,Ia=Object.getOwnPropertyDescriptor,z=(e,t,r,i)=>{for(var n=i>1?void 0:i?Ia(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&La(t,r,n),n};let K=class extends Ee.default{constructor(){super(...arguments),this.times=0,this.values={},this.rules={username:[{required:!0,message:this.usernameMessage}],password:[{required:!0,message:this.passwordMessage}]}}submit(e,t){}handleSubmit(){if(this.times>0){_i.Message.warning(Me(this.waitMessage,{step:this.times}));return}this.$refs.theForm.validate(t=>{if(t)this.submit(this.values,this.callback);else return!1})}callback(e,t){e?this.sendWait(this.waitStep):this.$refs.theForm.resetFields()}sendWait(e){this.times=e;let t=setInterval(()=>{this.times--,this.times<=0&&(clearTimeout(t),t=null)},1e3)}};z([v({default:!1})],K.prototype,"loading",2),z([v({default:"\u7528\u6237\u540D"})],K.prototype,"usernameLabel",2),z([v({default:"\u7528\u6237\u540D"})],K.prototype,"usernamePlaceholder",2),z([v({default:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"})],K.prototype,"usernameMessage",2),z([v({default:"\u5BC6\u7801"})],K.prototype,"passwordLabel",2),z([v({default:"\u5BC6\u7801"})],K.prototype,"passwordPlaceholder",2),z([v({default:"\u8BF7\u8F93\u5165\u5BC6\u7801"})],K.prototype,"passwordMessage",2),z([v({default:"\u767B \u5F55"})],K.prototype,"submitName",2),z([v({default:"primary"})],K.prototype,"buttonType",2),z([v({default:"\u5176\u4ED6\u65B9\u5F0F"})],K.prototype,"thirdpartyLoginText",2),z([v({default:!1})],K.prototype,"thirdpartyLogin",2),z([v({default:!1})],K.prototype,"qrcodeLogin",2),z([v({default:5})],K.prototype,"waitStep",2),z([v({default:"\u8BF7\u5728 {{step}} \u79D2\u540E\u518D\u505A\u63D0\u4EA4"})],K.prototype,"waitMessage",2),z([Y()],K.prototype,"times",2),z([Y()],K.prototype,"values",2),z([Y()],K.prototype,"rules",2),z([pe("submit")],K.prototype,"submit",1),K=z([ae({name:"KlLoginForm"})],K);var ja=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"landing-body",style:e.qrcodeLogin?"padding: 40px 0 60px 0":""},[e.qrcodeLogin?[r("div",{staticClass:"protocol"},[e._t("protocol")],2),r("div",{staticClass:"qr-method"},[e._t("qrcode")],2)]:e._e(),r("div",{staticClass:"wrapper"},[r("el-form",{ref:"theForm",attrs:{model:e.values,rules:e.rules,"label-position":"top","hide-required-asterisk":""},nativeOn:{submit:function(i){return i.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[r("el-form-item",{staticClass:"h-96px",attrs:{prop:"username",rules:e.rules.username,label:e.usernameLabel}},[r("el-input",{attrs:{placeholder:e.usernamePlaceholder},model:{value:e.values.username,callback:function(i){e.$set(e.values,"username",i)},expression:"values.username"}})],1),r("el-form-item",{staticClass:"h-96px",attrs:{prop:"password",rules:e.rules.password,label:e.passwordLabel}},[r("el-input",{attrs:{type:"password",placeholder:e.passwordPlaceholder},model:{value:e.values.password,callback:function(i){e.$set(e.values,"password",i)},expression:"values.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:e.buttonType,"native-type":"submit",loading:e.loading}},[e._v(e._s(e.submitName))]),r("p",{staticClass:"service-terms"},[e._t("service-terms")],2)],1)],1),e.thirdpartyLogin?r("div",{staticClass:"third-party-login-wrap"},[r("div",{staticClass:"third-party-login-text"},[e._v(e._s(e.thirdpartyLoginText))]),r("div",{staticClass:"third-party-login"},[e._t("third-party-login")],2)]):e._e()],1)],2)},Na=[],mu="";const Mi={};var Ua=he(K,ja,Na,!1,qa,null,null,null);function qa(e){for(let t in Mi)this[t]=Mi[t]}var Oi=function(){return Ua.exports}(),Wa=Object.defineProperty,Ka=Object.getOwnPropertyDescriptor,Ti=(e,t,r,i)=>{for(var n=i>1?void 0:i?Ka(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Wa(t,r,n),n};let Gt=class extends Ee.default{};Ti([v({default:void 0})],Gt.prototype,"title",2),Gt=Ti([ae({name:"KlQrcode"})],Gt);var Ha=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"next-loading-wrap"},[e.title?r("div",{staticClass:"qrlogin-title"},[e._v(e._s(e.title))]):e._e(),r("div",{staticClass:"qrcode-wrap"},[e._t("default")],2),r("div",{staticClass:"qrcode-text"},[e._t("description")],2)])},Va=[],bu="";const Ci={};var za=he(Gt,Ha,Va,!1,Ya,null,null,null);function Ya(e){for(let t in Ci)this[t]=Ci[t]}var Ai=function(){return za.exports}(),Ga=Object.defineProperty,Xa=Object.getOwnPropertyDescriptor,L=(e,t,r,i)=>{for(var n=i>1?void 0:i?Xa(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Ga(t,r,n),n};let P=class extends Oe(g.KlBaseMixin){constructor(){super(...arguments),this.values="",this.style={},this.propData=[],this.filterMethod=null,this.filter={},this.propKey="value",this.merge=b.merge}update(e){}change(e,t){}getData(e,t){}onValueChange(e,t){e!==t&&(this.values=this.getValue(e))}onValuesChange(e,t){e!==t&&(this.update(e),this.change(e,t))}onWidthChange(e,t){e!==t&&this.updateStyle({width:this.toStyleSize(this.width)})}getValue(e){let t=Ne.default({$regex:/transfer|checkbox|datanode/i})(this.type)?[]:e;return e!=null?e:t}updateStyle(e){this.style=b.pickBy({...this.style,...e},t=>t!==void 0)}toProps(e){var r,i,n;let t=b.merge(this.props,{[e]:!((r=this.props)!=null&&r.value)||((i=this.props)==null?void 0:i.value)==e?"value":(n=this.props)==null?void 0:n.value});return(!e||e!=="value")&&b.unset(t,"value"),t}};L([v({default:"input"})],P.prototype,"type",2),L([v()],P.prototype,"width",2),L([v({default:void 0})],P.prototype,"placeholder",2),L([v({default:!1})],P.prototype,"disabled",2),L([v({default:!1})],P.prototype,"readonly",2),L([v({default:void 0})],P.prototype,"size",2),L([v({default:void 0})],P.prototype,"options",2),L([v({default:void 0})],P.prototype,"data",2),L([v({default:void 0})],P.prototype,"props",2),L([v({default:void 0})],P.prototype,"format",2),L([v({default:void 0})],P.prototype,"valueFormat",2),L([v({default:void 0})],P.prototype,"pickerOptions",2),L([v({default:void 0})],P.prototype,"requestOptions",2),L([Y()],P.prototype,"values",2),L([Y()],P.prototype,"style",2),L([Y()],P.prototype,"propData",2),L([Y()],P.prototype,"filterMethod",2),L([Y()],P.prototype,"filter",2),L([Y()],P.prototype,"propKey",2),L([wi("update")],P.prototype,"value",2),L([pe("update")],P.prototype,"update",1),L([pe("change")],P.prototype,"change",1),L([pe("get-data")],P.prototype,"getData",1),L([Se("value")],P.prototype,"onValueChange",1),L([Se("values")],P.prototype,"onValuesChange",1),L([Se("width")],P.prototype,"onWidthChange",1),P=L([ae({name:"KlFormItem",created(){var t,r,i;["transfer"].includes(this.type)&&(this.propKey="key"),this.propData=(r=(t=this.data)==null?void 0:t.map(ot(this.props)))!=null?r:[],this.requestOptions&&this.getData(this.requestOptions,n=>{var l;this.propData=(l=n==null?void 0:n.map(ot(this.props)))!=null?l:[]}),this.values=this.getValue(this.value),this.updateStyle({width:this.toStyleSize(this.width)});let{filterMethod:e}=(i=this.options)!=null?i:{};if(e){let n=e;if(b.isString(e))try{n=Ue.default.load(e)}catch(l){l instanceof Error&&console.error(l.message)}b.isFunction(n)&&(this.filterMethod=n)}}})],P);var Ja=function(){var e,t,r,i,n,l,s,u,h,m,w,E,S,R,$,C,N,q,ge,xe,A,ne,Be,Le,Tt,Ct,At,Pt,kt,Bt,lt,st,Lt,It,jt,Nt,Ut,W,J,ut,ft,dt,qt,Wt,Ve,Kt,Ht,ct,Ie,le,ze,Vt,f,a,o,c,p,y,_,M,T,k,V,I,je,pt,ht,ti,ri,ii,ni,ai,oi,li,si,ui,fi,di,ci,d=this,du=d.$createElement,B=d._self._c||du;return d.type=="password"?B("el-input",{style:d.style,attrs:{type:"password",placeholder:d.placeholder,disabled:d.disabled,clearable:(e=d.options)===null||e===void 0?void 0:e.clearable,minlength:(t=d.options)===null||t===void 0?void 0:t.minlength,maxlength:(r=d.options)===null||r===void 0?void 0:r.maxlength,"show-password":(i=d.options)===null||i===void 0?void 0:i.showPassword,size:d.size,readonly:d.readonly},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}}):d.type=="input-number"?B("el-input-number",{style:d.style,attrs:{placeholder:d.placeholder,disabled:d.disabled,min:(n=d.options)===null||n===void 0?void 0:n.min,max:(l=d.options)===null||l===void 0?void 0:l.max,step:(s=d.options)===null||s===void 0?void 0:s.step,precision:(u=d.options)===null||u===void 0?void 0:u.precision,"step-strictly":(h=d.options)===null||h===void 0?void 0:h.stepStrictly,controls:(m=d.options)===null||m===void 0?void 0:m.controls,"controls-position":(w=d.options)===null||w===void 0?void 0:w.controlsPosition,label:(E=d.options)===null||E===void 0?void 0:E.label,size:d.size,readonly:d.readonly},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}}):d.type=="textarea"?B("el-input",{style:d.style,attrs:{type:"textarea",placeholder:d.placeholder,disabled:d.disabled,clearable:(S=d.options)===null||S===void 0?void 0:S.clearable,minlength:(R=d.options)===null||R===void 0?void 0:R.minlength,maxlength:($=d.options)===null||$===void 0?void 0:$.maxlength,"show-word-limit":(C=d.options)===null||C===void 0?void 0:C.showWordLimit,rows:(N=d.options)===null||N===void 0?void 0:N.rows,autosize:(q=d.options)===null||q===void 0?void 0:q.autosize,resize:(ge=d.options)===null||ge===void 0?void 0:ge.resize,readonly:d.readonly},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}}):/^(radio)/.test(d.type)?B("el-radio-group",{style:d.style,attrs:{disabled:d.disabled,size:d.size},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}},[/(button)$/.test(d.type)?d._l(d.propData,function(x,me){return B("el-radio-button",{key:me,attrs:{label:x.value,disabled:x.disabled}},[d._v(" "+d._s(d.toFormatString(d.props)(x,d.format))+" ")])}):d._l(d.propData,function(x,me){return B("el-radio",{key:me,attrs:{label:x.value,disabled:x.disabled}},[d._v(" "+d._s(d.toFormatString(d.props)(x,d.format))+" ")])})],2):/^(checkbox)/.test(d.type)?B("el-checkbox-group",{style:d.style,attrs:{disabled:d.disabled,size:d.size},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}},[/(button)$/.test(d.type)?d._l(d.propData,function(x,me){return B("el-checkbox-button",{key:me,attrs:{label:x.value,disabled:x.disabled}},[d._v(" "+d._s(d.toFormatString(d.props)(x,d.format))+" ")])}):d._l(d.propData,function(x,me){return B("el-checkbox",{key:me,attrs:{label:x.value,disabled:x.disabled}},[d._v(" "+d._s(d.toFormatString(d.props)(x,d.format))+" ")])})],2):d.type=="select"?B("el-select",{style:d.style,attrs:{disabled:d.disabled,size:d.size,placeholder:d.placeholder,clearable:(xe=d.options)===null||xe===void 0?void 0:xe.clearable,filterable:(A=d.options)===null||A===void 0?void 0:A.filterable,multiple:(ne=d.options)===null||ne===void 0?void 0:ne.multiple,"multiple-limit":(Be=d.options)===null||Be===void 0?void 0:Be.multipleLimit,"allow-create":(Le=d.options)===null||Le===void 0?void 0:Le.allowCreate,"popper-class":(Tt=d.options)===null||Tt===void 0?void 0:Tt.popperClass,"collapse-tags":""},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}},[d._l(d.propData,function(x,me){var pi,hi;return["children"in x?B("el-option-group",{key:x.label,attrs:{label:x.label}},d._l(x.children,function(Ye,cu){var vi,yi;return B("el-option",{key:cu,attrs:{label:d.toFormatString(d.props)(Ye,d.format),value:Ye==null?void 0:Ye.value,disabled:Ye==null?void 0:Ye.disabled}},[(vi=d.options)!==null&&vi!==void 0&&vi.template?B("div",{domProps:{innerHTML:d._s(d.toFormatString(d.props)(x,(yi=d.options)===null||yi===void 0?void 0:yi.template))}}):d._e()])}),1):B("el-option",{key:me,attrs:{label:d.toFormatString(d.props)(x,d.format),value:x.value,disabled:x==null?void 0:x.disabled}},[(pi=d.options)!==null&&pi!==void 0&&pi.template?B("div",{domProps:{innerHTML:d._s(d.toFormatString(d.props)(x,(hi=d.options)===null||hi===void 0?void 0:hi.template))}}):d._e()])]})],2):["year","years","month","months","date","dates","week","datetime"].includes(d.type)?B("el-date-picker",{style:d.style,attrs:{type:d.type,placeholder:d.placeholder,disabled:d.disabled,format:d.format,"value-format":d.valueFormat,size:d.size,"picker-options":d.pickerOptions,align:(Ct=d.options)===null||Ct===void 0?void 0:Ct.align,clearable:(At=d.options)===null||At===void 0?void 0:At.clearable,editable:(Pt=d.options)===null||Pt===void 0?void 0:Pt.editable,"default-time":(kt=d.options)===null||kt===void 0?void 0:kt.defaultTime,readonly:d.readonly},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}}):["datetimerange","daterange","monthrange"].includes(d.type)?B("el-date-picker",{style:d.style,attrs:{type:d.type,"start-placeholder":(Bt=d.placeholder)===null||Bt===void 0?void 0:Bt[0],"end-placeholder":(lt=d.placeholder)===null||lt===void 0?void 0:lt[1],disabled:d.disabled,format:d.format,"value-format":d.valueFormat,size:d.size,"picker-options":d.pickerOptions,align:(st=d.options)===null||st===void 0?void 0:st.align,clearable:(Lt=d.options)===null||Lt===void 0?void 0:Lt.clearable,editable:(It=d.options)===null||It===void 0?void 0:It.editable,"range-separator":(jt=d.options)===null||jt===void 0?void 0:jt.rangeSeparator,"default-time":(Nt=d.options)===null||Nt===void 0?void 0:Nt.defaultTime,readonly:d.readonly},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}}):d.type=="time"?B("el-time-picker",{style:d.style,attrs:{placeholder:d.placeholder,disabled:d.disabled,"value-format":d.valueFormat,size:d.size,"picker-options":d.pickerOptions,align:(Ut=d.options)===null||Ut===void 0?void 0:Ut.align,clearable:(W=d.options)===null||W===void 0?void 0:W.clearable,editable:(J=d.options)===null||J===void 0?void 0:J.editable,"arrow-control":(ut=d.options)===null||ut===void 0?void 0:ut.arrowControl,readonly:d.readonly},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}}):d.type=="timerange"?B("el-time-picker",{style:d.style,attrs:{"is-range":"","start-placeholder":(ft=d.placeholder)===null||ft===void 0?void 0:ft[0],"end-placeholder":(dt=d.placeholder)===null||dt===void 0?void 0:dt[1],disabled:d.disabled,"value-format":d.valueFormat,size:d.size,"picker-options":d.pickerOptions,align:(qt=d.options)===null||qt===void 0?void 0:qt.align,clearable:(Wt=d.options)===null||Wt===void 0?void 0:Wt.clearable,editable:(Ve=d.options)===null||Ve===void 0?void 0:Ve.editable,"arrow-control":(Kt=d.options)===null||Kt===void 0?void 0:Kt.arrowControl,readonly:d.readonly},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}}):d.type=="switch"?B("el-switch",{attrs:{disabled:d.disabled,"active-text":(Ht=d.options)===null||Ht===void 0?void 0:Ht.activeText,"inactive-text":(ct=d.options)===null||ct===void 0?void 0:ct.inactiveText,"active-color":(Ie=d.options)===null||Ie===void 0?void 0:Ie.activeColor,"inactive-color":(le=d.options)===null||le===void 0?void 0:le.inactiveColor,"active-value":(ze=d.options)===null||ze===void 0?void 0:ze.activeValue,"inactive-value":(Vt=d.options)===null||Vt===void 0?void 0:Vt.inactiveValue,"active-icon-class":(f=d.options)===null||f===void 0?void 0:f.activeIconClass,"inactive-icon-class":(a=d.options)===null||a===void 0?void 0:a.inactiveIconClass},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}}):d.type=="slider"?B("el-slider",{attrs:{disabled:d.disabled,min:(o=d.options)===null||o===void 0?void 0:o.min,max:(c=d.options)===null||c===void 0?void 0:c.max,step:(p=d.options)===null||p===void 0?void 0:p.step,range:(y=d.options)===null||y===void 0?void 0:y.range,marks:(_=d.options)===null||_===void 0?void 0:_.marks,"show-stops":(M=d.options)===null||M===void 0?void 0:M.showStops,"show-tooltip":(T=d.options)===null||T===void 0?void 0:T.showTooltip,vertical:(k=d.options)===null||k===void 0?void 0:k.vertical},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}}):d.type=="transfer"?B("el-form",{attrs:{disabled:d.disabled}},[B("el-transfer",{attrs:{data:d.propData,props:d.toProps("key"),filterable:(V=d.options)===null||V===void 0?void 0:V.filterable,"filter-method":d.filterMethod,"filter-placeholder":(I=d.options)===null||I===void 0?void 0:I.filterPlaceholder,titles:(je=d.options)===null||je===void 0?void 0:je.titles,"button-texts":(pt=d.options)===null||pt===void 0?void 0:pt.buttonTexts,"target-order":(ht=d.options)===null||ht===void 0?void 0:ht.targetOrder,"left-default-checked":(ti=d.options)===null||ti===void 0?void 0:ti.leftDefaultChecked,"right-default-checked":(ri=d.options)===null||ri===void 0?void 0:ri.rightDefaultChecked},scopedSlots:d._u([{key:"default",fn:function(x){var me=x.option;return B("span",{},[d._v(d._s(d.toFormatString(d.props)(me,d.format)))])}}]),model:{value:d.values,callback:function(x){d.values=x},expression:"values"}})],1):d.type=="cascader"?B("el-cascader",{style:d.style,attrs:{placeholder:d.placeholder,disabled:d.disabled,options:d.propData,props:d.props,clearable:(ii=d.options)===null||ii===void 0?void 0:ii.clearable,filterable:(ni=d.options)===null||ni===void 0?void 0:ni.filterable,"filter-method":d.filterMethod,"show-all-levels":(ai=d.options)===null||ai===void 0?void 0:ai.showAllLevels,separator:(oi=d.options)===null||oi===void 0?void 0:oi.separator,size:d.size,"collapse-tags":""},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}}):d.type=="cascader-panel"?B("div",{style:Object.assign({width:"fit-content"},d.disabled?{cursor:"not-allowed",opacity:.5}:null)},[B("el-cascader-panel",{style:Object.assign({display:"inline-flex"},d.style,{pointerEvents:d.disabled?"none":"inherit"}),attrs:{options:d.propData,props:d.props,size:d.size},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}})],1):B("el-input",{style:d.style,attrs:{placeholder:d.placeholder,disabled:d.disabled,clearable:(li=d.options)===null||li===void 0?void 0:li.clearable,minlength:(si=d.options)===null||si===void 0?void 0:si.minlength,maxlength:(ui=d.options)===null||ui===void 0?void 0:ui.maxlength,"show-word-limit":(fi=d.options)===null||fi===void 0?void 0:fi.showWordLimit,"prefix-icon":(di=d.options)===null||di===void 0?void 0:di.prefixIcon,"suffix-icon":(ci=d.options)===null||ci===void 0?void 0:ci.suffixIcon,size:d.size,readonly:d.readonly},model:{value:d.values,callback:function(x){d.values=x},expression:"values"}})},Qa=[],wu="";const Pi={};var Za=he(P,Ja,Qa,!1,eo,null,null,null);function eo(e){for(let t in Pi)this[t]=Pi[t]}var wr=function(){return Za.exports}(),to=Object.defineProperty,ro=Object.getOwnPropertyDescriptor,j=(e,t,r,i)=>{for(var n=i>1?void 0:i?ro(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&to(t,r,n),n};g.KlFormMixin=class extends Oe(g.KlBaseMixin){submit(e,t,r){}},j([v({default:!1})],g.KlFormMixin.prototype,"loading",2),j([v({default:!1})],g.KlFormMixin.prototype,"inline",2),j([v({default:!1})],g.KlFormMixin.prototype,"border",2),j([v()],g.KlFormMixin.prototype,"columns",2),j([v()],g.KlFormMixin.prototype,"rules",2),j([v({default:void 0})],g.KlFormMixin.prototype,"defaultValues",2),j([v({default:120})],g.KlFormMixin.prototype,"labelWidth",2),j([v({default:"right"})],g.KlFormMixin.prototype,"labelPosition",2),j([v({default:""})],g.KlFormMixin.prototype,"labelSuffix",2),j([v()],g.KlFormMixin.prototype,"validate",2),j([v({default:"\u63D0 \u4EA4"})],g.KlFormMixin.prototype,"submitName",2),j([v()],g.KlFormMixin.prototype,"options",2),j([v()],g.KlFormMixin.prototype,"uniqueMethod",2),j([v({default:!1})],g.KlFormMixin.prototype,"hideRequiredAsterisk",2),j([v({default:!1})],g.KlFormMixin.prototype,"inlineMessage",2),j([v({default:!1})],g.KlFormMixin.prototype,"statusIcon",2),j([v({default:!1})],g.KlFormMixin.prototype,"disabled",2),j([v()],g.KlFormMixin.prototype,"mergeField",2),j([v()],g.KlFormMixin.prototype,"exclude",2),j([v()],g.KlFormMixin.prototype,"valueFormat",2),j([v()],g.KlFormMixin.prototype,"action",2),j([pe("submit")],g.KlFormMixin.prototype,"submit",1),g.KlFormMixin=j([ae({name:"KlFormMixin"})],g.KlFormMixin);var fe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function io(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var Q={},Fe={exports:{}};typeof Object.create=="function"?Fe.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Fe.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}};var gt={exports:{}},mt={},Xt={};Xt.byteLength=oo,Xt.toByteArray=so,Xt.fromByteArray=co;for(var be=[],de=[],no=typeof Uint8Array!="undefined"?Uint8Array:Array,xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ge=0,ao=xr.length;Ge<ao;++Ge)be[Ge]=xr[Ge],de[xr.charCodeAt(Ge)]=Ge;de["-".charCodeAt(0)]=62,de["_".charCodeAt(0)]=63;function ki(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function oo(e){var t=ki(e),r=t[0],i=t[1];return(r+i)*3/4-i}function lo(e,t,r){return(t+r)*3/4-r}function so(e){var t,r=ki(e),i=r[0],n=r[1],l=new no(lo(e,i,n)),s=0,u=n>0?i-4:i,h;for(h=0;h<u;h+=4)t=de[e.charCodeAt(h)]<<18|de[e.charCodeAt(h+1)]<<12|de[e.charCodeAt(h+2)]<<6|de[e.charCodeAt(h+3)],l[s++]=t>>16&255,l[s++]=t>>8&255,l[s++]=t&255;return n===2&&(t=de[e.charCodeAt(h)]<<2|de[e.charCodeAt(h+1)]>>4,l[s++]=t&255),n===1&&(t=de[e.charCodeAt(h)]<<10|de[e.charCodeAt(h+1)]<<4|de[e.charCodeAt(h+2)]>>2,l[s++]=t>>8&255,l[s++]=t&255),l}function uo(e){return be[e>>18&63]+be[e>>12&63]+be[e>>6&63]+be[e&63]}function fo(e,t,r){for(var i,n=[],l=t;l<r;l+=3)i=(e[l]<<16&16711680)+(e[l+1]<<8&65280)+(e[l+2]&255),n.push(uo(i));return n.join("")}function co(e){for(var t,r=e.length,i=r%3,n=[],l=16383,s=0,u=r-i;s<u;s+=l)n.push(fo(e,s,s+l>u?u:s+l));return i===1?(t=e[r-1],n.push(be[t>>2]+be[t<<4&63]+"==")):i===2&&(t=(e[r-2]<<8)+e[r-1],n.push(be[t>>10]+be[t>>4&63]+be[t<<2&63]+"=")),n.join("")}var Er={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Er.read=function(e,t,r,i,n){var l,s,u=n*8-i-1,h=(1<<u)-1,m=h>>1,w=-7,E=r?n-1:0,S=r?-1:1,R=e[t+E];for(E+=S,l=R&(1<<-w)-1,R>>=-w,w+=u;w>0;l=l*256+e[t+E],E+=S,w-=8);for(s=l&(1<<-w)-1,l>>=-w,w+=i;w>0;s=s*256+e[t+E],E+=S,w-=8);if(l===0)l=1-m;else{if(l===h)return s?NaN:(R?-1:1)*(1/0);s=s+Math.pow(2,i),l=l-m}return(R?-1:1)*s*Math.pow(2,l-i)},Er.write=function(e,t,r,i,n,l){var s,u,h,m=l*8-n-1,w=(1<<m)-1,E=w>>1,S=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=i?0:l-1,$=i?1:-1,C=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=w):(s=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-s))<1&&(s--,h*=2),s+E>=1?t+=S/h:t+=S*Math.pow(2,1-E),t*h>=2&&(s++,h/=2),s+E>=w?(u=0,s=w):s+E>=1?(u=(t*h-1)*Math.pow(2,n),s=s+E):(u=t*Math.pow(2,E-1)*Math.pow(2,n),s=0));n>=8;e[r+R]=u&255,R+=$,u/=256,n-=8);for(s=s<<n|u,m+=n;m>0;e[r+R]=s&255,R+=$,s/=256,m-=8);e[r+R-$]|=C*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Xt,r=Er,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=ge,e.INSPECT_MAX_BYTES=50;var n=2147483647;e.kMaxLength=n,u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{var f=new Uint8Array(1),a={foo:function(){return 42}};return Object.setPrototypeOf(a,Uint8Array.prototype),Object.setPrototypeOf(f,a),f.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function s(f){if(f>n)throw new RangeError('The value "'+f+'" is invalid for option "size"');var a=new Uint8Array(f);return Object.setPrototypeOf(a,u.prototype),a}function u(f,a,o){if(typeof f=="number"){if(typeof a=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(f)}return h(f,a,o)}u.poolSize=8192;function h(f,a,o){if(typeof f=="string")return S(f,a);if(ArrayBuffer.isView(f))return $(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(le(f,ArrayBuffer)||f&&le(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(le(f,SharedArrayBuffer)||f&&le(f.buffer,SharedArrayBuffer)))return C(f,a,o);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var c=f.valueOf&&f.valueOf();if(c!=null&&c!==f)return u.from(c,a,o);var p=N(f);if(p)return p;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),a,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,a,o){return h(f,a,o)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function m(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function w(f,a,o){return m(f),f<=0?s(f):a!==void 0?typeof o=="string"?s(f).fill(a,o):s(f).fill(a):s(f)}u.alloc=function(f,a,o){return w(f,a,o)};function E(f){return m(f),s(f<0?0:q(f)|0)}u.allocUnsafe=function(f){return E(f)},u.allocUnsafeSlow=function(f){return E(f)};function S(f,a){if((typeof a!="string"||a==="")&&(a="utf8"),!u.isEncoding(a))throw new TypeError("Unknown encoding: "+a);var o=xe(f,a)|0,c=s(o),p=c.write(f,a);return p!==o&&(c=c.slice(0,p)),c}function R(f){for(var a=f.length<0?0:q(f.length)|0,o=s(a),c=0;c<a;c+=1)o[c]=f[c]&255;return o}function $(f){if(le(f,Uint8Array)){var a=new Uint8Array(f);return C(a.buffer,a.byteOffset,a.byteLength)}return R(f)}function C(f,a,o){if(a<0||f.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<a+(o||0))throw new RangeError('"length" is outside of buffer bounds');var c;return a===void 0&&o===void 0?c=new Uint8Array(f):o===void 0?c=new Uint8Array(f,a):c=new Uint8Array(f,a,o),Object.setPrototypeOf(c,u.prototype),c}function N(f){if(u.isBuffer(f)){var a=q(f.length)|0,o=s(a);return o.length===0||f.copy(o,0,0,a),o}if(f.length!==void 0)return typeof f.length!="number"||ze(f.length)?s(0):R(f);if(f.type==="Buffer"&&Array.isArray(f.data))return R(f.data)}function q(f){if(f>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return f|0}function ge(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==u.prototype},u.compare=function(a,o){if(le(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),le(o,Uint8Array)&&(o=u.from(o,o.offset,o.byteLength)),!u.isBuffer(a)||!u.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===o)return 0;for(var c=a.length,p=o.length,y=0,_=Math.min(c,p);y<_;++y)if(a[y]!==o[y]){c=a[y],p=o[y];break}return c<p?-1:p<c?1:0},u.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(a,o){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return u.alloc(0);var c;if(o===void 0)for(o=0,c=0;c<a.length;++c)o+=a[c].length;var p=u.allocUnsafe(o),y=0;for(c=0;c<a.length;++c){var _=a[c];if(le(_,Uint8Array))y+_.length>p.length?u.from(_).copy(p,y):Uint8Array.prototype.set.call(p,_,y);else if(u.isBuffer(_))_.copy(p,y);else throw new TypeError('"list" argument must be an Array of Buffers');y+=_.length}return p};function xe(f,a){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||le(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var o=f.length,c=arguments.length>2&&arguments[2]===!0;if(!c&&o===0)return 0;for(var p=!1;;)switch(a){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":return Ve(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o*2;case"hex":return o>>>1;case"base64":return ct(f).length;default:if(p)return c?-1:Ve(f).length;a=(""+a).toLowerCase(),p=!0}}u.byteLength=xe;function A(f,a,o){var c=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((o===void 0||o>this.length)&&(o=this.length),o<=0)||(o>>>=0,a>>>=0,o<=a))return"";for(f||(f="utf8");;)switch(f){case"hex":return Nt(this,a,o);case"utf8":case"utf-8":return lt(this,a,o);case"ascii":return It(this,a,o);case"latin1":case"binary":return jt(this,a,o);case"base64":return Bt(this,a,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ut(this,a,o);default:if(c)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),c=!0}}u.prototype._isBuffer=!0;function ne(f,a,o){var c=f[a];f[a]=f[o],f[o]=c}u.prototype.swap16=function(){var a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<a;o+=2)ne(this,o,o+1);return this},u.prototype.swap32=function(){var a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<a;o+=4)ne(this,o,o+3),ne(this,o+1,o+2);return this},u.prototype.swap64=function(){var a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<a;o+=8)ne(this,o,o+7),ne(this,o+1,o+6),ne(this,o+2,o+5),ne(this,o+3,o+4);return this},u.prototype.toString=function(){var a=this.length;return a===0?"":arguments.length===0?lt(this,0,a):A.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(a){if(!u.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:u.compare(this,a)===0},u.prototype.inspect=function(){var a="",o=e.INSPECT_MAX_BYTES;return a=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(a+=" ... "),"<Buffer "+a+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(a,o,c,p,y){if(le(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(o===void 0&&(o=0),c===void 0&&(c=a?a.length:0),p===void 0&&(p=0),y===void 0&&(y=this.length),o<0||c>a.length||p<0||y>this.length)throw new RangeError("out of range index");if(p>=y&&o>=c)return 0;if(p>=y)return-1;if(o>=c)return 1;if(o>>>=0,c>>>=0,p>>>=0,y>>>=0,this===a)return 0;for(var _=y-p,M=c-o,T=Math.min(_,M),k=this.slice(p,y),V=a.slice(o,c),I=0;I<T;++I)if(k[I]!==V[I]){_=k[I],M=V[I];break}return _<M?-1:M<_?1:0};function Be(f,a,o,c,p){if(f.length===0)return-1;if(typeof o=="string"?(c=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,ze(o)&&(o=p?0:f.length-1),o<0&&(o=f.length+o),o>=f.length){if(p)return-1;o=f.length-1}else if(o<0)if(p)o=0;else return-1;if(typeof a=="string"&&(a=u.from(a,c)),u.isBuffer(a))return a.length===0?-1:Le(f,a,o,c,p);if(typeof a=="number")return a=a&255,typeof Uint8Array.prototype.indexOf=="function"?p?Uint8Array.prototype.indexOf.call(f,a,o):Uint8Array.prototype.lastIndexOf.call(f,a,o):Le(f,[a],o,c,p);throw new TypeError("val must be string, number or Buffer")}function Le(f,a,o,c,p){var y=1,_=f.length,M=a.length;if(c!==void 0&&(c=String(c).toLowerCase(),c==="ucs2"||c==="ucs-2"||c==="utf16le"||c==="utf-16le")){if(f.length<2||a.length<2)return-1;y=2,_/=2,M/=2,o/=2}function T(pt,ht){return y===1?pt[ht]:pt.readUInt16BE(ht*y)}var k;if(p){var V=-1;for(k=o;k<_;k++)if(T(f,k)===T(a,V===-1?0:k-V)){if(V===-1&&(V=k),k-V+1===M)return V*y}else V!==-1&&(k-=k-V),V=-1}else for(o+M>_&&(o=_-M),k=o;k>=0;k--){for(var I=!0,je=0;je<M;je++)if(T(f,k+je)!==T(a,je)){I=!1;break}if(I)return k}return-1}u.prototype.includes=function(a,o,c){return this.indexOf(a,o,c)!==-1},u.prototype.indexOf=function(a,o,c){return Be(this,a,o,c,!0)},u.prototype.lastIndexOf=function(a,o,c){return Be(this,a,o,c,!1)};function Tt(f,a,o,c){o=Number(o)||0;var p=f.length-o;c?(c=Number(c),c>p&&(c=p)):c=p;var y=a.length;c>y/2&&(c=y/2);for(var _=0;_<c;++_){var M=parseInt(a.substr(_*2,2),16);if(ze(M))return _;f[o+_]=M}return _}function Ct(f,a,o,c){return Ie(Ve(a,f.length-o),f,o,c)}function At(f,a,o,c){return Ie(Kt(a),f,o,c)}function Pt(f,a,o,c){return Ie(ct(a),f,o,c)}function kt(f,a,o,c){return Ie(Ht(a,f.length-o),f,o,c)}u.prototype.write=function(a,o,c,p){if(o===void 0)p="utf8",c=this.length,o=0;else if(c===void 0&&typeof o=="string")p=o,c=this.length,o=0;else if(isFinite(o))o=o>>>0,isFinite(c)?(c=c>>>0,p===void 0&&(p="utf8")):(p=c,c=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var y=this.length-o;if((c===void 0||c>y)&&(c=y),a.length>0&&(c<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");for(var _=!1;;)switch(p){case"hex":return Tt(this,a,o,c);case"utf8":case"utf-8":return Ct(this,a,o,c);case"ascii":case"latin1":case"binary":return At(this,a,o,c);case"base64":return Pt(this,a,o,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kt(this,a,o,c);default:if(_)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),_=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Bt(f,a,o){return a===0&&o===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(a,o))}function lt(f,a,o){o=Math.min(f.length,o);for(var c=[],p=a;p<o;){var y=f[p],_=null,M=y>239?4:y>223?3:y>191?2:1;if(p+M<=o){var T,k,V,I;switch(M){case 1:y<128&&(_=y);break;case 2:T=f[p+1],(T&192)===128&&(I=(y&31)<<6|T&63,I>127&&(_=I));break;case 3:T=f[p+1],k=f[p+2],(T&192)===128&&(k&192)===128&&(I=(y&15)<<12|(T&63)<<6|k&63,I>2047&&(I<55296||I>57343)&&(_=I));break;case 4:T=f[p+1],k=f[p+2],V=f[p+3],(T&192)===128&&(k&192)===128&&(V&192)===128&&(I=(y&15)<<18|(T&63)<<12|(k&63)<<6|V&63,I>65535&&I<1114112&&(_=I))}}_===null?(_=65533,M=1):_>65535&&(_-=65536,c.push(_>>>10&1023|55296),_=56320|_&1023),c.push(_),p+=M}return Lt(c)}var st=4096;function Lt(f){var a=f.length;if(a<=st)return String.fromCharCode.apply(String,f);for(var o="",c=0;c<a;)o+=String.fromCharCode.apply(String,f.slice(c,c+=st));return o}function It(f,a,o){var c="";o=Math.min(f.length,o);for(var p=a;p<o;++p)c+=String.fromCharCode(f[p]&127);return c}function jt(f,a,o){var c="";o=Math.min(f.length,o);for(var p=a;p<o;++p)c+=String.fromCharCode(f[p]);return c}function Nt(f,a,o){var c=f.length;(!a||a<0)&&(a=0),(!o||o<0||o>c)&&(o=c);for(var p="",y=a;y<o;++y)p+=Vt[f[y]];return p}function Ut(f,a,o){for(var c=f.slice(a,o),p="",y=0;y<c.length-1;y+=2)p+=String.fromCharCode(c[y]+c[y+1]*256);return p}u.prototype.slice=function(a,o){var c=this.length;a=~~a,o=o===void 0?c:~~o,a<0?(a+=c,a<0&&(a=0)):a>c&&(a=c),o<0?(o+=c,o<0&&(o=0)):o>c&&(o=c),o<a&&(o=a);var p=this.subarray(a,o);return Object.setPrototypeOf(p,u.prototype),p};function W(f,a,o){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+a>o)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(a,o,c){a=a>>>0,o=o>>>0,c||W(a,o,this.length);for(var p=this[a],y=1,_=0;++_<o&&(y*=256);)p+=this[a+_]*y;return p},u.prototype.readUintBE=u.prototype.readUIntBE=function(a,o,c){a=a>>>0,o=o>>>0,c||W(a,o,this.length);for(var p=this[a+--o],y=1;o>0&&(y*=256);)p+=this[a+--o]*y;return p},u.prototype.readUint8=u.prototype.readUInt8=function(a,o){return a=a>>>0,o||W(a,1,this.length),this[a]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(a,o){return a=a>>>0,o||W(a,2,this.length),this[a]|this[a+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(a,o){return a=a>>>0,o||W(a,2,this.length),this[a]<<8|this[a+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(a,o){return a=a>>>0,o||W(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(a,o){return a=a>>>0,o||W(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},u.prototype.readIntLE=function(a,o,c){a=a>>>0,o=o>>>0,c||W(a,o,this.length);for(var p=this[a],y=1,_=0;++_<o&&(y*=256);)p+=this[a+_]*y;return y*=128,p>=y&&(p-=Math.pow(2,8*o)),p},u.prototype.readIntBE=function(a,o,c){a=a>>>0,o=o>>>0,c||W(a,o,this.length);for(var p=o,y=1,_=this[a+--p];p>0&&(y*=256);)_+=this[a+--p]*y;return y*=128,_>=y&&(_-=Math.pow(2,8*o)),_},u.prototype.readInt8=function(a,o){return a=a>>>0,o||W(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},u.prototype.readInt16LE=function(a,o){a=a>>>0,o||W(a,2,this.length);var c=this[a]|this[a+1]<<8;return c&32768?c|4294901760:c},u.prototype.readInt16BE=function(a,o){a=a>>>0,o||W(a,2,this.length);var c=this[a+1]|this[a]<<8;return c&32768?c|4294901760:c},u.prototype.readInt32LE=function(a,o){return a=a>>>0,o||W(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},u.prototype.readInt32BE=function(a,o){return a=a>>>0,o||W(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},u.prototype.readFloatLE=function(a,o){return a=a>>>0,o||W(a,4,this.length),r.read(this,a,!0,23,4)},u.prototype.readFloatBE=function(a,o){return a=a>>>0,o||W(a,4,this.length),r.read(this,a,!1,23,4)},u.prototype.readDoubleLE=function(a,o){return a=a>>>0,o||W(a,8,this.length),r.read(this,a,!0,52,8)},u.prototype.readDoubleBE=function(a,o){return a=a>>>0,o||W(a,8,this.length),r.read(this,a,!1,52,8)};function J(f,a,o,c,p,y){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>p||a<y)throw new RangeError('"value" argument is out of bounds');if(o+c>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(a,o,c,p){if(a=+a,o=o>>>0,c=c>>>0,!p){var y=Math.pow(2,8*c)-1;J(this,a,o,c,y,0)}var _=1,M=0;for(this[o]=a&255;++M<c&&(_*=256);)this[o+M]=a/_&255;return o+c},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(a,o,c,p){if(a=+a,o=o>>>0,c=c>>>0,!p){var y=Math.pow(2,8*c)-1;J(this,a,o,c,y,0)}var _=c-1,M=1;for(this[o+_]=a&255;--_>=0&&(M*=256);)this[o+_]=a/M&255;return o+c},u.prototype.writeUint8=u.prototype.writeUInt8=function(a,o,c){return a=+a,o=o>>>0,c||J(this,a,o,1,255,0),this[o]=a&255,o+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(a,o,c){return a=+a,o=o>>>0,c||J(this,a,o,2,65535,0),this[o]=a&255,this[o+1]=a>>>8,o+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(a,o,c){return a=+a,o=o>>>0,c||J(this,a,o,2,65535,0),this[o]=a>>>8,this[o+1]=a&255,o+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(a,o,c){return a=+a,o=o>>>0,c||J(this,a,o,4,4294967295,0),this[o+3]=a>>>24,this[o+2]=a>>>16,this[o+1]=a>>>8,this[o]=a&255,o+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(a,o,c){return a=+a,o=o>>>0,c||J(this,a,o,4,4294967295,0),this[o]=a>>>24,this[o+1]=a>>>16,this[o+2]=a>>>8,this[o+3]=a&255,o+4},u.prototype.writeIntLE=function(a,o,c,p){if(a=+a,o=o>>>0,!p){var y=Math.pow(2,8*c-1);J(this,a,o,c,y-1,-y)}var _=0,M=1,T=0;for(this[o]=a&255;++_<c&&(M*=256);)a<0&&T===0&&this[o+_-1]!==0&&(T=1),this[o+_]=(a/M>>0)-T&255;return o+c},u.prototype.writeIntBE=function(a,o,c,p){if(a=+a,o=o>>>0,!p){var y=Math.pow(2,8*c-1);J(this,a,o,c,y-1,-y)}var _=c-1,M=1,T=0;for(this[o+_]=a&255;--_>=0&&(M*=256);)a<0&&T===0&&this[o+_+1]!==0&&(T=1),this[o+_]=(a/M>>0)-T&255;return o+c},u.prototype.writeInt8=function(a,o,c){return a=+a,o=o>>>0,c||J(this,a,o,1,127,-128),a<0&&(a=255+a+1),this[o]=a&255,o+1},u.prototype.writeInt16LE=function(a,o,c){return a=+a,o=o>>>0,c||J(this,a,o,2,32767,-32768),this[o]=a&255,this[o+1]=a>>>8,o+2},u.prototype.writeInt16BE=function(a,o,c){return a=+a,o=o>>>0,c||J(this,a,o,2,32767,-32768),this[o]=a>>>8,this[o+1]=a&255,o+2},u.prototype.writeInt32LE=function(a,o,c){return a=+a,o=o>>>0,c||J(this,a,o,4,2147483647,-2147483648),this[o]=a&255,this[o+1]=a>>>8,this[o+2]=a>>>16,this[o+3]=a>>>24,o+4},u.prototype.writeInt32BE=function(a,o,c){return a=+a,o=o>>>0,c||J(this,a,o,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[o]=a>>>24,this[o+1]=a>>>16,this[o+2]=a>>>8,this[o+3]=a&255,o+4};function ut(f,a,o,c,p,y){if(o+c>f.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function ft(f,a,o,c,p){return a=+a,o=o>>>0,p||ut(f,a,o,4),r.write(f,a,o,c,23,4),o+4}u.prototype.writeFloatLE=function(a,o,c){return ft(this,a,o,!0,c)},u.prototype.writeFloatBE=function(a,o,c){return ft(this,a,o,!1,c)};function dt(f,a,o,c,p){return a=+a,o=o>>>0,p||ut(f,a,o,8),r.write(f,a,o,c,52,8),o+8}u.prototype.writeDoubleLE=function(a,o,c){return dt(this,a,o,!0,c)},u.prototype.writeDoubleBE=function(a,o,c){return dt(this,a,o,!1,c)},u.prototype.copy=function(a,o,c,p){if(!u.isBuffer(a))throw new TypeError("argument should be a Buffer");if(c||(c=0),!p&&p!==0&&(p=this.length),o>=a.length&&(o=a.length),o||(o=0),p>0&&p<c&&(p=c),p===c||a.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),a.length-o<p-c&&(p=a.length-o+c);var y=p-c;return this===a&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(o,c,p):Uint8Array.prototype.set.call(a,this.subarray(c,p),o),y},u.prototype.fill=function(a,o,c,p){if(typeof a=="string"){if(typeof o=="string"?(p=o,o=0,c=this.length):typeof c=="string"&&(p=c,c=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!u.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(a.length===1){var y=a.charCodeAt(0);(p==="utf8"&&y<128||p==="latin1")&&(a=y)}}else typeof a=="number"?a=a&255:typeof a=="boolean"&&(a=Number(a));if(o<0||this.length<o||this.length<c)throw new RangeError("Out of range index");if(c<=o)return this;o=o>>>0,c=c===void 0?this.length:c>>>0,a||(a=0);var _;if(typeof a=="number")for(_=o;_<c;++_)this[_]=a;else{var M=u.isBuffer(a)?a:u.from(a,p),T=M.length;if(T===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(_=0;_<c-o;++_)this[_+o]=M[_%T]}return this};var qt=/[^+/0-9A-Za-z-_]/g;function Wt(f){if(f=f.split("=")[0],f=f.trim().replace(qt,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function Ve(f,a){a=a||1/0;for(var o,c=f.length,p=null,y=[],_=0;_<c;++_){if(o=f.charCodeAt(_),o>55295&&o<57344){if(!p){if(o>56319){(a-=3)>-1&&y.push(239,191,189);continue}else if(_+1===c){(a-=3)>-1&&y.push(239,191,189);continue}p=o;continue}if(o<56320){(a-=3)>-1&&y.push(239,191,189),p=o;continue}o=(p-55296<<10|o-56320)+65536}else p&&(a-=3)>-1&&y.push(239,191,189);if(p=null,o<128){if((a-=1)<0)break;y.push(o)}else if(o<2048){if((a-=2)<0)break;y.push(o>>6|192,o&63|128)}else if(o<65536){if((a-=3)<0)break;y.push(o>>12|224,o>>6&63|128,o&63|128)}else if(o<1114112){if((a-=4)<0)break;y.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else throw new Error("Invalid code point")}return y}function Kt(f){for(var a=[],o=0;o<f.length;++o)a.push(f.charCodeAt(o)&255);return a}function Ht(f,a){for(var o,c,p,y=[],_=0;_<f.length&&!((a-=2)<0);++_)o=f.charCodeAt(_),c=o>>8,p=o%256,y.push(p),y.push(c);return y}function ct(f){return t.toByteArray(Wt(f))}function Ie(f,a,o,c){for(var p=0;p<c&&!(p+o>=a.length||p>=f.length);++p)a[p+o]=f[p];return p}function le(f,a){return f instanceof a||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===a.name}function ze(f){return f!==f}var Vt=function(){for(var f="0123456789abcdef",a=new Array(256),o=0;o<16;++o)for(var c=o*16,p=0;p<16;++p)a[c+p]=f[o]+f[p];return a}()})(mt);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=mt,i=r.Buffer;function n(s,u){for(var h in s)u[h]=s[h]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=l);function l(s,u,h){return i(s,u,h)}l.prototype=Object.create(i.prototype),n(i,l),l.from=function(s,u,h){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,u,h)},l.alloc=function(s,u,h){if(typeof s!="number")throw new TypeError("Argument must be a number");var m=i(s);return u!==void 0?typeof h=="string"?m.fill(u,h):m.fill(u):m.fill(0),m},l.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},l.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(gt,gt.exports);var Sr={exports:{}},po={},ho=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"})),Jt=io(ho),Bi=Jt.EventEmitter;function Li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Li(Object(r),!0).forEach(function(i){vo(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Li(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function vo(e,t,r){return t=Ni(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ji(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ni(i.key),i)}}function _o(e,t,r){return t&&ji(e.prototype,t),r&&ji(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ni(e){var t=go(e,"string");return typeof t=="symbol"?t:String(t)}function go(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mo=mt,Qt=mo.Buffer,bo=Jt,Rr=bo.inspect,wo=Rr&&Rr.custom||"inspect";function xo(e,t,r){Qt.prototype.copy.call(e,t,r)}var Eo=function(){function e(){yo(this,e),this.head=null,this.tail=null,this.length=0}return _o(e,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return Qt.alloc(0);for(var i=Qt.allocUnsafe(r>>>0),n=this.head,l=0;n;)xo(n.data,i,l),l+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,l=i.data;for(r-=l.length;i=i.next;){var s=i.data,u=r>s.length?s.length:r;if(u===s.length?l+=s:l+=s.slice(0,r),r-=u,r===0){u===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(u));break}++n}return this.length-=n,l}},{key:"_getBuffer",value:function(r){var i=Qt.allocUnsafe(r),n=this.head,l=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,u=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,u),r-=u,r===0){u===s.length?(++l,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(u));break}++l}return this.length-=l,i}},{key:wo,value:function(r,i){return Rr(this,Ii(Ii({},i),{},{depth:0,customInspect:!1}))}}]),e}();function So(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick($r,this,e)):process.nextTick($r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(l){!t&&l?r._writableState?r._writableState.errorEmitted?process.nextTick(Zt,r):(r._writableState.errorEmitted=!0,process.nextTick(Ui,r,l)):process.nextTick(Ui,r,l):t?(process.nextTick(Zt,r),t(l)):process.nextTick(Zt,r)}),this)}function Ui(e,t){$r(e,t),Zt(e)}function Zt(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Ro(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function $r(e,t){e.emit("error",t)}function $o(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}var qi={destroy:So,undestroy:Ro,errorOrDestroy:$o},qe={};function Fo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Wi={};function ce(e,t,r){r||(r=Error);function i(l,s,u){return typeof t=="string"?t:t(l,s,u)}var n=function(l){Fo(s,l);function s(u,h,m){return l.call(this,i(u,h,m))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=e,Wi[e]=n}function Ki(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(i){return String(i)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function Do(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function Mo(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Oo(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}ce("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),ce("ERR_INVALID_ARG_TYPE",function(e,t,r){var i;typeof t=="string"&&Do(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be";var n;if(Mo(e," argument"))n="The ".concat(e," ").concat(i," ").concat(Ki(t,"type"));else{var l=Oo(e,".")?"property":"argument";n='The "'.concat(e,'" ').concat(l," ").concat(i," ").concat(Ki(t,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError),ce("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),ce("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),ce("ERR_STREAM_PREMATURE_CLOSE","Premature close"),ce("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),ce("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),ce("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),ce("ERR_STREAM_WRITE_AFTER_END","write after end"),ce("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),ce("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),ce("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),qe.codes=Wi;var To=qe.codes.ERR_INVALID_OPT_VALUE;function Co(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Ao(e,t,r,i){var n=Co(t,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var l=i?r:"highWaterMark";throw new To(l,n)}return Math.floor(n)}return e.objectMode?16:16*1024}var Hi={getHighWaterMark:Ao},Po=ko;function ko(e,t){if(Fr("noDeprecation"))return e;var r=!1;function i(){if(!r){if(Fr("throwDeprecation"))throw new Error(t);Fr("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return i}function Fr(e){try{if(!fe.localStorage)return!1}catch{return!1}var t=fe.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var Vi=U;function zi(e){var t=this;this.next=null,this.entry=null,this.finish=function(){sl(t,e)}}var Xe;U.WritableState=bt;var Bo={deprecate:Po},Yi=Bi,er=mt.Buffer,Lo=(typeof fe!="undefined"?fe:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function Io(e){return er.from(e)}function jo(e){return er.isBuffer(e)||e instanceof Lo}var Dr=qi,No=Hi,Uo=No.getHighWaterMark,Te=qe.codes,qo=Te.ERR_INVALID_ARG_TYPE,Wo=Te.ERR_METHOD_NOT_IMPLEMENTED,Ko=Te.ERR_MULTIPLE_CALLBACK,Ho=Te.ERR_STREAM_CANNOT_PIPE,Vo=Te.ERR_STREAM_DESTROYED,zo=Te.ERR_STREAM_NULL_VALUES,Yo=Te.ERR_STREAM_WRITE_AFTER_END,Go=Te.ERR_UNKNOWN_ENCODING,Je=Dr.errorOrDestroy;Fe.exports(U,Yi);function Xo(){}function bt(e,t,r){Xe=Xe||Qe,e=e||{},typeof r!="boolean"&&(r=t instanceof Xe),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=Uo(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){il(t,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new zi(this)}bt.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},function(){try{Object.defineProperty(bt.prototype,"buffer",{get:Bo.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var tr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(tr=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(t){return tr.call(this,t)?!0:this!==U?!1:t&&t._writableState instanceof bt}})):tr=function(t){return t instanceof this};function U(e){Xe=Xe||Qe;var t=this instanceof Xe;if(!t&&!tr.call(U,this))return new U(e);this._writableState=new bt(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Yi.call(this)}U.prototype.pipe=function(){Je(this,new Ho)};function Jo(e,t){var r=new Yo;Je(e,r),process.nextTick(t,r)}function Qo(e,t,r,i){var n;return r===null?n=new zo:typeof r!="string"&&!t.objectMode&&(n=new qo("chunk",["string","Buffer"],r)),n?(Je(e,n),process.nextTick(i,n),!1):!0}U.prototype.write=function(e,t,r){var i=this._writableState,n=!1,l=!i.objectMode&&jo(e);return l&&!er.isBuffer(e)&&(e=Io(e)),typeof t=="function"&&(r=t,t=null),l?t="buffer":t||(t=i.defaultEncoding),typeof r!="function"&&(r=Xo),i.ending?Jo(this,r):(l||Qo(this,i,e,r))&&(i.pendingcb++,n=el(this,i,l,e,t,r)),n},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&Xi(this,e))},U.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new Go(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Zo(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=er.from(t,r)),t}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function el(e,t,r,i,n,l){if(!r){var s=Zo(t,i,n);i!==s&&(r=!0,n="buffer",i=s)}var u=t.objectMode?1:i.length;t.length+=u;var h=t.length<t.highWaterMark;if(h||(t.needDrain=!0),t.writing||t.corked){var m=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:l,next:null},m?m.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Mr(e,t,!1,u,i,n,l);return h}function Mr(e,t,r,i,n,l,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Vo("write")):r?e._writev(n,t.onwrite):e._write(n,l,t.onwrite),t.sync=!1}function tl(e,t,r,i,n){--t.pendingcb,r?(process.nextTick(n,i),process.nextTick(wt,e,t),e._writableState.errorEmitted=!0,Je(e,i)):(n(i),e._writableState.errorEmitted=!0,Je(e,i),wt(e,t))}function rl(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function il(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new Ko;if(rl(r),t)tl(e,r,i,t,n);else{var l=Ji(r)||e.destroyed;!l&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Xi(e,r),i?process.nextTick(Gi,e,r,l,n):Gi(e,r,l,n)}}function Gi(e,t,r,i){r||nl(e,t),t.pendingcb--,i(),wt(e,t)}function nl(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Xi(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),l=t.corkedRequestsFree;l.entry=r;for(var s=0,u=!0;r;)n[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;n.allBuffers=u,Mr(e,t,!0,t.length,n,"",l.finish),t.pendingcb++,t.lastBufferedRequest=null,l.next?(t.corkedRequestsFree=l.next,l.next=null):t.corkedRequestsFree=new zi(t),t.bufferedRequestCount=0}else{for(;r;){var h=r.chunk,m=r.encoding,w=r.callback,E=t.objectMode?1:h.length;if(Mr(e,t,!1,E,h,m,w),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}U.prototype._write=function(e,t,r){r(new Wo("_write()"))},U.prototype._writev=null,U.prototype.end=function(e,t,r){var i=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||ll(this,i,r),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ji(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function al(e,t){e._final(function(r){t.pendingcb--,r&&Je(e,r),t.prefinished=!0,e.emit("prefinish"),wt(e,t)})}function ol(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(al,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function wt(e,t){var r=Ji(t);if(r&&(ol(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function ll(e,t,r){t.ending=!0,wt(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function sl(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}}),U.prototype.destroy=Dr.destroy,U.prototype._undestroy=Dr.undestroy,U.prototype._destroy=function(e,t){t(e)};var ul=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},Qe=we,Qi=nn,Or=Vi;Fe.exports(we,Qi);for(var Zi=ul(Or.prototype),Tr=0;Tr<Zi.length;Tr++){var Cr=Zi[Tr];we.prototype[Cr]||(we.prototype[Cr]=Or.prototype[Cr])}function we(e){if(!(this instanceof we))return new we(e);Qi.call(this,e),Or.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",fl)))}Object.defineProperty(we.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(we.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(we.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function fl(){this._writableState.ended||process.nextTick(dl,this)}function dl(e){e.end()}Object.defineProperty(we.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});var Ar={},Pr=gt.exports.Buffer,en=Pr.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function cl(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function pl(e){var t=cl(e);if(typeof t!="string"&&(Pr.isEncoding===en||!en(e)))throw new Error("Unknown encoding: "+e);return t||e}Ar.StringDecoder=xt;function xt(e){this.encoding=pl(e);var t;switch(this.encoding){case"utf16le":this.text=ml,this.end=bl,t=4;break;case"utf8":this.fillLast=yl,t=4;break;case"base64":this.text=wl,this.end=xl,t=3;break;default:this.write=El,this.end=Sl;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Pr.allocUnsafe(t)}xt.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},xt.prototype.end=gl,xt.prototype.text=_l,xt.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function kr(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function hl(e,t,r){var i=t.length-1;if(i<r)return 0;var n=kr(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||n===-2?0:(n=kr(t[i]),n>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||n===-2?0:(n=kr(t[i]),n>=0?(n>0&&(n===2?n=0:e.lastNeed=n-3),n):0))}function vl(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function yl(e){var t=this.lastTotal-this.lastNeed,r=vl(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function _l(e,t){var r=hl(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function gl(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function ml(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function bl(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function wl(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function xl(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function El(e){return e.toString(this.encoding)}function Sl(e){return e&&e.length?this.write(e):""}var tn=qe.codes.ERR_STREAM_PREMATURE_CLOSE;function Rl(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}function $l(){}function Fl(e){return e.setHeader&&typeof e.abort=="function"}function rn(e,t,r){if(typeof t=="function")return rn(e,null,t);t||(t={}),r=Rl(r||$l);var i=t.readable||t.readable!==!1&&e.readable,n=t.writable||t.writable!==!1&&e.writable,l=function(){e.writable||u()},s=e._writableState&&e._writableState.finished,u=function(){n=!1,s=!0,i||r.call(e)},h=e._readableState&&e._readableState.endEmitted,m=function(){i=!1,h=!0,n||r.call(e)},w=function($){r.call(e,$)},E=function(){var $;if(i&&!h)return(!e._readableState||!e._readableState.ended)&&($=new tn),r.call(e,$);if(n&&!s)return(!e._writableState||!e._writableState.ended)&&($=new tn),r.call(e,$)},S=function(){e.req.on("finish",u)};return Fl(e)?(e.on("complete",u),e.on("abort",E),e.req?S():e.on("request",S)):n&&!e._writableState&&(e.on("end",l),e.on("close",l)),e.on("end",m),e.on("finish",u),t.error!==!1&&e.on("error",w),e.on("close",E),function(){e.removeListener("complete",u),e.removeListener("abort",E),e.removeListener("request",S),e.req&&e.req.removeListener("finish",u),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",u),e.removeListener("end",m),e.removeListener("error",w),e.removeListener("close",E)}}var Br=rn,rr;function Ce(e,t,r){return t=Dl(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dl(e){var t=Ml(e,"string");return typeof t=="symbol"?t:String(t)}function Ml(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ol=Br,Ae=Symbol("lastResolve"),We=Symbol("lastReject"),Et=Symbol("error"),ir=Symbol("ended"),Ke=Symbol("lastPromise"),Lr=Symbol("handlePromise"),He=Symbol("stream");function Pe(e,t){return{value:e,done:t}}function Tl(e){var t=e[Ae];if(t!==null){var r=e[He].read();r!==null&&(e[Ke]=null,e[Ae]=null,e[We]=null,t(Pe(r,!1)))}}function Cl(e){process.nextTick(Tl,e)}function Al(e,t){return function(r,i){e.then(function(){if(t[ir]){r(Pe(void 0,!0));return}t[Lr](r,i)},i)}}var Pl=Object.getPrototypeOf(function(){}),kl=Object.setPrototypeOf((rr={get stream(){return this[He]},next:function(){var t=this,r=this[Et];if(r!==null)return Promise.reject(r);if(this[ir])return Promise.resolve(Pe(void 0,!0));if(this[He].destroyed)return new Promise(function(s,u){process.nextTick(function(){t[Et]?u(t[Et]):s(Pe(void 0,!0))})});var i=this[Ke],n;if(i)n=new Promise(Al(i,this));else{var l=this[He].read();if(l!==null)return Promise.resolve(Pe(l,!1));n=new Promise(this[Lr])}return this[Ke]=n,n}},Ce(rr,Symbol.asyncIterator,function(){return this}),Ce(rr,"return",function(){var t=this;return new Promise(function(r,i){t[He].destroy(null,function(n){if(n){i(n);return}r(Pe(void 0,!0))})})}),rr),Pl),Bl=function(t){var r,i=Object.create(kl,(r={},Ce(r,He,{value:t,writable:!0}),Ce(r,Ae,{value:null,writable:!0}),Ce(r,We,{value:null,writable:!0}),Ce(r,Et,{value:null,writable:!0}),Ce(r,ir,{value:t._readableState.endEmitted,writable:!0}),Ce(r,Lr,{value:function(l,s){var u=i[He].read();u?(i[Ke]=null,i[Ae]=null,i[We]=null,l(Pe(u,!1))):(i[Ae]=l,i[We]=s)},writable:!0}),r));return i[Ke]=null,Ol(t,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var l=i[We];l!==null&&(i[Ke]=null,i[Ae]=null,i[We]=null,l(n)),i[Et]=n;return}var s=i[Ae];s!==null&&(i[Ke]=null,i[Ae]=null,i[We]=null,s(Pe(void 0,!0))),i[ir]=!0}),t.on("readable",Cl.bind(null,i)),i},Ll=Bl,Il=function(){throw new Error("Readable.from is not available in the browser")},nn=O,Ze;O.ReadableState=on,Jt.EventEmitter;var an=function(t,r){return t.listeners(r).length},St=Bi,nr=mt.Buffer,jl=(typeof fe!="undefined"?fe:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function Nl(e){return nr.from(e)}function Ul(e){return nr.isBuffer(e)||e instanceof jl}var Ir=Jt,D;Ir&&Ir.debuglog?D=Ir.debuglog("stream"):D=function(){};var ql=Eo,jr=qi,Wl=Hi,Kl=Wl.getHighWaterMark,ar=qe.codes,Hl=ar.ERR_INVALID_ARG_TYPE,Vl=ar.ERR_STREAM_PUSH_AFTER_EOF,zl=ar.ERR_METHOD_NOT_IMPLEMENTED,Yl=ar.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,et,Nr,Ur;Fe.exports(O,St);var Rt=jr.errorOrDestroy,qr=["error","close","destroy","pause","resume"];function Gl(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function on(e,t,r){Ze=Ze||Qe,e=e||{},typeof r!="boolean"&&(r=t instanceof Ze),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=Kl(this,e,"readableHighWaterMark",r),this.buffer=new ql,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(et||(et=Ar.StringDecoder),this.decoder=new et(e.encoding),this.encoding=e.encoding)}function O(e){if(Ze=Ze||Qe,!(this instanceof O))return new O(e);var t=this instanceof Ze;this._readableState=new on(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),St.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}}),O.prototype.destroy=jr.destroy,O.prototype._undestroy=jr.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype.push=function(e,t){var r=this._readableState,i;return r.objectMode?i=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=nr.from(e,t),t=""),i=!0),ln(this,e,t,!1,i)},O.prototype.unshift=function(e){return ln(this,e,null,!0,!1)};function ln(e,t,r,i,n){D("readableAddChunk",t);var l=e._readableState;if(t===null)l.reading=!1,Ql(e,l);else{var s;if(n||(s=Xl(l,t)),s)Rt(e,s);else if(l.objectMode||t&&t.length>0)if(typeof t!="string"&&!l.objectMode&&Object.getPrototypeOf(t)!==nr.prototype&&(t=Nl(t)),i)l.endEmitted?Rt(e,new Yl):Wr(e,l,t,!0);else if(l.ended)Rt(e,new Vl);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||t.length!==0?Wr(e,l,t,!1):Kr(e,l)):Wr(e,l,t,!1)}else i||(l.reading=!1,Kr(e,l))}return!l.ended&&(l.length<l.highWaterMark||l.length===0)}function Wr(e,t,r,i){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&or(e)),Kr(e,t)}function Xl(e,t){var r;return!Ul(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new Hl("chunk",["string","Buffer","Uint8Array"],t)),r}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(e){et||(et=Ar.StringDecoder);var t=new et(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var sn=1073741824;function Jl(e){return e>=sn?e=sn:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function un(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Jl(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}O.prototype.read=function(e){D("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return D("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Vr(this):or(this),null;if(e=un(e,t),e===0&&t.ended)return t.length===0&&Vr(this),null;var i=t.needReadable;D("need readable",i),(t.length===0||t.length-e<t.highWaterMark)&&(i=!0,D("length less than watermark",i)),t.ended||t.reading?(i=!1,D("reading or ended",i)):i&&(D("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=un(r,t)));var n;return e>0?n=cn(e,t):n=null,n===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Vr(this)),n!==null&&this.emit("data",n),n};function Ql(e,t){if(D("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?or(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,fn(e)))}}function or(e){var t=e._readableState;D("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(D("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(fn,e))}function fn(e){var t=e._readableState;D("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Hr(e)}function Kr(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(Zl,e,t))}function Zl(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(D("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}O.prototype._read=function(e){Rt(this,new zl("_read()"))},O.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,D("pipe count=%d opts=%j",i.pipesCount,t);var n=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,l=n?u:C;i.endEmitted?process.nextTick(l):r.once("end",l),e.on("unpipe",s);function s(N,q){D("onunpipe"),N===r&&q&&q.hasUnpiped===!1&&(q.hasUnpiped=!0,w())}function u(){D("onend"),e.end()}var h=es(r);e.on("drain",h);var m=!1;function w(){D("cleanup"),e.removeListener("close",R),e.removeListener("finish",$),e.removeListener("drain",h),e.removeListener("error",S),e.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",C),r.removeListener("data",E),m=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&h()}r.on("data",E);function E(N){D("ondata");var q=e.write(N);D("dest.write",q),q===!1&&((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&pn(i.pipes,e)!==-1)&&!m&&(D("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function S(N){D("onerror",N),C(),e.removeListener("error",S),an(e,"error")===0&&Rt(e,N)}Gl(e,"error",S);function R(){e.removeListener("finish",$),C()}e.once("close",R);function $(){D("onfinish"),e.removeListener("close",R),C()}e.once("finish",$);function C(){D("unpipe"),r.unpipe(e)}return e.emit("pipe",r),i.flowing||(D("pipe resume"),r.resume()),e};function es(e){return function(){var r=e._readableState;D("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&an(e,"data")&&(r.flowing=!0,Hr(e))}}O.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var l=0;l<n;l++)i[l].emit("unpipe",this,{hasUnpiped:!1});return this}var s=pn(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},O.prototype.on=function(e,t){var r=St.prototype.on.call(this,e,t),i=this._readableState;return e==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):e==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,D("on readable",i.length,i.reading),i.length?or(this):i.reading||process.nextTick(ts,this)),r},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(e,t){var r=St.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(dn,this),r},O.prototype.removeAllListeners=function(e){var t=St.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(dn,this),t};function dn(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function ts(e){D("readable nexttick read 0"),e.read(0)}O.prototype.resume=function(){var e=this._readableState;return e.flowing||(D("resume"),e.flowing=!e.readableListening,rs(this,e)),e.paused=!1,this};function rs(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(is,e,t))}function is(e,t){D("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Hr(e),t.flowing&&!t.reading&&e.read(0)}O.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Hr(e){var t=e._readableState;for(D("flow",t.flowing);t.flowing&&e.read()!==null;);}O.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;e.on("end",function(){if(D("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&t.push(s)}t.push(null)}),e.on("data",function(s){if(D("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var u=t.push(s);u||(i=!0,e.pause())}});for(var n in e)this[n]===void 0&&typeof e[n]=="function"&&(this[n]=function(u){return function(){return e[u].apply(e,arguments)}}(n));for(var l=0;l<qr.length;l++)e.on(qr[l],this.emit.bind(this,qr[l]));return this._read=function(s){D("wrapped _read",s),i&&(i=!1,e.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return Nr===void 0&&(Nr=Ll),Nr(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),O._fromList=cn,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function cn(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function Vr(e){var t=e._readableState;D("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(ns,t,e))}function ns(e,t){if(D("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(O.from=function(e,t){return Ur===void 0&&(Ur=Il),Ur(O,e,t)});function pn(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}var hn=De,lr=qe.codes,as=lr.ERR_METHOD_NOT_IMPLEMENTED,os=lr.ERR_MULTIPLE_CALLBACK,ls=lr.ERR_TRANSFORM_ALREADY_TRANSFORMING,ss=lr.ERR_TRANSFORM_WITH_LENGTH_0,sr=Qe;Fe.exports(De,sr);function us(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new os);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function De(e){if(!(this instanceof De))return new De(e);sr.call(this,e),this._transformState={afterTransform:us.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",fs)}function fs(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){vn(e,t,r)}):vn(this,null,null)}De.prototype.push=function(e,t){return this._transformState.needTransform=!1,sr.prototype.push.call(this,e,t)},De.prototype._transform=function(e,t,r){r(new as("_transform()"))},De.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},De.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},De.prototype._destroy=function(e,t){sr.prototype._destroy.call(this,e,function(r){t(r)})};function vn(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new ss;if(e._transformState.transforming)throw new ls;return e.push(null)}var ds=$t,yn=hn;Fe.exports($t,yn);function $t(e){if(!(this instanceof $t))return new $t(e);yn.call(this,e)}$t.prototype._transform=function(e,t,r){r(null,e)};var zr;function cs(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var _n=qe.codes,ps=_n.ERR_MISSING_ARGS,hs=_n.ERR_STREAM_DESTROYED;function gn(e){if(e)throw e}function vs(e){return e.setHeader&&typeof e.abort=="function"}function ys(e,t,r,i){i=cs(i);var n=!1;e.on("close",function(){n=!0}),zr===void 0&&(zr=Br),zr(e,{readable:t,writable:r},function(s){if(s)return i(s);n=!0,i()});var l=!1;return function(s){if(!n&&!l){if(l=!0,vs(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();i(s||new hs("pipe"))}}}function mn(e){e()}function _s(e,t){return e.pipe(t)}function gs(e){return!e.length||typeof e[e.length-1]!="function"?gn:e.pop()}function ms(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=gs(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ps("streams");var n,l=t.map(function(s,u){var h=u<t.length-1,m=u>0;return ys(s,h,m,function(w){n||(n=w),w&&l.forEach(mn),!h&&(l.forEach(mn),i(n))})});return t.reduce(_s)}var bs=ms;(function(e,t){t=e.exports=nn,t.Stream=t,t.Readable=t,t.Writable=Vi,t.Duplex=Qe,t.Transform=hn,t.PassThrough=ds,t.finished=Br,t.pipeline=bs})(Sr,Sr.exports);var ur=gt.exports.Buffer,bn=Sr.exports.Transform,ws=Fe.exports;function xs(e,t){if(!ur.isBuffer(e)&&typeof e!="string")throw new TypeError(t+" must be a string or a buffer")}function ke(e){bn.call(this),this._block=ur.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}ws(ke,bn),ke.prototype._transform=function(e,t,r){var i=null;try{this.update(e,t)}catch(n){i=n}r(i)},ke.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)},ke.prototype.update=function(e,t){if(xs(e,"Data"),this._finalized)throw new Error("Digest already called");ur.isBuffer(e)||(e=ur.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)r[n++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var l=0,s=e.length*8;s>0;++l)this._length[l]+=s,s=this._length[l]/4294967296|0,s>0&&(this._length[l]-=4294967296*s);return this},ke.prototype._update=function(){throw new Error("_update is not implemented")},ke.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();e!==void 0&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},ke.prototype._digest=function(){throw new Error("_digest is not implemented")};var Es=ke,Ss=Fe.exports,wn=Es,Rs=gt.exports.Buffer,$s=new Array(16);function fr(){wn.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}Ss(fr,wn),fr.prototype._update=function(){for(var e=$s,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a,i=this._b,n=this._c,l=this._d;r=Z(r,i,n,l,e[0],3614090360,7),l=Z(l,r,i,n,e[1],3905402710,12),n=Z(n,l,r,i,e[2],606105819,17),i=Z(i,n,l,r,e[3],3250441966,22),r=Z(r,i,n,l,e[4],4118548399,7),l=Z(l,r,i,n,e[5],1200080426,12),n=Z(n,l,r,i,e[6],2821735955,17),i=Z(i,n,l,r,e[7],4249261313,22),r=Z(r,i,n,l,e[8],1770035416,7),l=Z(l,r,i,n,e[9],2336552879,12),n=Z(n,l,r,i,e[10],4294925233,17),i=Z(i,n,l,r,e[11],2304563134,22),r=Z(r,i,n,l,e[12],1804603682,7),l=Z(l,r,i,n,e[13],4254626195,12),n=Z(n,l,r,i,e[14],2792965006,17),i=Z(i,n,l,r,e[15],1236535329,22),r=ee(r,i,n,l,e[1],4129170786,5),l=ee(l,r,i,n,e[6],3225465664,9),n=ee(n,l,r,i,e[11],643717713,14),i=ee(i,n,l,r,e[0],3921069994,20),r=ee(r,i,n,l,e[5],3593408605,5),l=ee(l,r,i,n,e[10],38016083,9),n=ee(n,l,r,i,e[15],3634488961,14),i=ee(i,n,l,r,e[4],3889429448,20),r=ee(r,i,n,l,e[9],568446438,5),l=ee(l,r,i,n,e[14],3275163606,9),n=ee(n,l,r,i,e[3],4107603335,14),i=ee(i,n,l,r,e[8],1163531501,20),r=ee(r,i,n,l,e[13],2850285829,5),l=ee(l,r,i,n,e[2],4243563512,9),n=ee(n,l,r,i,e[7],1735328473,14),i=ee(i,n,l,r,e[12],2368359562,20),r=te(r,i,n,l,e[5],4294588738,4),l=te(l,r,i,n,e[8],2272392833,11),n=te(n,l,r,i,e[11],1839030562,16),i=te(i,n,l,r,e[14],4259657740,23),r=te(r,i,n,l,e[1],2763975236,4),l=te(l,r,i,n,e[4],1272893353,11),n=te(n,l,r,i,e[7],4139469664,16),i=te(i,n,l,r,e[10],3200236656,23),r=te(r,i,n,l,e[13],681279174,4),l=te(l,r,i,n,e[0],3936430074,11),n=te(n,l,r,i,e[3],3572445317,16),i=te(i,n,l,r,e[6],76029189,23),r=te(r,i,n,l,e[9],3654602809,4),l=te(l,r,i,n,e[12],3873151461,11),n=te(n,l,r,i,e[15],530742520,16),i=te(i,n,l,r,e[2],3299628645,23),r=re(r,i,n,l,e[0],4096336452,6),l=re(l,r,i,n,e[7],1126891415,10),n=re(n,l,r,i,e[14],2878612391,15),i=re(i,n,l,r,e[5],4237533241,21),r=re(r,i,n,l,e[12],1700485571,6),l=re(l,r,i,n,e[3],2399980690,10),n=re(n,l,r,i,e[10],4293915773,15),i=re(i,n,l,r,e[1],2240044497,21),r=re(r,i,n,l,e[8],1873313359,6),l=re(l,r,i,n,e[15],4264355552,10),n=re(n,l,r,i,e[6],2734768916,15),i=re(i,n,l,r,e[13],1309151649,21),r=re(r,i,n,l,e[4],4149444226,6),l=re(l,r,i,n,e[11],3174756917,10),n=re(n,l,r,i,e[2],718787259,15),i=re(i,n,l,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+l|0},fr.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Rs.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};function dr(e,t){return e<<t|e>>>32-t}function Z(e,t,r,i,n,l,s){return dr(e+(t&r|~t&i)+n+l|0,s)+t|0}function ee(e,t,r,i,n,l,s){return dr(e+(t&i|r&~i)+n+l|0,s)+t|0}function te(e,t,r,i,n,l,s){return dr(e+(t^r^i)+n+l|0,s)+t|0}function re(e,t,r,i,n,l,s){return dr(e+(r^(t|~i))+n+l|0,s)+t|0}var Fs=fr,cr=fe&&fe.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),n,l=[],s;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)l.push(n.value)}catch(u){s={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return l},Ft=fe&&fe.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Dt=fe&&fe.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cr(arguments[t]));return e};Object.defineProperty(Q,"__esModule",{value:!0}),Q.toValue=Rn=Q.formatData=Q.parseBody=Q.parseData=Q.checkLength=Q.errorInfo=Q.validSign=Q.filterData=void 0;var F=yr.default,tt=Ne.default,xn=Fs;function Ds(e,t){return function(r,i){var n,l,s,u={},h=function(S){var R=S.key,$=S.type,C=S.rules,N=S.format,q=S.defaultValue,ge=S.md5,xe=S.separator,A=r[R];if(/\[\]$/.test($)&&!F.isArray(A)&&(A=it("string")(A||"").split(xe||/\,/)),/\[\]$/.test($)&&F.isArray(A)){var ne=cr((s=$.match(/(\S+)(\[\])$/))!==null&&s!==void 0?s:[],2),Be=ne[1];A=F.compact(A).map(it(Be)),C&&A.forEach(function(Le){return En(C||[],t)(Le,i)}),q&&A.length===0&&(A=q),N&&(A=A.map(Mt(N,t)))}else A=it($)(A),C&&En(C,t)(A,i),A=A!=null?A:q,N&&(A=Mt(N,t)(A)),ge&&(A=new xn().update(F.template(ge)(u)).digest("hex"));F.set(u,R,A)};try{for(var m=Ft(e),w=m.next();!w.done;w=m.next()){var E=w.value;h(E)}}catch(S){n={error:S}}finally{try{w&&!w.done&&(l=m.return)&&l.call(m)}finally{if(n)throw n.error}}return u}}Q.filterData=Ds;function Ms(e,t){return t===void 0&&(t="sign"),function(r){var i=new xn().update(F.template(e)(r)).digest("hex");return r[t]===i}}Q.validSign=Ms;function En(e,t){return function(r,i){var n,l;try{for(var s=Ft(e),u=s.next();!u.done;u=s.next()){var h=u.value,m=h.required,w=h.message,E=h.min,S=h.max,R=h.pattern,$=h.validator,C=h.code;if(m&&(F.isUndefined(r)||r===""))throw rt(w,C||i);if(F.isString(r)){if(E&&Yr(r)<E||S&&Yr(r)>S)throw rt(w,C||i);if(R){var N=Fn(R);if(!N.test(r))throw rt(w,C||i)}}if($&&F.isString($)&&t&&($=F.get(t,$)),$&&F.isFunction($)&&(!$(r)||String(r)==="Invalid Date"))throw rt(w,C||i)}}catch(q){n={error:q}}finally{try{u&&!u.done&&(l=s.return)&&l.call(s)}finally{if(n)throw n.error}}}}function rt(e,t){var r=new Error(e);return t&&(r.code=t),r}Q.errorInfo=rt;function Yr(e){var t,r,i=0;if(F.isNull(e))return i;var n=e.split("");try{for(var l=Ft(n),s=l.next();!s.done;s=l.next()){var u=s.value;i++,/[^\x00-\xff]/g.test(u)&&i++}}catch(h){t={error:h}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}return i}Q.checkLength=Yr;function Sn(e,t){return function(r){var i,n;if(!e)return r;var l=e.separator,s=e.collection,u=e.omits,h=r.split(l),m=s.filter(tt.default({result:{$exists:!1}})),w=h.map(function(N,q){var ge=m[q]||{},xe=ge.type,A=ge.format,ne=Mt(A,t)(it(xe)(N));return ne}),E=F.zipObject(F.map(s,"key"),w),S=s.filter(tt.default({result:{$exists:!0}}));try{for(var R=Ft(S),$=R.next();!$.done;$=R.next()){var C=$.value;F.set(E,C.key,Mt(C.format,t)(ks(C.result,t)(E)))}}catch(N){i={error:N}}finally{try{$&&!$.done&&(n=R.return)&&n.call(R)}finally{if(i)throw i.error}}return F.omit(E,u||[])}}Q.parseData=Sn;function Os(e,t){return function(r){if(!e)return r;for(var i in r){var n=e.find(tt.default({key:i}));if(n){var l=Sn(n,t),s=r[i];if(F.isArray(s)){if(s=s.map(l),n.orderBy){var u=n.orderBy,h=u.iteratees,m=u.orders;s=F.orderBy(s,h,m)}}else l(s);F.set(r,i,s)}}return r}}Q.parseBody=Os;function Mt(e,t){return function(r){var i,n;if(e=F.isArray(e)?e:F.compact([e]),e.length===0)return r;try{for(var l=Ft(e),s=l.next();!s.done;s=l.next()){var u=s.value;r=Ts(u,t)(r)}}catch(h){i={error:h}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}return r}}var Rn=Q.formatData=Mt;function Ts(e,t){return function(r){if(!e)return r;var i=it(e.type)(r);return e.regexp&&F.isString(i)?i=Cs(e.regexp,e.substr||"")(i):e.maps?i=As(e.maps)(i):e.func&&(i=Ps(e.func,e.options,t)(i)),i}}function Cs(e,t){return function(r){return r.replace(Fn(e),t)}}function As(e){return function(t){return F.isString(e)&&F.isPlainObject(t)?F.get(t,e):F.isNumber(e)&&F.isArray(t)?t[e]||t:F.isPlainObject(e)&&["string","number"].includes(typeof t)&&e[t]||t}}function Ps(e,t,r){return function(i){var n;try{i=i[e||"toLocaleString"].apply(i,Dt(t||[]))}catch{i=(n=F.get(r,e))===null||n===void 0?void 0:n.apply(void 0,Dt([i],t||[]))}return i}}function ks(e,t){return function(r){var i,n,l=e.defaultValue,s=e.formula;if(s){var u=s.exec,h=(s.opts||[]).map($n(r,t));if(typeof u=="function")return u.apply(void 0,Dt(h));if(t)return(i=F.get(t,u))===null||i===void 0?void 0:i.apply(void 0,Dt(h))}return(n=$n(r,t))===null||n===void 0?void 0:n(l)}}function $n(e,t){return function(r){var i;if(F.isString(r)&&/^\$(\_){2}/.test(r)){var n=cr(r.match(/^\$(\_){2}([a-zA-Z0-9\_\-\.]+)/)||[],3),l=n[2];return F.get(e,l)}if(F.isArray(r)){var s=cr(r),u=s[0],h=s.slice(1);if(t)return(i=F.get(t,u))===null||i===void 0?void 0:i.apply(void 0,Dt(h))}return r}}function Fn(e){if(F.isRegExp(e))return e;try{return new RegExp(e)}catch{throw Error("This is not a regular expression.")}}function it(e){return e===void 0&&(e="string"),function(t){if(e==="any")return t;var r=t;if(F.isString(t)){if(/^([\d\.]+)\%$/.test(t))r=Number(t.replace(/\%$/i,""))/100,r=String(r);else if(e==="date")r=new Date(tt.isDateString(t)?t:/^\d+$/.test(t)?Number(t):t);else if(e==="map")try{r=tt.emit(t)}catch{r=void 0}}else e==="string"&&!F.isUndefined(t)?r=F.isPlainObject(t)?JSON.stringify(t):String(t):e==="date"&&F.isNumber(t)&&(r=new Date(t));return e==="number"&&(F.isString(r)&&!/^\d+$/.test(r)&&tt.isDateString(r)&&(r=new Date(r)),r=Number(r)),r}}Q.toValue=it;var Bs=Object.defineProperty,Ls=Object.getOwnPropertyDescriptor,Gr=(e,t,r,i)=>{for(var n=i>1?void 0:i?Ls(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Bs(t,r,n),n};let Ot=class extends Oe(g.KlBaseMixin){};Gr([v()],Ot.prototype,"data",2),Gr([v()],Ot.prototype,"values",2),Ot=Gr([ae({name:"KlFormExpand"})],Ot);var Is=function(){var e,t=this,r=t.$createElement,i=t._self._c||r;return i("fragment",[t._l((e=t.data)!==null&&e!==void 0?e:[],function(n,l){var s;return[t.isFilter(n.conditions,t.env)?[n.type=="button"?i("el-button",{key:l,attrs:{type:n.style,disabled:t.isDisabled(n.disabled,{values:t.values}),plain:""},on:{click:function(u){var h;return t.command((h=n.command)!==null&&h!==void 0?h:"",{})}}},[t._v(" "+t._s(t.parseTemplate(n.name,t.env))+" ")]):n.type=="dropdown"?i("el-dropdown",{key:l,class:t.isDisabled(n.disabled,{values:t.values})&&"disabled",attrs:{disabled:t.isDisabled(n.disabled,{values:t.values}),"hide-on-click":!0},on:{command:function(u){return t.command(u,{})}}},[i("el-button",{attrs:{plain:""}},[t._v(" "+t._s(n.name)),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t._l((s=n.children)!==null&&s!==void 0?s:[],function(u){return[i("el-dropdown-item",{key:u.key,attrs:{command:u.command,disabled:t.isDisabled(u.disabled,{values:t.values})}},[t._v(" "+t._s(u.name)+" ")])]})],2)],1):t._e()]:t._e()]})],2)},js=[];const Dn={};var Ns=he(Ot,Is,js,!1,Us,null,null,null);function Us(e){for(let t in Dn)this[t]=Dn[t]}var pr=function(){return Ns.exports}(),qs=Object.defineProperty,Ws=Object.getOwnPropertyDescriptor,hr=(e,t,r,i)=>{for(var n=i>1?void 0:i?Ws(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&qs(t,r,n),n};let nt=class extends Oe(g.KlFormMixin){constructor(){super(...arguments),this.Rules={},this.DefaultValues={},this.values={},this.parseRules=ei(this.validate)}handleSubmit(){var t;((t=this.$refs)==null?void 0:t.theForm).validate(r=>{var i;if(r){let n=b.map(this.columns.filter(w=>this.isFilter(w.conditions)),"key"),l=this.parseValues(b.pick(this.values,n)),s=this.parseValues(b.pick(this.DefaultValues,n)),{changeSubmit:u}=(i=this.options)!=null?i:{};if(u&&b.isEqual(b.omitBy(l,b.isUndefined),s)){this.$message.warning(u!=null?u:"\u6570\u636E\u597D\u50CF\u6CA1\u4EC0\u4E48\u6539\u53D8\uFF0C\u65E0\u9700\u63D0\u4EA4");return}let h={...this.options,next:w=>{this.DefaultValues=b.assign(this.DefaultValues,w),this.values=b.cloneDeep(this.DefaultValues)}},m=b.map(this.columns.filter(Ne.default({labelOptions:{$exists:!0}})),"labelOptions.key");l=b.merge(l,b.pick(this.values,m)),this.submit(l,this.action,h)}else return!1})}parseValues(e){var i,n;for(let[l,s]of Object.entries((i=this.mergeField)!=null?i:{}))b.set(e,l,b.pick(e,s));let t=this.exclude?b.omit(e,this.exclude):e,r=this.columns.filter(l=>["datetimerange","daterange","monthrange"].includes(l.type));for(let l of r){let s=l.key.split(/\_{2}/);s.length===2&&(t=b.merge(t,b.zipObject(s,t==null?void 0:t[l.key])),b.unset(t,l.key))}for(let[l,s]of Object.entries((n=this.valueFormat)!=null?n:{}))t[l]=Rn(s)(t==null?void 0:t[l]);return t}handleRest(){var t;((t=this.$refs)==null?void 0:t.theForm).resetFields(),this.$emit("reset",this.DefaultValues),this.values=b.cloneDeep(this.DefaultValues)}};hr([Y()],nt.prototype,"Rules",2),hr([Y()],nt.prototype,"DefaultValues",2),hr([Y()],nt.prototype,"values",2),nt=hr([ae({name:"KlForm",components:{KlFormItem:wr,KlFormExpand:pr},created(){this.Rules=ei(this.validate)(this.rules,this),this.DefaultValues=Nn(this.defaultValues)(this.env),this.values=b.cloneDeep(this.DefaultValues)}})],nt);var Ks=function(){var e,t,r,i,n=this,l=n.$createElement,s=n._self._c||l;return s("div",{staticClass:"form-container",class:n.border&&"border"},[s("el-form",{ref:"theForm",attrs:{model:n.values,rules:n.Rules,"label-width":n.toStyleSize(n.labelWidth),"label-position":n.labelPosition,"label-suffix":n.labelSuffix,inline:n.inline,"inline-message":n.inlineMessage,"status-icon":n.statusIcon,"hide-required-asterisk":n.hideRequiredAsterisk,disabled:n.disabled},nativeOn:{keyup:function(u){return!u.type.indexOf("key")&&n._k(u.keyCode,"enter",13,u.key,"Enter")?null:n.handleSubmit.apply(null,arguments)},submit:function(u){return u.preventDefault(),n.handleSubmit.apply(null,arguments)}}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:24}},[n._l(n.columns,function(u,h){var m;return[s("el-form-item",{key:h,ref:u.key,refInFor:!0,style:{paddingRight:0},attrs:{label:u.label,rules:(m=n.Rules)===null||m===void 0?void 0:m[u.key],prop:u.key,"label-width":n.toStyleSize(u.labelWidth)}},[u.labelOptions?s("template",{slot:"label"},[s("el-select",{style:{width:"calc(100% - 14px)"},model:{value:n.values[u.labelOptions.key],callback:function(w){n.$set(n.values,u.labelOptions.key,w)},expression:"values[item.labelOptions.key]"}},n._l(u.labelOptions.options,function(w,E){return s("el-option",{key:E,attrs:{label:w,value:E}})}),1)],1):n._e(),s("kl-form-item",{attrs:{type:u.type,placeholder:u==null?void 0:u.placeholder,disabled:n.isDisabled(u==null?void 0:u.disabled),width:u==null?void 0:u.width,size:u==null?void 0:u.size,format:u==null?void 0:u.format,"value-format":u==null?void 0:u.valueFormat,options:u==null?void 0:u.options,data:u==null?void 0:u.data,props:u==null?void 0:u.props,pickerOptions:u==null?void 0:u.pickerOptions,readonly:u==null?void 0:u.readonly},model:{value:n.values[u.key],callback:function(w){n.$set(n.values,u.key,w)},expression:"values[item.key]"}})],2)]})],2)],1),(e=n.options)!==null&&e!==void 0&&e.hide?n._e():s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"el-form-item",class:n.inline?"footer":"",style:{marginLeft:`${n.toStyleSize(n.labelWidth)}`}},[s("el-button",{attrs:{type:"primary","native-type":"submit",loading:n.loading}},[n._v(" "+n._s(n.submitName)+" ")]),(t=n.options)!==null&&t!==void 0&&t.reset?s("el-button",{attrs:{plain:""},on:{click:n.handleRest}},[n._v(n._s((r=n.options)===null||r===void 0?void 0:r.reset))]):n._e(),s("kl-form-expand",{attrs:{data:(i=n.options)===null||i===void 0?void 0:i.emits,env:n.env,values:n.values},on:{command:n.command}})],1)])],1)],1)],1)},Hs=[],xu="";const Mn={};var Vs=he(nt,Ks,Hs,!1,zs,null,null,null);function zs(e){for(let t in Mn)this[t]=Mn[t]}var Xr=function(){return Vs.exports}(),Ys=Object.defineProperty,Gs=Object.getOwnPropertyDescriptor,ie=(e,t,r,i)=>{for(var n=i>1?void 0:i?Gs(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Ys(t,r,n),n};let X=class extends Oe(g.KlBaseMixin){constructor(){super(...arguments),this.fullscreen=!1}onVisibleChange(e,t){e!==t&&e&&this.showFullscreen=="open"&&(this.fullscreen=!0)}handleClose(){this.$emit("close"),this.fullscreen=!1}handleSubmit(){this.$emit("submit"),this.fullscreen=!1}};ie([v({default:!1})],X.prototype,"loading",2),ie([v({default:""})],X.prototype,"title",2),ie([v({default:!1})],X.prototype,"visible",2),ie([v()],X.prototype,"width",2),ie([v({default:"100px"})],X.prototype,"height",2),ie([v({default:!1})],X.prototype,"center",2),ie([v({default:!0})],X.prototype,"closeOnClickModal",2),ie([v({default:!0})],X.prototype,"closeOnPressEscape",2),ie([v({default:!0})],X.prototype,"showClose",2),ie([v({default:!1})],X.prototype,"showFullscreen",2),ie([v({default:!1})],X.prototype,"showFooter",2),ie([v({default:"\u786E \u5B9A"})],X.prototype,"confirmButtonText",2),ie([v({default:"\u53D6 \u6D88"})],X.prototype,"cancelButtonText",2),ie([Y()],X.prototype,"fullscreen",2),ie([Se("visible")],X.prototype,"onVisibleChange",1),X=ie([ae({name:"KlDialog"})],X);var Xs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,width:e.toStyleSize(e.width),fullscreen:e.fullscreen,visible:e.visible,"append-to-body":!0,"close-on-click-modal":e.closeOnClickModal,"close-on-press-escape":e.closeOnPressEscape,"destroy-on-close":!0,"show-close":e.showClose,center:e.center},on:{close:e.handleClose}},[r("div",{staticClass:"el-dialog__header_left",attrs:{slot:"title"},slot:"title"},[r("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.title))]),e.showFullscreen?r("el-button",{staticStyle:{float:"right"},attrs:{icon:e.fullscreen?"el-icon-copy-document":"el-icon-full-screen"},on:{click:function(i){e.fullscreen=!e.fullscreen}}}):e._e()],1),r("section",{style:Object.assign({minHeight:`${e.toStyleSize(e.height)}`,display:"flex"},e.fullscreen?null:{maxHeight:`${e.toStyleSize(e.height)}`})},[r("perfect-scrollbar",{staticStyle:{flex:"1"},attrs:{options:{suppressScrollX:!0}}},[e._t("default")],2)],1),e.showFooter?r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("div",{staticClass:"dialog-footer-left"},[e._t("tools")],2),r("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.cancelButtonText))]),e.showFooter=="confirm"?r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v(e._s(e.confirmButtonText))]):e._e()],1):e._e()])},Js=[],Eu="";const On={};var Qs=he(X,Xs,Js,!1,Zs,null,null,null);function Zs(e){for(let t in On)this[t]=On[t]}var Jr=function(){return Qs.exports}(),eu=Object.defineProperty,tu=Object.getOwnPropertyDescriptor,_e=(e,t,r,i)=>{for(var n=i>1?void 0:i?tu(t,r):t,l=e.length-1,s;l>=0;l--)(s=e[l])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&eu(t,r,n),n};let se=class extends Oe(g.KlFormMixin){handleClose(e){let t=this.$refs.dialogForm;e?t.handleSubmit():this.$emit("close")}};_e([v({default:"\u6807\u9898"})],se.prototype,"title",2),_e([v({default:!1})],se.prototype,"visible",2),_e([v({default:500})],se.prototype,"width",2),_e([v({default:"fit-content"})],se.prototype,"height",2),_e([v({default:!1})],se.prototype,"center",2),_e([v({default:!0})],se.prototype,"closeOnClickModal",2),_e([v({default:!0})],se.prototype,"closeOnPressEscape",2),_e([v({default:!1})],se.prototype,"showClose",2),_e([v({default:"\u786E \u5B9A"})],se.prototype,"confirmButtonText",2),_e([v({default:"\u53D6 \u6D88"})],se.prototype,"cancelButtonText",2),se=_e([ae({name:"KlDiakogForm",components:{KlDialog:Jr,KlForm:Xr,KlFormExpand:pr}})],se);var ru=function(){var e,t=this,r=t.$createElement,i=t._self._c||r;return i("kl-dialog",{attrs:{title:t.title,width:t.width,height:t.height,visible:t.visible,center:t.center,"show-footer":"confirm","show-close":t.showClose,loading:t.loading,"close-on-click-modal":t.closeOnClickModal,"close-on-press-escape":t.closeOnPressEscape,"confirm-button-text":t.confirmButtonText,"cancel-button-text":t.cancelButtonText},on:{submit:function(n){return t.handleClose(!0)},close:function(n){return t.handleClose(!1)}}},[i("kl-form",{ref:"dialogForm",attrs:{columns:t.columns,rules:t.rules,"default-values":t.defaultValues,"label-width":t.labelWidth,"label-position":t.labelPosition,"label-suffix":t.labelSuffix,validate:t.validate,options:{hide:!0},"hide-required-asterisk":t.hideRequiredAsterisk,"status-icon":t.statusIcon,"value-format":t.valueFormat,exclude:t.exclude,"merge-field":t.mergeField,"unique-method":t.uniqueMethod,action:t.action,loading:t.loading},on:{submit:t.submit}}),i("template",{slot:"tools"},[i("kl-form-expand",{attrs:{data:(e=t.options)===null||e===void 0?void 0:e.emits,env:t.env},on:{command:t.command}})],1)],2)},iu=[];const Tn={};var nu=he(se,ru,iu,!1,au,null,null,null);function au(e){for(let t in Tn)this[t]=Tn[t]}var Cn=function(){return nu.exports}(),ou=Object.freeze(Object.defineProperty({__proto__:null,Drawer:Ei,ChannelSearchbar:Ri,Sidebar:Di,SidebarItem:br,LoginForm:Oi,Qrcode:Ai,FormItem:wr,Form:Xr,DialogForm:Cn,FormExpand:pr,Dialog:Jr},Symbol.toStringTag,{value:"Module"}));function An(e,t){if(!e)return null;let r=b.compact(["dialog","action","command","router","https?",t]).join("|"),i=new RegExp(`^(${r})\\:(\\S+)$`),n=e.match(i);if(!n)return null;let[,l,s]=n;return/^(https?)/.test(l)?{type:"http",path:e}:{type:l,path:s}}function lu(e,t){return(r,i,n)=>{let l=An(r);if(!!l){if(l.type==="command"){let[s,...u]=l.path.split("|"),h=b.get(t!=null?t:e,s);b.isFunction(h)&&h(...u)}else if(l.type==="action")t!=null&&t.action&&(t==null||t.action(l.path,i,n,e));else if(l.type==="dialog")t!=null&&t.dialog&&(t==null||t.dialog(l.path,i,n,e));else if(l.type==="router"){if(!(e!=null&&e.$router))return;e.$router.push(l.path)}else if(l.type==="http"){if(!document)return;let s=document.createElement("a"),[u,h]=l.path.split("|");s.href=u,h&&(s.target=h),s.click()}}}}function Qr(e,t,r=[]){if(!t)return;let i=b.map(r,"key"),n={$or:[{name:{$regex:new RegExp(t,"i")}},{keywords:{$_in:[t.toLocaleLowerCase()]}}]},l=vr.dataNodeProxy(e).find({$and:[{key:{$nin:i}},n,{children:{$exists:!1}}]});l&&(r.push(l),Qr(e,t,r))}function Pn(e){return(t,r)=>{if(!t)return!1;let i=t,n=b.assign({},e,r);return b.isString(t)&&(i=Ue.default.safeLoad(Me(t,n)),!b.isPlainObject(i))?!1:b.isBoolean(i)?i:Ne.default(i)(n)}}function kn(e){return(t,r)=>{if(!t)return!0;let i=t,n=b.assign({},e,r);return b.isString(t)&&(i=Ue.default.safeLoad(Me(t,n)),!b.isPlainObject(i))?!0:Ne.default(i)(n)}}function Bn(e,t={}){if(!e)return i=>!0;let r=e;return b.isString(e)&&(r=Ue.default.safeLoad(Me(e,{...t}))),b.isPlainObject(r)?Ne.default(r):i=>!0}function su(e,t={}){if(!e)return null;let r=e;return b.isString(e)&&(r=Ue.default.safeLoad(Me(e,{...t}))),b.isPlainObject(r)?r:null}function Me(e,t,r){let i=new Kn.default.Environment(null,b.merge({autoescape:!1},r));return i.addFilter(at.name,n=>String(at(n))),i.addFilter(Zr.name,n=>String.raw`${Zr(n,t)}`),i.renderString(e,t)}function at(e,t){if(b.isDate(e))return e;if(/(\_)/.test(e)){let l=e.split(/\_/),s=null;for(let u of l){if(s&&!/(day?(s|e)|week?(s|e))$/.test(u))break;s=at(u,s)}return s}let r=uu(e),i=t!=null?t:new Date,n=i.getDay()-1;if(e==="now")return new Date;if(["yesterday","today","tomorrow"].includes(e)){let l=["yesterday","today","tomorrow"].indexOf(e)-1;return at([l,"days"].join(" "))}else{if(/(day)$/.test(e))return new Date(i.setDate(i.getDate()+r));if(/(days)$/.test(e))return new Date(new Date(i.setDate(i.getDate()+r)).setHours(0,0,0,0));if(/(daye)$/.test(e))return new Date(new Date(i.setDate(i.getDate()+r)).setHours(23,59,59,999));if(/(week)$/.test(e)){let l=new Date(i.getFullYear(),i.getMonth(),i.getDate()-n+r*7+n).setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds());return new Date(l)}else{if(/(weeks)$/.test(e))return new Date(i.getFullYear(),i.getMonth(),i.getDate()-n+r*7+0);if(/(weeke)$/.test(e)){let l=new Date(i.getFullYear(),i.getMonth(),i.getDate()-n+r*7+6).setHours(23,59,59,999);return new Date(l)}else{if(/(month)$/.test(e))return new Date(new Date(new Date().setMonth(r)));if(/(months)$/.test(e))return new Date(new Date(new Date().setMonth(r,1)).setHours(0,0,0,0));if(/(monthe)$/.test(e)){let l=r-new Date().getMonth()+1;return new Date(at(`${l} months`).getTime()-1)}else{if(/(year)$/.test(e))return new Date(new Date().setFullYear(r));if(/(years)$/.test(e))return new Date(new Date(new Date().setFullYear(r,0,1)).setHours(0,0,0,0));if(/(yeare)$/.test(e))return new Date(new Date(new Date().setFullYear(r,11,31)).setHours(23,59,59,999))}}}}return null}function Zr(e,t){return b.get(t,e,"").split(`
`).join(`

`).replace(/\"/g,'\\"')}function ot(e){return t=>{if(!e)return t;let r=b.cloneDeep(t),i=[];for(let[n,l]of Object.entries(e)){let s=b.get(t,l);b.isArray(s)?r[n]=s==null?void 0:s.map(u=>b.isPlainObject(u)?ot(e)(u):u):r[n]=/(\{)/.test(l)?Me(l,t):s,n!==l&&i.push(l)}return b.omit(r,i)}}function uu(e){var l,s;let[t]=e.split(/\s+/),[r]=(l=e.match(/(year|month|day|week)/))!=null?l:[],i={day:0,month:new Date().getMonth(),year:new Date().getFullYear()},n=(s=i==null?void 0:i[r])!=null?s:0;return/(\d+){4}/.test(t)?n=Number(t):b.isNaN(Number(t))||(n+=Number(t)),n}function Ln(e){if(e.path)return e;let t=e.target;for(e.path=[];t.parentNode!==null;)e.path.push(t),t=t.parentNode;return e.path.push(document,window),e}function In(e){return(t,r="{label}")=>{if(e)for(let i in Object.keys(e))e!=null&&e[i]&&(r=r.replace(new RegExp(`{${i}}`,"g"),`{${e==null?void 0:e[i]}}`));return b.template(r,{interpolate:/{([\s\S]+?)}/g})(t)}}function jn(e){if(!!e){if(typeof e=="number"||/^([0-9]+)?(\.)?([0-9]+)$/.test(e))return`${e}px`;if(/^([0-9]+)?(\.)?([0-9]+)(px|pt|em|rem|%)$|^(auto|fit-content)$/.test(e))return e}}function ei(e){return(t,r)=>{if(!t)return t;for(let[i,n]of Object.entries(t))t[i]=n.map(l=>{if(b.isArray(l.validator)){let[s,...u]=l.validator,h=e==null?void 0:e[s];if(h)return b.merge(l,{validator:h(...u,r)})}return l});return t}}function Nn(e){return t=>{let r=b.merge(t,{}),i=b.isString(e)?e:Ue.default.safeDump(e!=null?e:""),n=Me(i,r);return Ue.default.safeLoad(n)||r}}Ee.default.prototype.$message=_i.Message;const fu={install:e=>{for(let[,t]of Object.entries(ou))e.component(`${t.name}`,t)}};g.ChannelSearchbar=Ri,g.Dialog=Jr,g.DialogForm=Cn,g.Drawer=Ei,g.Form=Xr,g.FormExpand=pr,g.FormItem=wr,g.LoginForm=Oi,g.Plugin=fu,g.Qrcode=Ai,g.Sidebar=Di,g.SidebarItem=br,g.filterChannelDataNode=Qr,g.getConditions=su,g.getFilter=Bn,g.isDisabled=Pn,g.isFilter=kn,g.parseCommand=An,g.parseContent=Zr,g.parseDate=at,g.parseMouseEvent=Ln,g.parseParams=Nn,g.parseProps=ot,g.parseRules=ei,g.parseTemplate=Me,g.runCommand=lu,g.toFormatString=In,g.toStyleSize=jn,Object.defineProperties(g,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
