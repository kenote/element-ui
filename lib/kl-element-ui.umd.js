(function(b,Lt){typeof exports=="object"&&typeof module!="undefined"?Lt(exports,require("vue"),require("lodash"),require("@kenote/common"),require("rule-judgment"),require("element-ui"),require("monaco-editor"),require("vue-router"),require("js-yaml"),require("nunjucks")):typeof define=="function"&&define.amd?define(["exports","vue","lodash","@kenote/common","rule-judgment","element-ui","monaco-editor","vue-router","js-yaml","nunjucks"],Lt):(b=typeof globalThis!="undefined"?globalThis:b||self,Lt(b["kl-element-ui"]={},b.Vue,b.lodash,b["@kenote/common"],b["rule-judgment"],b["element-ui"],b["monaco-editor"],null,b["js-yaml"],b.nunjucks))})(this,function(b,Lt,x,Fr,po,Ti,ho,_f,vo,yo){"use strict";function jt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function _o(e){if(e&&e.__esModule)return e;var t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var Ne=jt(Lt),Cr=jt(x),nt=jt(po),ot=_o(ho),Ue=jt(vo),mo=jt(yo);/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function nr(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nr=function(t){return typeof t}:nr=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(e)}function go(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bo(e){return wo(e)||xo(e)||Eo()}function wo(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function xo(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Eo(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function $o(){return typeof Reflect!="undefined"&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function So(e,t){Or(e,t),Object.getOwnPropertyNames(t.prototype).forEach(function(r){Or(e.prototype,t.prototype,r)}),Object.getOwnPropertyNames(t).forEach(function(r){Or(e,t,r)})}function Or(e,t,r){var i=r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t);i.forEach(function(n){var a=r?Reflect.getOwnMetadata(n,t,r):Reflect.getOwnMetadata(n,t);r?Reflect.defineMetadata(n,a,e,r):Reflect.defineMetadata(n,a,e)})}var Do={__proto__:[]},Ro=Do instanceof Array;function or(e){return function(t,r,i){var n=typeof t=="function"?t:t.constructor;n.__decorators__||(n.__decorators__=[]),typeof i!="number"&&(i=void 0),n.__decorators__.push(function(a){return e(a,r,i)})}}function Ee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ne.default.extend({mixins:t})}function Fo(e){var t=nr(e);return e==null||t!=="object"&&t!=="function"}function Co(e,t){var r=t.prototype._init;t.prototype._init=function(){var a=this,s=Object.getOwnPropertyNames(e);if(e.$options.props)for(var u in e.$options.props)e.hasOwnProperty(u)||s.push(u);s.forEach(function(v){Object.defineProperty(a,v,{get:function(){return e[v]},set:function(E){e[v]=E},configurable:!0})})};var i=new t;t.prototype._init=r;var n={};return Object.keys(i).forEach(function(a){i[a]!==void 0&&(n[a]=i[a])}),n}var Mr=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function Ai(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach(function(u){if(u!=="constructor"){if(Mr.indexOf(u)>-1){t[u]=r[u];return}var v=Object.getOwnPropertyDescriptor(r,u);v.value!==void 0?typeof v.value=="function"?(t.methods||(t.methods={}))[u]=v.value:(t.mixins||(t.mixins=[])).push({data:function(){return go({},u,v.value)}}):(v.get||v.set)&&((t.computed||(t.computed={}))[u]={get:v.get,set:v.set})}}),(t.mixins||(t.mixins=[])).push({data:function(){return Co(this,e)}});var i=e.__decorators__;i&&(i.forEach(function(u){return u(t)}),delete e.__decorators__);var n=Object.getPrototypeOf(e.prototype),a=n instanceof Ne.default?n.constructor:Ne.default,s=a.extend(t);return Mo(s,e,a),$o()&&So(s,e),s}var Oo={prototype:!0,arguments:!0,callee:!0,caller:!0};function Mo(e,t,r){Object.getOwnPropertyNames(t).forEach(function(i){if(!Oo[i]){var n=Object.getOwnPropertyDescriptor(e,i);if(!(n&&!n.configurable)){var a=Object.getOwnPropertyDescriptor(t,i);if(!Ro){if(i==="cid")return;var s=Object.getOwnPropertyDescriptor(r,i);if(!Fo(a.value)&&s&&s.value===a.value)return}Object.defineProperty(e,i,a)}}})}function le(e){return typeof e=="function"?Ai(e):function(t){return Ai(t,e)}}le.registerHooks=function(t){Mr.push.apply(Mr,bo(t))};var Pi=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var a=arguments[t],s=0,u=a.length;s<u;s++,n++)i[n]=a[s];return i},To=/\B([A-Z])/g,Ao=function(e){return e.replace(To,"-$1").toLowerCase()};function J(e){return function(t,r,i){var n=Ao(r),a=i.value;i.value=function(){for(var u=this,v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];var E=function(D){var F=e||n;D===void 0?v.length===0?u.$emit(F):v.length===1?u.$emit(F,v[0]):u.$emit.apply(u,Pi([F],v)):(v.unshift(D),u.$emit.apply(u,Pi([F],v)))},S=a.apply(this,v);return Po(S)?S.then(E):E(S),S}}}function Po(e){return e instanceof Promise||e&&typeof e.then=="function"}function ko(e){return typeof e!="function"||!e.managed&&!e.managedReactive}function Bo(e){var t=function(){var r=this,i=typeof e=="function"?e.call(this):e;i=Object.create(i||null),i[It]=Object.create(this[It]||{});for(var n in t.managed)i[t.managed[n]]=this[n];var a=function(u){i[t.managedReactive[u]]=s[u],Object.defineProperty(i[It],t.managedReactive[u],{enumerable:!0,configurable:!0,get:function(){return r[u]}})},s=this;for(var n in t.managedReactive)a(n);return i};return t.managed={},t.managedReactive={},t}var It="__reactiveInject__";function Lo(e){Array.isArray(e.inject)||(e.inject=e.inject||{},e.inject[It]={from:It,default:{}})}var jo=typeof Reflect!="undefined"&&typeof Reflect.getMetadata!="undefined";function ki(e,t,r){if(jo&&!Array.isArray(e)&&typeof e!="function"&&!e.hasOwnProperty("type")&&typeof e.type=="undefined"){var i=Reflect.getMetadata("design:type",t,r);i!==Object&&(e.type=i)}}function ar(e,t){return t===void 0&&(t={}),function(r,i){ki(t,r,i),or(function(n,a){(n.props||(n.props={}))[a]=t,n.model={prop:a,event:e||a}})(r,i)}}function y(e){return e===void 0&&(e={}),function(t,r){ki(e,t,r),or(function(i,n){(i.props||(i.props={}))[n]=e})(t,r)}}function U(e){return or(function(t,r){var i=t.provide;Lo(t),ko(i)&&(i=t.provide=Bo(i)),i.managed[r]=e||r})}function ie(e,t){t===void 0&&(t={});var r=t.deep,i=r===void 0?!1:r,n=t.immediate,a=n===void 0?!1:n;return or(function(s,u){typeof s.watch!="object"&&(s.watch=Object.create(null));var v=s.watch;typeof v[e]=="object"&&!Array.isArray(v[e])?v[e]=[v[e]]:typeof v[e]=="undefined"&&(v[e]=[]),v[e].push({handler:u,deep:i,immediate:a})})}var Io=Object.defineProperty,No=Object.getOwnPropertyDescriptor,Re=(e,t,r,i)=>{for(var n=i>1?void 0:i?No(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Io(t,r,n),n};let we=class extends Ne.default{constructor(){super(...arguments),this.styles={},this.timestamp=0}onWidthChange(e,t){e!==t&&this.getStyles(e)}onVisibleChange(e,t){e!==t&&(e?(document.addEventListener("click",this.handleClick,!0),this.styles=x.merge(this.styles,{[this.placement]:"0"}),this.timestamp=Date.now(),this.$emit("open",null)):(document.removeEventListener("click",this.handleClick,!1),this.styles=x.merge(this.styles,{[this.placement]:`-${this.width}${this.unit}`})))}handleClick(e){var i,n,a;if(this.lock)return;let t=(i=this.$refs)==null?void 0:i.drawer;if(!x.compact((n=lo(e).path)==null?void 0:n.map(s=>s.className)).includes((a=t==null?void 0:t.className)!=null?a:"")){if(Date.now()-this.timestamp<10)return;this.visible&&this.$emit("close",null)}}getStyles(e){let t=["top","bottom"].includes(this.placement)?"height":"width",r={};["left","right"].includes(this.placement)&&(r.top=`${this.offset}${this.unit}`),this.zIndex&&(r["z-index"]=this.zIndex),this.styles=x.merge({[t]:`${e}${this.unit}`,[this.placement]:`-${e}${this.unit}`},r)}};Re([y({default:"right"})],we.prototype,"placement",2),Re([y({default:360})],we.prototype,"width",2),Re([y({default:!1})],we.prototype,"visible",2),Re([y({default:!1})],we.prototype,"lock",2),Re([y({default:void 0})],we.prototype,"zIndex",2),Re([y({default:"px"})],we.prototype,"unit",2),Re([y({default:0})],we.prototype,"offset",2),Re([U()],we.prototype,"styles",2),Re([U()],we.prototype,"timestamp",2),Re([ie("width")],we.prototype,"onWidthChange",1),Re([ie("visible")],we.prototype,"onVisibleChange",1),we=Re([le({name:"KlDrawer",created(){this.getStyles(this.width)}})],we);var Uo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"drawer",staticClass:"kl-drawer",class:e.placement,style:e.styles},[e._t("header"),e._t("default"),e._t("footer")],2)},Ko=[],mf="";function he(e,t,r,i,n,a,s,u){var v=typeof e=="function"?e.options:e;t&&(v.render=t,v.staticRenderFns=r,v._compiled=!0),i&&(v.functional=!0),a&&(v._scopeId="data-v-"+a);var w;if(s?(w=function(D){D=D||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!D&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(D=__VUE_SSR_CONTEXT__),n&&n.call(this,D),D&&D._registeredComponents&&D._registeredComponents.add(s)},v._ssrRegister=w):n&&(w=u?function(){n.call(this,(v.functional?this.parent:this).$root.$options.shadowRoot)}:n),w)if(v.functional){v._injectStyles=w;var E=v.render;v.render=function(F,C){return w.call(C),E(F,C)}}else{var S=v.beforeCreate;v.beforeCreate=S?[].concat(S,w):[w]}return{exports:e,options:v}}const Bi={};var qo=he(we,Uo,Ko,!1,Wo,null,null,null);function Wo(e){for(let t in Bi)this[t]=Bi[t]}var Li=function(){return qo.exports}(),zo=Object.defineProperty,Vo=Object.getOwnPropertyDescriptor,ue=(e,t,r,i)=>{for(var n=i>1?void 0:i?Vo(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&zo(t,r,n),n};let ne=class extends Ne.default{constructor(){super(...arguments),this.keywords="",this.restaurants=[]}onKeywordsChange(e,t){e!==t&&this.update(e)}onValueChange(e,t){e!==t&&(this.keywords=e)}onDataChange(e,t){e!==t&&(this.restaurants=Fr.initMaps(e))}update(e){}handleCommand(e){}handleFocus(e){}handleBlur(e){}querySearch(e,t){let r=[];pi(this.restaurants,x.trim(e),r),this.filter&&(r=r.filter(nt.default(this.filter)));let i=x.assign({value:"name",key:"key",description:"description"},this.props);t(r.map(Tt(i)))}handleClear(){var t;this.keywords="";let e=(t=this.$refs)==null?void 0:t.searchbar;setTimeout(()=>{e.focus()},300)}keyWordsString(e){var r;let t=x.trim(this.keywords);return(r=e.name)==null?void 0:r.replace(new RegExp(`(${t})`,"gi"),"<span class='keywords'>$1</span>")}handleSelect(e){this.handleCommand(e),this.handleClear()}};ue([U()],ne.prototype,"item",2),ue([y({default:"\u641C\u7D22\u5185\u5BB9"})],ne.prototype,"placeholder",2),ue([y({default:void 0})],ne.prototype,"data",2),ue([y({default:void 0})],ne.prototype,"props",2),ue([y({default:void 0})],ne.prototype,"filter",2),ue([y({default:"searchbar-popper"})],ne.prototype,"popperClass",2),ue([y({default:"default"})],ne.prototype,"size",2),ue([U()],ne.prototype,"keywords",2),ue([U()],ne.prototype,"restaurants",2),ue([ar("update")],ne.prototype,"value",2),ue([ie("keywords")],ne.prototype,"onKeywordsChange",1),ue([ie("value")],ne.prototype,"onValueChange",1),ue([ie("data")],ne.prototype,"onDataChange",1),ue([J("update")],ne.prototype,"update",1),ue([J("command")],ne.prototype,"handleCommand",1),ue([J("focus")],ne.prototype,"handleFocus",1),ue([J("blur")],ne.prototype,"handleBlur",1),ne=ue([le({name:"KlChannelSearchbar",mounted(){var e;this.keywords=this.value,this.restaurants=Fr.initMaps((e=this.data)!=null?e:[])}})],ne);var Ho=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-autocomplete",{ref:"searchbar",attrs:{size:e.size,"prefix-icon":"el-icon-search","popper-class":e.popperClass,placeholder:e.placeholder,"fetch-suggestions":e.querySearch},on:{focus:e.handleFocus,blur:e.handleBlur,select:e.handleSelect},scopedSlots:e._u([{key:"default",fn:function(i){var n=i.item;return r("div",{},[n.maps?r("div",{staticClass:"name"},e._l(n.maps,function(a,s){return r("fragment",{key:s},[[s>0?r("span",[e._v(" > ")]):e._e(),r("span",{domProps:{innerHTML:e._s(e.keyWordsString(a))}})]],2)}),1):r("div",{staticClass:"name"},[e._v(e._s(n.name))]),n.description?r("span",{staticClass:"description"},[e._v(e._s(n.description))]):e._e()])}}]),model:{value:e.keywords,callback:function(i){e.keywords=i},expression:"keywords"}},[r("i",{directives:[{name:"show",rawName:"v-show",value:e.keywords,expression:"keywords"}],staticClass:"el-icon-error el-input__icon",attrs:{slot:"suffix"},on:{click:e.handleClear},slot:"suffix"})])},Yo=[],gf="";const ji={};var Go=he(ne,Ho,Yo,!1,Xo,null,null,null);function Xo(e){for(let t in ji)this[t]=ji[t]}var Ii=function(){return Go.exports}(),Jo=Object.defineProperty,Qo=Object.getOwnPropertyDescriptor,Tr=(e,t,r,i)=>{for(var n=i>1?void 0:i?Qo(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Jo(t,r,n),n};b.KlBaseMixin=class extends Ne.default{constructor(){super(...arguments),this._=Cr.default,this.isDisabled=no(this.env),this.isFilter=oo(this.env),this.parseProps=Tt,this.parseTemplate=He,this.toFormatString=so,this.getFilter=ao,this.toStyleSize=uo}parseTag(e,t){let[r,i]=e.split("_");return Cr.default.get({label:r,type:i},t)}command(e,t,r){}},Tr([y({default:void 0})],b.KlBaseMixin.prototype,"env",2),Tr([J("command")],b.KlBaseMixin.prototype,"command",1),b.KlBaseMixin=Tr([le({name:"KlBaseMixin"})],b.KlBaseMixin);var Zo=Object.defineProperty,ea=Object.getOwnPropertyDescriptor,Ke=(e,t,r,i)=>{for(var n=i>1?void 0:i?ea(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Zo(t,r,n),n};let Me=class extends Ee(b.KlBaseMixin){};Ke([y({default:""})],Me.prototype,"name",2),Ke([y({default:""})],Me.prototype,"icon",2),Ke([y({default:void 0})],Me.prototype,"children",2),Ke([y({default:""})],Me.prototype,"index",2),Ke([y({default:""})],Me.prototype,"tag",2),Ke([y({default:!1})],Me.prototype,"disabled",2),Ke([y({default:""})],Me.prototype,"popperClass",2),Ke([y({default:""})],Me.prototype,"tagClass",2),Me=Ke([le({name:"KlSidebarItem"})],Me);var ta=function(){var e,t=this,r=t.$createElement,i=t._self._c||r;return i("div",[((e=t.children)===null||e===void 0?void 0:e.length)>0?i("el-submenu",{attrs:{index:t.index,"popper-class":t.popperClass}},[i("template",{slot:"title"},[t.icon?i("i",{class:t.icon}):t._e(),t._v(" "+t._s(t.name)+" ")]),t._l(t.children,function(n,a){var s;return i("kl-sidebar-item",{key:a,attrs:{name:n.name,icon:n.icon,index:(s=n.route)!==null&&s!==void 0?s:n.key,children:n.children,tag:n.tag,disabled:n.disabled,eenv:t.env,"popper-class":t.popperClass,"tag-class":t.tagClass}})})],2):i("el-menu-item",{attrs:{index:t.index,disabled:t.isDisabled(t.disabled)}},[t.icon?i("i",{class:t.icon}):t._e(),t._v(" "+t._s(t.name)+" "),t.tag?i("el-tag",{staticClass:"kl-sidebar-item_tag",class:t.tagClass,attrs:{type:t.parseTag(t.tag,"type"),effect:"dark"}},[t._v(t._s(t.parseTag(t.tag,"label")))]):t._e()],1)],1)},ra=[],bf="";const Ni={};var ia=he(Me,ta,ra,!1,na,null,null,null);function na(e){for(let t in Ni)this[t]=Ni[t]}var Ar=function(){return ia.exports}(),oa=Object.defineProperty,aa=Object.getOwnPropertyDescriptor,qe=(e,t,r,i)=>{for(var n=i>1?void 0:i?aa(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&oa(t,r,n),n};let Te=class extends Ee(b.KlBaseMixin){handleSelect(e){}};qe([y({default:""})],Te.prototype,"defaultActive",2),qe([y({default:!1})],Te.prototype,"collapse",2),qe([y({default:!1})],Te.prototype,"uniqueOpened",2),qe([y({default:!1})],Te.prototype,"router",2),qe([y({default:void 0})],Te.prototype,"data",2),qe([y({default:""})],Te.prototype,"popperClass",2),qe([y({default:""})],Te.prototype,"tagClass",2),qe([J("select")],Te.prototype,"handleSelect",1),Te=qe([le({name:"KlSidebar",components:{SidebarItem:Ar}})],Te);var la=function(){var e,t=this,r=t.$createElement,i=t._self._c||r;return i("div",{staticClass:"kl-sidebar"},[t.$slots.header?i("div",{staticClass:"header"},[t._t("header")],2):t._e(),i("perfect-scrollbar",{staticStyle:{flex:"1"},attrs:{options:{suppressScrollX:!0}}},[i("el-menu",{attrs:{mode:"vertical","default-active":t.defaultActive,collapse:t.collapse,"unique-opened":t.uniqueOpened,router:t.router},on:{select:t.handleSelect}},t._l((e=t.data)!==null&&e!==void 0?e:[],function(n,a){var s;return i("sidebar-item",{key:a,attrs:{name:n.name,icon:n.icon,children:n.children,index:(s=n.route)!==null&&s!==void 0?s:n.key,tag:n.tag,"popper-class":t.popperClass,"tag-class":t.tagClass,env:t.env}})}),1)],1),t.$slots.footer?i("div",{staticClass:"footer"},[t._t("footer")],2):t._e()],1)},sa=[],wf="";const Ui={};var ua=he(Te,la,sa,!1,fa,null,null,null);function fa(e){for(let t in Ui)this[t]=Ui[t]}var Ki=function(){return ua.exports}(),xf="",da=Object.defineProperty,ca=Object.getOwnPropertyDescriptor,se=(e,t,r,i)=>{for(var n=i>1?void 0:i?ca(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&da(t,r,n),n};let re=class extends Ne.default{constructor(){super(...arguments),this.times=0,this.values={},this.rules={username:[{required:!0,message:this.usernameMessage}],password:[{required:!0,message:this.passwordMessage}]}}submit(e,t){}handleSubmit(){if(this.times>0){Ti.Message.warning(He(this.waitMessage,{step:this.times}));return}this.$refs.theForm.validate(t=>{if(t)this.submit(this.values,this.callback);else return!1})}callback(e,t){e?this.sendWait(this.waitStep):this.$refs.theForm.resetFields()}sendWait(e){this.times=e;let t=setInterval(()=>{this.times--,this.times<=0&&(clearTimeout(t),t=null)},1e3)}};se([y({default:!1})],re.prototype,"loading",2),se([y({default:"\u7528\u6237\u540D"})],re.prototype,"usernameLabel",2),se([y({default:"\u7528\u6237\u540D"})],re.prototype,"usernamePlaceholder",2),se([y({default:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"})],re.prototype,"usernameMessage",2),se([y({default:"\u5BC6\u7801"})],re.prototype,"passwordLabel",2),se([y({default:"\u5BC6\u7801"})],re.prototype,"passwordPlaceholder",2),se([y({default:"\u8BF7\u8F93\u5165\u5BC6\u7801"})],re.prototype,"passwordMessage",2),se([y({default:"\u767B \u5F55"})],re.prototype,"submitName",2),se([y({default:"primary"})],re.prototype,"buttonType",2),se([y({default:"\u5176\u4ED6\u65B9\u5F0F"})],re.prototype,"thirdpartyLoginText",2),se([y({default:!1})],re.prototype,"thirdpartyLogin",2),se([y({default:!1})],re.prototype,"qrcodeLogin",2),se([y({default:5})],re.prototype,"waitStep",2),se([y({default:"\u8BF7\u5728 {{step}} \u79D2\u540E\u518D\u505A\u63D0\u4EA4"})],re.prototype,"waitMessage",2),se([U()],re.prototype,"times",2),se([U()],re.prototype,"values",2),se([U()],re.prototype,"rules",2),se([J("submit")],re.prototype,"submit",1),re=se([le({name:"KlLoginForm"})],re);var pa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"landing-body",style:e.qrcodeLogin?"padding: 40px 0 60px 0":""},[e.qrcodeLogin?[r("div",{staticClass:"protocol"},[e._t("protocol")],2),r("div",{staticClass:"qr-method"},[e._t("qrcode")],2)]:e._e(),r("div",{staticClass:"wrapper"},[r("el-form",{ref:"theForm",attrs:{model:e.values,rules:e.rules,"label-position":"top","hide-required-asterisk":""},nativeOn:{submit:function(i){return i.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[r("el-form-item",{staticClass:"h-96px",attrs:{prop:"username",rules:e.rules.username,label:e.usernameLabel}},[r("el-input",{attrs:{placeholder:e.usernamePlaceholder},model:{value:e.values.username,callback:function(i){e.$set(e.values,"username",i)},expression:"values.username"}})],1),r("el-form-item",{staticClass:"h-96px",attrs:{prop:"password",rules:e.rules.password,label:e.passwordLabel}},[r("el-input",{attrs:{type:"password",placeholder:e.passwordPlaceholder},model:{value:e.values.password,callback:function(i){e.$set(e.values,"password",i)},expression:"values.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:e.buttonType,"native-type":"submit",loading:e.loading}},[e._v(e._s(e.submitName))]),r("p",{staticClass:"service-terms"},[e._t("service-terms")],2)],1)],1),e.thirdpartyLogin?r("div",{staticClass:"third-party-login-wrap"},[r("div",{staticClass:"third-party-login-text"},[e._v(e._s(e.thirdpartyLoginText))]),r("div",{staticClass:"third-party-login"},[e._t("third-party-login")],2)]):e._e()],1)],2)},ha=[],Ef="";const qi={};var va=he(re,pa,ha,!1,ya,null,null,null);function ya(e){for(let t in qi)this[t]=qi[t]}var Wi=function(){return va.exports}(),_a=Object.defineProperty,ma=Object.getOwnPropertyDescriptor,zi=(e,t,r,i)=>{for(var n=i>1?void 0:i?ma(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&_a(t,r,n),n};let lr=class extends Ne.default{};zi([y({default:void 0})],lr.prototype,"title",2),lr=zi([le({name:"KlQrcode"})],lr);var ga=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"next-loading-wrap"},[e.title?r("div",{staticClass:"qrlogin-title"},[e._v(e._s(e.title))]):e._e(),r("div",{staticClass:"qrcode-wrap"},[e._t("default")],2),r("div",{staticClass:"qrcode-text"},[e._t("description")],2)])},ba=[],$f="";const Vi={};var wa=he(lr,ga,ba,!1,xa,null,null,null);function xa(e){for(let t in Vi)this[t]=Vi[t]}var Hi=function(){return wa.exports}(),Ea=Object.defineProperty,$a=Object.getOwnPropertyDescriptor,H=(e,t,r,i)=>{for(var n=i>1?void 0:i?$a(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Ea(t,r,n),n};let K=class extends Ee(b.KlBaseMixin){constructor(){super(...arguments),this.values="",this.style={},this.propData=[],this.filterMethod=null,this.filter={},this.merge=x.merge}update(e){}change(e,t){}getData(e,t,r){}onValueChange(e,t){e!==t&&(this.values=this.getValue(e))}onValuesChange(e,t){e!==t&&(this.update(e),this.change(e,t))}onWidthChange(e,t){e!==t&&this.updateStyle({width:this.toStyleSize(this.width)})}getValue(e){let t=nt.default({$regex:/transfer|checkbox|datanode/i})(this.type)?[]:e;return e!=null?e:t}updateStyle(e){this.style=x.pickBy({...this.style,...e},t=>t!==void 0)}toProps(e){var r,i,n;let t=x.merge(this.props,{[e]:!((r=this.props)!=null&&r.value)||((i=this.props)==null?void 0:i.value)==e?"value":(n=this.props)==null?void 0:n.value});return(!e||e!=="value")&&x.unset(t,"value"),t}};H([y({default:"input"})],K.prototype,"type",2),H([y()],K.prototype,"width",2),H([y({default:void 0})],K.prototype,"placeholder",2),H([y({default:!1})],K.prototype,"disabled",2),H([y({default:!1})],K.prototype,"readonly",2),H([y({default:void 0})],K.prototype,"size",2),H([y({default:void 0})],K.prototype,"options",2),H([y({default:void 0})],K.prototype,"data",2),H([y({default:void 0})],K.prototype,"props",2),H([y({default:void 0})],K.prototype,"format",2),H([y({default:void 0})],K.prototype,"valueFormat",2),H([y({default:void 0})],K.prototype,"pickerOptions",2),H([y({default:void 0})],K.prototype,"requestOptions",2),H([U()],K.prototype,"values",2),H([U()],K.prototype,"style",2),H([U()],K.prototype,"propData",2),H([U()],K.prototype,"filterMethod",2),H([U()],K.prototype,"filter",2),H([ar("update")],K.prototype,"value",2),H([J("update")],K.prototype,"update",1),H([J("change")],K.prototype,"change",1),H([J("get-data")],K.prototype,"getData",1),H([ie("value")],K.prototype,"onValueChange",1),H([ie("values")],K.prototype,"onValuesChange",1),H([ie("width")],K.prototype,"onWidthChange",1),K=H([le({name:"KlFormItem",created(){var t,r,i;this.propData=(r=(t=this.data)==null?void 0:t.map(Tt(this.props)))!=null?r:[],this.requestOptions&&this.getData(this.requestOptions,null,n=>{var a;this.propData=(a=n==null?void 0:n.map(Tt(this.props)))!=null?a:[]}),this.values=this.getValue(this.value),this.updateStyle({width:this.toStyleSize(this.width)});let{filterMethod:e}=(i=this.options)!=null?i:{};if(e){let n=e;if(x.isString(e))try{n=Ue.default.load(e)}catch(a){a instanceof Error&&console.error(a.message)}x.isFunction(n)&&(this.filterMethod=n)}}})],K);var Sa=function(){var e,t,r,i,n,a,s,u,v,w,E,S,D,F,C,T,g,q,I,p,B,P,R,V,De,Ye,Ge,Xe,Je,Qe,je,Ie,Ze,et,tt,rt,it,L,A,te,de,At,Zt,er,mt,tr,rr,Pt,dt,xe,gt,ir,f,o,l,c,h,_,m,k,N,W,ae,Y,ct,kt,Bt,yi,_i,mi,gi,bi,wi,xi,Ei,$i,Si,Di,Ri,d=this,vf=d.$createElement,z=d._self._c||vf;return d.type=="password"?z("el-input",{style:d.style,attrs:{type:"password",placeholder:d.placeholder,disabled:d.disabled,clearable:(e=d.options)===null||e===void 0?void 0:e.clearable,minlength:(t=d.options)===null||t===void 0?void 0:t.minlength,maxlength:(r=d.options)===null||r===void 0?void 0:r.maxlength,"show-password":(i=d.options)===null||i===void 0?void 0:i.showPassword,size:d.size,readonly:d.readonly},model:{value:d.values,callback:function($){d.values=$},expression:"values"}}):d.type=="input-number"?z("el-input-number",{style:d.style,attrs:{placeholder:d.placeholder,disabled:d.disabled,min:(n=d.options)===null||n===void 0?void 0:n.min,max:(a=d.options)===null||a===void 0?void 0:a.max,step:(s=d.options)===null||s===void 0?void 0:s.step,precision:(u=d.options)===null||u===void 0?void 0:u.precision,"step-strictly":(v=d.options)===null||v===void 0?void 0:v.stepStrictly,controls:(w=d.options)===null||w===void 0?void 0:w.controls,"controls-position":(E=d.options)===null||E===void 0?void 0:E.controlsPosition,label:(S=d.options)===null||S===void 0?void 0:S.label,size:d.size,readonly:d.readonly},model:{value:d.values,callback:function($){d.values=$},expression:"values"}}):d.type=="textarea"?z("el-input",{style:d.style,attrs:{type:"textarea",placeholder:d.placeholder,disabled:d.disabled,clearable:(D=d.options)===null||D===void 0?void 0:D.clearable,minlength:(F=d.options)===null||F===void 0?void 0:F.minlength,maxlength:(C=d.options)===null||C===void 0?void 0:C.maxlength,"show-word-limit":(T=d.options)===null||T===void 0?void 0:T.showWordLimit,rows:(g=d.options)===null||g===void 0?void 0:g.rows,autosize:(q=d.options)===null||q===void 0?void 0:q.autosize,resize:(I=d.options)===null||I===void 0?void 0:I.resize,readonly:d.readonly},model:{value:d.values,callback:function($){d.values=$},expression:"values"}}):/^(radio)/.test(d.type)?z("el-radio-group",{style:d.style,attrs:{disabled:d.disabled,size:d.size},model:{value:d.values,callback:function($){d.values=$},expression:"values"}},[/(button)$/.test(d.type)?d._l(d.propData,function($,ke){return z("el-radio-button",{key:ke,attrs:{label:$.value,disabled:$.disabled}},[d._v(" "+d._s(d.toFormatString(d.props)($,d.format))+" ")])}):d._l(d.propData,function($,ke){return z("el-radio",{key:ke,attrs:{label:$.value,disabled:$.disabled}},[d._v(" "+d._s(d.toFormatString(d.props)($,d.format))+" ")])})],2):/^(checkbox)/.test(d.type)?z("el-checkbox-group",{style:d.style,attrs:{disabled:d.disabled,size:d.size},model:{value:d.values,callback:function($){d.values=$},expression:"values"}},[/(button)$/.test(d.type)?d._l(d.propData,function($,ke){return z("el-checkbox-button",{key:ke,attrs:{label:$.value,disabled:$.disabled}},[d._v(" "+d._s(d.toFormatString(d.props)($,d.format))+" ")])}):d._l(d.propData,function($,ke){return z("el-checkbox",{key:ke,attrs:{label:$.value,disabled:$.disabled}},[d._v(" "+d._s(d.toFormatString(d.props)($,d.format))+" ")])})],2):d.type=="select"?z("el-select",{style:d.style,attrs:{disabled:d.disabled,size:d.size,placeholder:d.placeholder,clearable:(p=d.options)===null||p===void 0?void 0:p.clearable,filterable:(B=d.options)===null||B===void 0?void 0:B.filterable,multiple:(P=d.options)===null||P===void 0?void 0:P.multiple,"multiple-limit":(R=d.options)===null||R===void 0?void 0:R.multipleLimit,"allow-create":(V=d.options)===null||V===void 0?void 0:V.allowCreate,"popper-class":(De=d.options)===null||De===void 0?void 0:De.popperClass,"collapse-tags":""},model:{value:d.values,callback:function($){d.values=$},expression:"values"}},[d._l(d.propData,function($,ke){var Fi,Ci;return["children"in $?z("el-option-group",{key:$.label,attrs:{label:$.label}},d._l($.children,function(bt,yf){var Oi,Mi;return z("el-option",{key:yf,attrs:{label:d.toFormatString(d.props)(bt,d.format),value:bt==null?void 0:bt.value,disabled:bt==null?void 0:bt.disabled}},[(Oi=d.options)!==null&&Oi!==void 0&&Oi.template?z("div",{domProps:{innerHTML:d._s(d.toFormatString(d.props)($,(Mi=d.options)===null||Mi===void 0?void 0:Mi.template))}}):d._e()])}),1):z("el-option",{key:ke,attrs:{label:d.toFormatString(d.props)($,d.format),value:$.value,disabled:$==null?void 0:$.disabled}},[(Fi=d.options)!==null&&Fi!==void 0&&Fi.template?z("div",{domProps:{innerHTML:d._s(d.toFormatString(d.props)($,(Ci=d.options)===null||Ci===void 0?void 0:Ci.template))}}):d._e()])]})],2):["year","years","month","months","date","dates","week","datetime"].includes(d.type)?z("el-date-picker",{style:d.style,attrs:{type:d.type,placeholder:d.placeholder,disabled:d.disabled,format:d.format,"value-format":d.valueFormat,size:d.size,"picker-options":d.pickerOptions,align:(Ye=d.options)===null||Ye===void 0?void 0:Ye.align,clearable:(Ge=d.options)===null||Ge===void 0?void 0:Ge.clearable,editable:(Xe=d.options)===null||Xe===void 0?void 0:Xe.editable,"default-time":(Je=d.options)===null||Je===void 0?void 0:Je.defaultTime,readonly:d.readonly},model:{value:d.values,callback:function($){d.values=$},expression:"values"}}):["datetimerange","daterange","monthrange"].includes(d.type)?z("el-date-picker",{style:d.style,attrs:{type:d.type,"start-placeholder":(Qe=d.placeholder)===null||Qe===void 0?void 0:Qe[0],"end-placeholder":(je=d.placeholder)===null||je===void 0?void 0:je[1],disabled:d.disabled,format:d.format,"value-format":d.valueFormat,size:d.size,"picker-options":d.pickerOptions,align:(Ie=d.options)===null||Ie===void 0?void 0:Ie.align,clearable:(Ze=d.options)===null||Ze===void 0?void 0:Ze.clearable,editable:(et=d.options)===null||et===void 0?void 0:et.editable,"range-separator":(tt=d.options)===null||tt===void 0?void 0:tt.rangeSeparator,"default-time":(rt=d.options)===null||rt===void 0?void 0:rt.defaultTime,readonly:d.readonly},model:{value:d.values,callback:function($){d.values=$},expression:"values"}}):d.type=="time"?z("el-time-picker",{style:d.style,attrs:{placeholder:d.placeholder,disabled:d.disabled,"value-format":d.valueFormat,size:d.size,"picker-options":d.pickerOptions,align:(it=d.options)===null||it===void 0?void 0:it.align,clearable:(L=d.options)===null||L===void 0?void 0:L.clearable,editable:(A=d.options)===null||A===void 0?void 0:A.editable,"arrow-control":(te=d.options)===null||te===void 0?void 0:te.arrowControl,readonly:d.readonly},model:{value:d.values,callback:function($){d.values=$},expression:"values"}}):d.type=="timerange"?z("el-time-picker",{style:d.style,attrs:{"is-range":"","start-placeholder":(de=d.placeholder)===null||de===void 0?void 0:de[0],"end-placeholder":(At=d.placeholder)===null||At===void 0?void 0:At[1],disabled:d.disabled,"value-format":d.valueFormat,size:d.size,"picker-options":d.pickerOptions,align:(Zt=d.options)===null||Zt===void 0?void 0:Zt.align,clearable:(er=d.options)===null||er===void 0?void 0:er.clearable,editable:(mt=d.options)===null||mt===void 0?void 0:mt.editable,"arrow-control":(tr=d.options)===null||tr===void 0?void 0:tr.arrowControl,readonly:d.readonly},model:{value:d.values,callback:function($){d.values=$},expression:"values"}}):d.type=="switch"?z("el-switch",{attrs:{disabled:d.disabled,"active-text":(rr=d.options)===null||rr===void 0?void 0:rr.activeText,"inactive-text":(Pt=d.options)===null||Pt===void 0?void 0:Pt.inactiveText,"active-color":(dt=d.options)===null||dt===void 0?void 0:dt.activeColor,"inactive-color":(xe=d.options)===null||xe===void 0?void 0:xe.inactiveColor,"active-value":(gt=d.options)===null||gt===void 0?void 0:gt.activeValue,"inactive-value":(ir=d.options)===null||ir===void 0?void 0:ir.inactiveValue,"active-icon-class":(f=d.options)===null||f===void 0?void 0:f.activeIconClass,"inactive-icon-class":(o=d.options)===null||o===void 0?void 0:o.inactiveIconClass},model:{value:d.values,callback:function($){d.values=$},expression:"values"}}):d.type=="slider"?z("el-slider",{attrs:{disabled:d.disabled,min:(l=d.options)===null||l===void 0?void 0:l.min,max:(c=d.options)===null||c===void 0?void 0:c.max,step:(h=d.options)===null||h===void 0?void 0:h.step,range:(_=d.options)===null||_===void 0?void 0:_.range,marks:(m=d.options)===null||m===void 0?void 0:m.marks,"show-stops":(k=d.options)===null||k===void 0?void 0:k.showStops,"show-tooltip":(N=d.options)===null||N===void 0?void 0:N.showTooltip,vertical:(W=d.options)===null||W===void 0?void 0:W.vertical},model:{value:d.values,callback:function($){d.values=$},expression:"values"}}):d.type=="transfer"?z("el-form",{attrs:{disabled:d.disabled}},[z("el-transfer",{attrs:{data:d.propData,props:d.toProps("key"),filterable:(ae=d.options)===null||ae===void 0?void 0:ae.filterable,"filter-method":d.filterMethod,"filter-placeholder":(Y=d.options)===null||Y===void 0?void 0:Y.filterPlaceholder,titles:(ct=d.options)===null||ct===void 0?void 0:ct.titles,"button-texts":(kt=d.options)===null||kt===void 0?void 0:kt.buttonTexts,"target-order":(Bt=d.options)===null||Bt===void 0?void 0:Bt.targetOrder,"left-default-checked":(yi=d.options)===null||yi===void 0?void 0:yi.leftDefaultChecked,"right-default-checked":(_i=d.options)===null||_i===void 0?void 0:_i.rightDefaultChecked},scopedSlots:d._u([{key:"default",fn:function($){var ke=$.option;return z("span",{},[d._v(d._s(d.toFormatString(d.props)(ke,d.format)))])}}]),model:{value:d.values,callback:function($){d.values=$},expression:"values"}})],1):d.type=="cascader"?z("el-cascader",{style:d.style,attrs:{placeholder:d.placeholder,disabled:d.disabled,options:d.propData,props:d.props,clearable:(mi=d.options)===null||mi===void 0?void 0:mi.clearable,filterable:(gi=d.options)===null||gi===void 0?void 0:gi.filterable,"filter-method":d.filterMethod,"show-all-levels":(bi=d.options)===null||bi===void 0?void 0:bi.showAllLevels,separator:(wi=d.options)===null||wi===void 0?void 0:wi.separator,size:d.size,"collapse-tags":""},model:{value:d.values,callback:function($){d.values=$},expression:"values"}}):d.type=="cascader-panel"?z("div",{style:Object.assign({width:"fit-content"},d.disabled?{cursor:"not-allowed",opacity:.5}:null)},[z("el-cascader-panel",{style:Object.assign({display:"inline-flex"},d.style,{pointerEvents:d.disabled?"none":"inherit"}),attrs:{options:d.propData,props:d.props,size:d.size},model:{value:d.values,callback:function($){d.values=$},expression:"values"}})],1):z("el-input",{style:d.style,attrs:{placeholder:d.placeholder,disabled:d.disabled,clearable:(xi=d.options)===null||xi===void 0?void 0:xi.clearable,minlength:(Ei=d.options)===null||Ei===void 0?void 0:Ei.minlength,maxlength:($i=d.options)===null||$i===void 0?void 0:$i.maxlength,"show-word-limit":(Si=d.options)===null||Si===void 0?void 0:Si.showWordLimit,"prefix-icon":(Di=d.options)===null||Di===void 0?void 0:Di.prefixIcon,"suffix-icon":(Ri=d.options)===null||Ri===void 0?void 0:Ri.suffixIcon,size:d.size,readonly:d.readonly},model:{value:d.values,callback:function($){d.values=$},expression:"values"}})},Da=[],Sf="";const Yi={};var Ra=he(K,Sa,Da,!1,Fa,null,null,null);function Fa(e){for(let t in Yi)this[t]=Yi[t]}var sr=function(){return Ra.exports}(),Ca=Object.defineProperty,Oa=Object.getOwnPropertyDescriptor,X=(e,t,r,i)=>{for(var n=i>1?void 0:i?Oa(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Ca(t,r,n),n};b.KlFormMixin=class extends Ee(b.KlBaseMixin){submit(e,t,r){}},X([y({default:!1})],b.KlFormMixin.prototype,"loading",2),X([y({default:!1})],b.KlFormMixin.prototype,"inline",2),X([y({default:!1})],b.KlFormMixin.prototype,"border",2),X([y()],b.KlFormMixin.prototype,"columns",2),X([y()],b.KlFormMixin.prototype,"rules",2),X([y({default:void 0})],b.KlFormMixin.prototype,"defaultValues",2),X([y({default:120})],b.KlFormMixin.prototype,"labelWidth",2),X([y({default:"right"})],b.KlFormMixin.prototype,"labelPosition",2),X([y({default:""})],b.KlFormMixin.prototype,"labelSuffix",2),X([y()],b.KlFormMixin.prototype,"validate",2),X([y({default:"\u63D0 \u4EA4"})],b.KlFormMixin.prototype,"submitName",2),X([y()],b.KlFormMixin.prototype,"options",2),X([y()],b.KlFormMixin.prototype,"uniqueMethod",2),X([y({default:!1})],b.KlFormMixin.prototype,"hideRequiredAsterisk",2),X([y({default:!1})],b.KlFormMixin.prototype,"inlineMessage",2),X([y({default:!1})],b.KlFormMixin.prototype,"statusIcon",2),X([y({default:!1})],b.KlFormMixin.prototype,"disabled",2),X([y()],b.KlFormMixin.prototype,"mergeField",2),X([y()],b.KlFormMixin.prototype,"exclude",2),X([y()],b.KlFormMixin.prototype,"valueFormat",2),X([y()],b.KlFormMixin.prototype,"action",2),X([J("submit")],b.KlFormMixin.prototype,"submit",1),b.KlFormMixin=X([le({name:"KlFormMixin"})],b.KlFormMixin);var Fe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ma(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var ce={},We={exports:{}};typeof Object.create=="function"?We.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:We.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}};var Nt={exports:{}},Ut={},ur={};ur.byteLength=Pa,ur.toByteArray=Ba,ur.fromByteArray=Ia;for(var Be=[],Ce=[],Ta=typeof Uint8Array!="undefined"?Uint8Array:Array,Pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wt=0,Aa=Pr.length;wt<Aa;++wt)Be[wt]=Pr[wt],Ce[Pr.charCodeAt(wt)]=wt;Ce["-".charCodeAt(0)]=62,Ce["_".charCodeAt(0)]=63;function Gi(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function Pa(e){var t=Gi(e),r=t[0],i=t[1];return(r+i)*3/4-i}function ka(e,t,r){return(t+r)*3/4-r}function Ba(e){var t,r=Gi(e),i=r[0],n=r[1],a=new Ta(ka(e,i,n)),s=0,u=n>0?i-4:i,v;for(v=0;v<u;v+=4)t=Ce[e.charCodeAt(v)]<<18|Ce[e.charCodeAt(v+1)]<<12|Ce[e.charCodeAt(v+2)]<<6|Ce[e.charCodeAt(v+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return n===2&&(t=Ce[e.charCodeAt(v)]<<2|Ce[e.charCodeAt(v+1)]>>4,a[s++]=t&255),n===1&&(t=Ce[e.charCodeAt(v)]<<10|Ce[e.charCodeAt(v+1)]<<4|Ce[e.charCodeAt(v+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function La(e){return Be[e>>18&63]+Be[e>>12&63]+Be[e>>6&63]+Be[e&63]}function ja(e,t,r){for(var i,n=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),n.push(La(i));return n.join("")}function Ia(e){for(var t,r=e.length,i=r%3,n=[],a=16383,s=0,u=r-i;s<u;s+=a)n.push(ja(e,s,s+a>u?u:s+a));return i===1?(t=e[r-1],n.push(Be[t>>2]+Be[t<<4&63]+"==")):i===2&&(t=(e[r-2]<<8)+e[r-1],n.push(Be[t>>10]+Be[t>>4&63]+Be[t<<2&63]+"=")),n.join("")}var kr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */kr.read=function(e,t,r,i,n){var a,s,u=n*8-i-1,v=(1<<u)-1,w=v>>1,E=-7,S=r?n-1:0,D=r?-1:1,F=e[t+S];for(S+=D,a=F&(1<<-E)-1,F>>=-E,E+=u;E>0;a=a*256+e[t+S],S+=D,E-=8);for(s=a&(1<<-E)-1,a>>=-E,E+=i;E>0;s=s*256+e[t+S],S+=D,E-=8);if(a===0)a=1-w;else{if(a===v)return s?NaN:(F?-1:1)*(1/0);s=s+Math.pow(2,i),a=a-w}return(F?-1:1)*s*Math.pow(2,a-i)},kr.write=function(e,t,r,i,n,a){var s,u,v,w=a*8-n-1,E=(1<<w)-1,S=E>>1,D=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=i?0:a-1,C=i?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=E):(s=Math.floor(Math.log(t)/Math.LN2),t*(v=Math.pow(2,-s))<1&&(s--,v*=2),s+S>=1?t+=D/v:t+=D*Math.pow(2,1-S),t*v>=2&&(s++,v/=2),s+S>=E?(u=0,s=E):s+S>=1?(u=(t*v-1)*Math.pow(2,n),s=s+S):(u=t*Math.pow(2,S-1)*Math.pow(2,n),s=0));n>=8;e[r+F]=u&255,F+=C,u/=256,n-=8);for(s=s<<n|u,w+=n;w>0;e[r+F]=s&255,F+=C,s/=256,w-=8);e[r+F-C]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=ur,r=kr,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=I,e.INSPECT_MAX_BYTES=50;var n=2147483647;e.kMaxLength=n,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var f=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(f,o),f.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function s(f){if(f>n)throw new RangeError('The value "'+f+'" is invalid for option "size"');var o=new Uint8Array(f);return Object.setPrototypeOf(o,u.prototype),o}function u(f,o,l){if(typeof f=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(f)}return v(f,o,l)}u.poolSize=8192;function v(f,o,l){if(typeof f=="string")return D(f,o);if(ArrayBuffer.isView(f))return C(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(xe(f,ArrayBuffer)||f&&xe(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(xe(f,SharedArrayBuffer)||f&&xe(f.buffer,SharedArrayBuffer)))return T(f,o,l);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var c=f.valueOf&&f.valueOf();if(c!=null&&c!==f)return u.from(c,o,l);var h=g(f);if(h)return h;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return u.from(f[Symbol.toPrimitive]("string"),o,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}u.from=function(f,o,l){return v(f,o,l)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function w(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function E(f,o,l){return w(f),f<=0?s(f):o!==void 0?typeof l=="string"?s(f).fill(o,l):s(f).fill(o):s(f)}u.alloc=function(f,o,l){return E(f,o,l)};function S(f){return w(f),s(f<0?0:q(f)|0)}u.allocUnsafe=function(f){return S(f)},u.allocUnsafeSlow=function(f){return S(f)};function D(f,o){if((typeof o!="string"||o==="")&&(o="utf8"),!u.isEncoding(o))throw new TypeError("Unknown encoding: "+o);var l=p(f,o)|0,c=s(l),h=c.write(f,o);return h!==l&&(c=c.slice(0,h)),c}function F(f){for(var o=f.length<0?0:q(f.length)|0,l=s(o),c=0;c<o;c+=1)l[c]=f[c]&255;return l}function C(f){if(xe(f,Uint8Array)){var o=new Uint8Array(f);return T(o.buffer,o.byteOffset,o.byteLength)}return F(f)}function T(f,o,l){if(o<0||f.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<o+(l||0))throw new RangeError('"length" is outside of buffer bounds');var c;return o===void 0&&l===void 0?c=new Uint8Array(f):l===void 0?c=new Uint8Array(f,o):c=new Uint8Array(f,o,l),Object.setPrototypeOf(c,u.prototype),c}function g(f){if(u.isBuffer(f)){var o=q(f.length)|0,l=s(o);return l.length===0||f.copy(l,0,0,o),l}if(f.length!==void 0)return typeof f.length!="number"||gt(f.length)?s(0):F(f);if(f.type==="Buffer"&&Array.isArray(f.data))return F(f.data)}function q(f){if(f>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return f|0}function I(f){return+f!=f&&(f=0),u.alloc(+f)}u.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==u.prototype},u.compare=function(o,l){if(xe(o,Uint8Array)&&(o=u.from(o,o.offset,o.byteLength)),xe(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),!u.isBuffer(o)||!u.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===l)return 0;for(var c=o.length,h=l.length,_=0,m=Math.min(c,h);_<m;++_)if(o[_]!==l[_]){c=o[_],h=l[_];break}return c<h?-1:h<c?1:0},u.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(o,l){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return u.alloc(0);var c;if(l===void 0)for(l=0,c=0;c<o.length;++c)l+=o[c].length;var h=u.allocUnsafe(l),_=0;for(c=0;c<o.length;++c){var m=o[c];if(xe(m,Uint8Array))_+m.length>h.length?u.from(m).copy(h,_):Uint8Array.prototype.set.call(h,m,_);else if(u.isBuffer(m))m.copy(h,_);else throw new TypeError('"list" argument must be an Array of Buffers');_+=m.length}return h};function p(f,o){if(u.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||xe(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var l=f.length,c=arguments.length>2&&arguments[2]===!0;if(!c&&l===0)return 0;for(var h=!1;;)switch(o){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return mt(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return Pt(f).length;default:if(h)return c?-1:mt(f).length;o=(""+o).toLowerCase(),h=!0}}u.byteLength=p;function B(f,o,l){var c=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,o>>>=0,l<=o))return"";for(f||(f="utf8");;)switch(f){case"hex":return rt(this,o,l);case"utf8":case"utf-8":return je(this,o,l);case"ascii":return et(this,o,l);case"latin1":case"binary":return tt(this,o,l);case"base64":return Qe(this,o,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return it(this,o,l);default:if(c)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),c=!0}}u.prototype._isBuffer=!0;function P(f,o,l){var c=f[o];f[o]=f[l],f[l]=c}u.prototype.swap16=function(){var o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var l=0;l<o;l+=2)P(this,l,l+1);return this},u.prototype.swap32=function(){var o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var l=0;l<o;l+=4)P(this,l,l+3),P(this,l+1,l+2);return this},u.prototype.swap64=function(){var o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var l=0;l<o;l+=8)P(this,l,l+7),P(this,l+1,l+6),P(this,l+2,l+5),P(this,l+3,l+4);return this},u.prototype.toString=function(){var o=this.length;return o===0?"":arguments.length===0?je(this,0,o):B.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(o){if(!u.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:u.compare(this,o)===0},u.prototype.inspect=function(){var o="",l=e.INSPECT_MAX_BYTES;return o=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(o+=" ... "),"<Buffer "+o+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(o,l,c,h,_){if(xe(o,Uint8Array)&&(o=u.from(o,o.offset,o.byteLength)),!u.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(l===void 0&&(l=0),c===void 0&&(c=o?o.length:0),h===void 0&&(h=0),_===void 0&&(_=this.length),l<0||c>o.length||h<0||_>this.length)throw new RangeError("out of range index");if(h>=_&&l>=c)return 0;if(h>=_)return-1;if(l>=c)return 1;if(l>>>=0,c>>>=0,h>>>=0,_>>>=0,this===o)return 0;for(var m=_-h,k=c-l,N=Math.min(m,k),W=this.slice(h,_),ae=o.slice(l,c),Y=0;Y<N;++Y)if(W[Y]!==ae[Y]){m=W[Y],k=ae[Y];break}return m<k?-1:k<m?1:0};function R(f,o,l,c,h){if(f.length===0)return-1;if(typeof l=="string"?(c=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,gt(l)&&(l=h?0:f.length-1),l<0&&(l=f.length+l),l>=f.length){if(h)return-1;l=f.length-1}else if(l<0)if(h)l=0;else return-1;if(typeof o=="string"&&(o=u.from(o,c)),u.isBuffer(o))return o.length===0?-1:V(f,o,l,c,h);if(typeof o=="number")return o=o&255,typeof Uint8Array.prototype.indexOf=="function"?h?Uint8Array.prototype.indexOf.call(f,o,l):Uint8Array.prototype.lastIndexOf.call(f,o,l):V(f,[o],l,c,h);throw new TypeError("val must be string, number or Buffer")}function V(f,o,l,c,h){var _=1,m=f.length,k=o.length;if(c!==void 0&&(c=String(c).toLowerCase(),c==="ucs2"||c==="ucs-2"||c==="utf16le"||c==="utf-16le")){if(f.length<2||o.length<2)return-1;_=2,m/=2,k/=2,l/=2}function N(kt,Bt){return _===1?kt[Bt]:kt.readUInt16BE(Bt*_)}var W;if(h){var ae=-1;for(W=l;W<m;W++)if(N(f,W)===N(o,ae===-1?0:W-ae)){if(ae===-1&&(ae=W),W-ae+1===k)return ae*_}else ae!==-1&&(W-=W-ae),ae=-1}else for(l+k>m&&(l=m-k),W=l;W>=0;W--){for(var Y=!0,ct=0;ct<k;ct++)if(N(f,W+ct)!==N(o,ct)){Y=!1;break}if(Y)return W}return-1}u.prototype.includes=function(o,l,c){return this.indexOf(o,l,c)!==-1},u.prototype.indexOf=function(o,l,c){return R(this,o,l,c,!0)},u.prototype.lastIndexOf=function(o,l,c){return R(this,o,l,c,!1)};function De(f,o,l,c){l=Number(l)||0;var h=f.length-l;c?(c=Number(c),c>h&&(c=h)):c=h;var _=o.length;c>_/2&&(c=_/2);for(var m=0;m<c;++m){var k=parseInt(o.substr(m*2,2),16);if(gt(k))return m;f[l+m]=k}return m}function Ye(f,o,l,c){return dt(mt(o,f.length-l),f,l,c)}function Ge(f,o,l,c){return dt(tr(o),f,l,c)}function Xe(f,o,l,c){return dt(Pt(o),f,l,c)}function Je(f,o,l,c){return dt(rr(o,f.length-l),f,l,c)}u.prototype.write=function(o,l,c,h){if(l===void 0)h="utf8",c=this.length,l=0;else if(c===void 0&&typeof l=="string")h=l,c=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(c)?(c=c>>>0,h===void 0&&(h="utf8")):(h=c,c=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var _=this.length-l;if((c===void 0||c>_)&&(c=_),o.length>0&&(c<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");for(var m=!1;;)switch(h){case"hex":return De(this,o,l,c);case"utf8":case"utf-8":return Ye(this,o,l,c);case"ascii":case"latin1":case"binary":return Ge(this,o,l,c);case"base64":return Xe(this,o,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Je(this,o,l,c);default:if(m)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),m=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Qe(f,o,l){return o===0&&l===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(o,l))}function je(f,o,l){l=Math.min(f.length,l);for(var c=[],h=o;h<l;){var _=f[h],m=null,k=_>239?4:_>223?3:_>191?2:1;if(h+k<=l){var N,W,ae,Y;switch(k){case 1:_<128&&(m=_);break;case 2:N=f[h+1],(N&192)===128&&(Y=(_&31)<<6|N&63,Y>127&&(m=Y));break;case 3:N=f[h+1],W=f[h+2],(N&192)===128&&(W&192)===128&&(Y=(_&15)<<12|(N&63)<<6|W&63,Y>2047&&(Y<55296||Y>57343)&&(m=Y));break;case 4:N=f[h+1],W=f[h+2],ae=f[h+3],(N&192)===128&&(W&192)===128&&(ae&192)===128&&(Y=(_&15)<<18|(N&63)<<12|(W&63)<<6|ae&63,Y>65535&&Y<1114112&&(m=Y))}}m===null?(m=65533,k=1):m>65535&&(m-=65536,c.push(m>>>10&1023|55296),m=56320|m&1023),c.push(m),h+=k}return Ze(c)}var Ie=4096;function Ze(f){var o=f.length;if(o<=Ie)return String.fromCharCode.apply(String,f);for(var l="",c=0;c<o;)l+=String.fromCharCode.apply(String,f.slice(c,c+=Ie));return l}function et(f,o,l){var c="";l=Math.min(f.length,l);for(var h=o;h<l;++h)c+=String.fromCharCode(f[h]&127);return c}function tt(f,o,l){var c="";l=Math.min(f.length,l);for(var h=o;h<l;++h)c+=String.fromCharCode(f[h]);return c}function rt(f,o,l){var c=f.length;(!o||o<0)&&(o=0),(!l||l<0||l>c)&&(l=c);for(var h="",_=o;_<l;++_)h+=ir[f[_]];return h}function it(f,o,l){for(var c=f.slice(o,l),h="",_=0;_<c.length-1;_+=2)h+=String.fromCharCode(c[_]+c[_+1]*256);return h}u.prototype.slice=function(o,l){var c=this.length;o=~~o,l=l===void 0?c:~~l,o<0?(o+=c,o<0&&(o=0)):o>c&&(o=c),l<0?(l+=c,l<0&&(l=0)):l>c&&(l=c),l<o&&(l=o);var h=this.subarray(o,l);return Object.setPrototypeOf(h,u.prototype),h};function L(f,o,l){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+o>l)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(o,l,c){o=o>>>0,l=l>>>0,c||L(o,l,this.length);for(var h=this[o],_=1,m=0;++m<l&&(_*=256);)h+=this[o+m]*_;return h},u.prototype.readUintBE=u.prototype.readUIntBE=function(o,l,c){o=o>>>0,l=l>>>0,c||L(o,l,this.length);for(var h=this[o+--l],_=1;l>0&&(_*=256);)h+=this[o+--l]*_;return h},u.prototype.readUint8=u.prototype.readUInt8=function(o,l){return o=o>>>0,l||L(o,1,this.length),this[o]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(o,l){return o=o>>>0,l||L(o,2,this.length),this[o]|this[o+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(o,l){return o=o>>>0,l||L(o,2,this.length),this[o]<<8|this[o+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(o,l){return o=o>>>0,l||L(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(o,l){return o=o>>>0,l||L(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},u.prototype.readIntLE=function(o,l,c){o=o>>>0,l=l>>>0,c||L(o,l,this.length);for(var h=this[o],_=1,m=0;++m<l&&(_*=256);)h+=this[o+m]*_;return _*=128,h>=_&&(h-=Math.pow(2,8*l)),h},u.prototype.readIntBE=function(o,l,c){o=o>>>0,l=l>>>0,c||L(o,l,this.length);for(var h=l,_=1,m=this[o+--h];h>0&&(_*=256);)m+=this[o+--h]*_;return _*=128,m>=_&&(m-=Math.pow(2,8*l)),m},u.prototype.readInt8=function(o,l){return o=o>>>0,l||L(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},u.prototype.readInt16LE=function(o,l){o=o>>>0,l||L(o,2,this.length);var c=this[o]|this[o+1]<<8;return c&32768?c|4294901760:c},u.prototype.readInt16BE=function(o,l){o=o>>>0,l||L(o,2,this.length);var c=this[o+1]|this[o]<<8;return c&32768?c|4294901760:c},u.prototype.readInt32LE=function(o,l){return o=o>>>0,l||L(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},u.prototype.readInt32BE=function(o,l){return o=o>>>0,l||L(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},u.prototype.readFloatLE=function(o,l){return o=o>>>0,l||L(o,4,this.length),r.read(this,o,!0,23,4)},u.prototype.readFloatBE=function(o,l){return o=o>>>0,l||L(o,4,this.length),r.read(this,o,!1,23,4)},u.prototype.readDoubleLE=function(o,l){return o=o>>>0,l||L(o,8,this.length),r.read(this,o,!0,52,8)},u.prototype.readDoubleBE=function(o,l){return o=o>>>0,l||L(o,8,this.length),r.read(this,o,!1,52,8)};function A(f,o,l,c,h,_){if(!u.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>h||o<_)throw new RangeError('"value" argument is out of bounds');if(l+c>f.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(o,l,c,h){if(o=+o,l=l>>>0,c=c>>>0,!h){var _=Math.pow(2,8*c)-1;A(this,o,l,c,_,0)}var m=1,k=0;for(this[l]=o&255;++k<c&&(m*=256);)this[l+k]=o/m&255;return l+c},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(o,l,c,h){if(o=+o,l=l>>>0,c=c>>>0,!h){var _=Math.pow(2,8*c)-1;A(this,o,l,c,_,0)}var m=c-1,k=1;for(this[l+m]=o&255;--m>=0&&(k*=256);)this[l+m]=o/k&255;return l+c},u.prototype.writeUint8=u.prototype.writeUInt8=function(o,l,c){return o=+o,l=l>>>0,c||A(this,o,l,1,255,0),this[l]=o&255,l+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(o,l,c){return o=+o,l=l>>>0,c||A(this,o,l,2,65535,0),this[l]=o&255,this[l+1]=o>>>8,l+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(o,l,c){return o=+o,l=l>>>0,c||A(this,o,l,2,65535,0),this[l]=o>>>8,this[l+1]=o&255,l+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(o,l,c){return o=+o,l=l>>>0,c||A(this,o,l,4,4294967295,0),this[l+3]=o>>>24,this[l+2]=o>>>16,this[l+1]=o>>>8,this[l]=o&255,l+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(o,l,c){return o=+o,l=l>>>0,c||A(this,o,l,4,4294967295,0),this[l]=o>>>24,this[l+1]=o>>>16,this[l+2]=o>>>8,this[l+3]=o&255,l+4},u.prototype.writeIntLE=function(o,l,c,h){if(o=+o,l=l>>>0,!h){var _=Math.pow(2,8*c-1);A(this,o,l,c,_-1,-_)}var m=0,k=1,N=0;for(this[l]=o&255;++m<c&&(k*=256);)o<0&&N===0&&this[l+m-1]!==0&&(N=1),this[l+m]=(o/k>>0)-N&255;return l+c},u.prototype.writeIntBE=function(o,l,c,h){if(o=+o,l=l>>>0,!h){var _=Math.pow(2,8*c-1);A(this,o,l,c,_-1,-_)}var m=c-1,k=1,N=0;for(this[l+m]=o&255;--m>=0&&(k*=256);)o<0&&N===0&&this[l+m+1]!==0&&(N=1),this[l+m]=(o/k>>0)-N&255;return l+c},u.prototype.writeInt8=function(o,l,c){return o=+o,l=l>>>0,c||A(this,o,l,1,127,-128),o<0&&(o=255+o+1),this[l]=o&255,l+1},u.prototype.writeInt16LE=function(o,l,c){return o=+o,l=l>>>0,c||A(this,o,l,2,32767,-32768),this[l]=o&255,this[l+1]=o>>>8,l+2},u.prototype.writeInt16BE=function(o,l,c){return o=+o,l=l>>>0,c||A(this,o,l,2,32767,-32768),this[l]=o>>>8,this[l+1]=o&255,l+2},u.prototype.writeInt32LE=function(o,l,c){return o=+o,l=l>>>0,c||A(this,o,l,4,2147483647,-2147483648),this[l]=o&255,this[l+1]=o>>>8,this[l+2]=o>>>16,this[l+3]=o>>>24,l+4},u.prototype.writeInt32BE=function(o,l,c){return o=+o,l=l>>>0,c||A(this,o,l,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[l]=o>>>24,this[l+1]=o>>>16,this[l+2]=o>>>8,this[l+3]=o&255,l+4};function te(f,o,l,c,h,_){if(l+c>f.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function de(f,o,l,c,h){return o=+o,l=l>>>0,h||te(f,o,l,4),r.write(f,o,l,c,23,4),l+4}u.prototype.writeFloatLE=function(o,l,c){return de(this,o,l,!0,c)},u.prototype.writeFloatBE=function(o,l,c){return de(this,o,l,!1,c)};function At(f,o,l,c,h){return o=+o,l=l>>>0,h||te(f,o,l,8),r.write(f,o,l,c,52,8),l+8}u.prototype.writeDoubleLE=function(o,l,c){return At(this,o,l,!0,c)},u.prototype.writeDoubleBE=function(o,l,c){return At(this,o,l,!1,c)},u.prototype.copy=function(o,l,c,h){if(!u.isBuffer(o))throw new TypeError("argument should be a Buffer");if(c||(c=0),!h&&h!==0&&(h=this.length),l>=o.length&&(l=o.length),l||(l=0),h>0&&h<c&&(h=c),h===c||o.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),o.length-l<h-c&&(h=o.length-l+c);var _=h-c;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,c,h):Uint8Array.prototype.set.call(o,this.subarray(c,h),l),_},u.prototype.fill=function(o,l,c,h){if(typeof o=="string"){if(typeof l=="string"?(h=l,l=0,c=this.length):typeof c=="string"&&(h=c,c=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!u.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(o.length===1){var _=o.charCodeAt(0);(h==="utf8"&&_<128||h==="latin1")&&(o=_)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(l<0||this.length<l||this.length<c)throw new RangeError("Out of range index");if(c<=l)return this;l=l>>>0,c=c===void 0?this.length:c>>>0,o||(o=0);var m;if(typeof o=="number")for(m=l;m<c;++m)this[m]=o;else{var k=u.isBuffer(o)?o:u.from(o,h),N=k.length;if(N===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(m=0;m<c-l;++m)this[m+l]=k[m%N]}return this};var Zt=/[^+/0-9A-Za-z-_]/g;function er(f){if(f=f.split("=")[0],f=f.trim().replace(Zt,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function mt(f,o){o=o||1/0;for(var l,c=f.length,h=null,_=[],m=0;m<c;++m){if(l=f.charCodeAt(m),l>55295&&l<57344){if(!h){if(l>56319){(o-=3)>-1&&_.push(239,191,189);continue}else if(m+1===c){(o-=3)>-1&&_.push(239,191,189);continue}h=l;continue}if(l<56320){(o-=3)>-1&&_.push(239,191,189),h=l;continue}l=(h-55296<<10|l-56320)+65536}else h&&(o-=3)>-1&&_.push(239,191,189);if(h=null,l<128){if((o-=1)<0)break;_.push(l)}else if(l<2048){if((o-=2)<0)break;_.push(l>>6|192,l&63|128)}else if(l<65536){if((o-=3)<0)break;_.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((o-=4)<0)break;_.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return _}function tr(f){for(var o=[],l=0;l<f.length;++l)o.push(f.charCodeAt(l)&255);return o}function rr(f,o){for(var l,c,h,_=[],m=0;m<f.length&&!((o-=2)<0);++m)l=f.charCodeAt(m),c=l>>8,h=l%256,_.push(h),_.push(c);return _}function Pt(f){return t.toByteArray(er(f))}function dt(f,o,l,c){for(var h=0;h<c&&!(h+l>=o.length||h>=f.length);++h)o[h+l]=f[h];return h}function xe(f,o){return f instanceof o||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===o.name}function gt(f){return f!==f}var ir=function(){for(var f="0123456789abcdef",o=new Array(256),l=0;l<16;++l)for(var c=l*16,h=0;h<16;++h)o[c+h]=f[l]+f[h];return o}()})(Ut);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=Ut,i=r.Buffer;function n(s,u){for(var v in s)u[v]=s[v]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=a);function a(s,u,v){return i(s,u,v)}a.prototype=Object.create(i.prototype),n(i,a),a.from=function(s,u,v){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,u,v)},a.alloc=function(s,u,v){if(typeof s!="number")throw new TypeError("Argument must be a number");var w=i(s);return u!==void 0?typeof v=="string"?w.fill(u,v):w.fill(u):w.fill(0),w},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(Nt,Nt.exports);var Br={exports:{}},Na={},Ua=Object.freeze(Object.defineProperty({__proto__:null,default:Na},Symbol.toStringTag,{value:"Module"})),fr=Ma(Ua),Xi=fr.EventEmitter;function Ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ji(Object(r),!0).forEach(function(i){Ka(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ji(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Ka(e,t,r){return t=en(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zi(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,en(i.key),i)}}function Wa(e,t,r){return t&&Zi(e.prototype,t),r&&Zi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function en(e){var t=za(e,"string");return typeof t=="symbol"?t:String(t)}function za(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Va=Ut,dr=Va.Buffer,Ha=fr,Lr=Ha.inspect,Ya=Lr&&Lr.custom||"inspect";function Ga(e,t,r){dr.prototype.copy.call(e,t,r)}var Xa=function(){function e(){qa(this,e),this.head=null,this.tail=null,this.length=0}return Wa(e,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return dr.alloc(0);for(var i=dr.allocUnsafe(r>>>0),n=this.head,a=0;n;)Ga(n.data,i,a),a+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,a=i.data;for(r-=a.length;i=i.next;){var s=i.data,u=r>s.length?s.length:r;if(u===s.length?a+=s:a+=s.slice(0,r),r-=u,r===0){u===s.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(u));break}++n}return this.length-=n,a}},{key:"_getBuffer",value:function(r){var i=dr.allocUnsafe(r),n=this.head,a=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var s=n.data,u=r>s.length?s.length:r;if(s.copy(i,i.length-r,0,u),r-=u,r===0){u===s.length?(++a,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(u));break}++a}return this.length-=a,i}},{key:Ya,value:function(r,i){return Lr(this,Qi(Qi({},i),{},{depth:0,customInspect:!1}))}}]),e}();function Ja(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(jr,this,e)):process.nextTick(jr,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(a){!t&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(cr,r):(r._writableState.errorEmitted=!0,process.nextTick(tn,r,a)):process.nextTick(tn,r,a):t?(process.nextTick(cr,r),t(a)):process.nextTick(cr,r)}),this)}function tn(e,t){jr(e,t),cr(e)}function cr(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Qa(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function jr(e,t){e.emit("error",t)}function Za(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}var rn={destroy:Ja,undestroy:Qa,errorOrDestroy:Za},pt={};function el(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var nn={};function Oe(e,t,r){r||(r=Error);function i(a,s,u){return typeof t=="string"?t:t(a,s,u)}var n=function(a){el(s,a);function s(u,v,w){return a.call(this,i(u,v,w))||this}return s}(r);n.prototype.name=r.name,n.prototype.code=e,nn[e]=n}function on(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(i){return String(i)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function tl(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function rl(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function il(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}Oe("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),Oe("ERR_INVALID_ARG_TYPE",function(e,t,r){var i;typeof t=="string"&&tl(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be";var n;if(rl(e," argument"))n="The ".concat(e," ").concat(i," ").concat(on(t,"type"));else{var a=il(e,".")?"property":"argument";n='The "'.concat(e,'" ').concat(a," ").concat(i," ").concat(on(t,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError),Oe("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Oe("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),Oe("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Oe("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),Oe("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Oe("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Oe("ERR_STREAM_WRITE_AFTER_END","write after end"),Oe("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Oe("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),Oe("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),pt.codes=nn;var nl=pt.codes.ERR_INVALID_OPT_VALUE;function ol(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function al(e,t,r,i){var n=ol(t,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var a=i?r:"highWaterMark";throw new nl(a,n)}return Math.floor(n)}return e.objectMode?16:16*1024}var an={getHighWaterMark:al},ll=sl;function sl(e,t){if(Ir("noDeprecation"))return e;var r=!1;function i(){if(!r){if(Ir("throwDeprecation"))throw new Error(t);Ir("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return i}function Ir(e){try{if(!Fe.localStorage)return!1}catch{return!1}var t=Fe.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var ln=Q;function sn(e){var t=this;this.next=null,this.entry=null,this.finish=function(){kl(t,e)}}var xt;Q.WritableState=Kt;var ul={deprecate:ll},un=Xi,pr=Ut.Buffer,fl=(typeof Fe!="undefined"?Fe:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function dl(e){return pr.from(e)}function cl(e){return pr.isBuffer(e)||e instanceof fl}var Nr=rn,pl=an,hl=pl.getHighWaterMark,at=pt.codes,vl=at.ERR_INVALID_ARG_TYPE,yl=at.ERR_METHOD_NOT_IMPLEMENTED,_l=at.ERR_MULTIPLE_CALLBACK,ml=at.ERR_STREAM_CANNOT_PIPE,gl=at.ERR_STREAM_DESTROYED,bl=at.ERR_STREAM_NULL_VALUES,wl=at.ERR_STREAM_WRITE_AFTER_END,xl=at.ERR_UNKNOWN_ENCODING,Et=Nr.errorOrDestroy;We.exports(Q,un);function El(){}function Kt(e,t,r){xt=xt||$t,e=e||{},typeof r!="boolean"&&(r=t instanceof xt),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=hl(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Ol(t,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new sn(this)}Kt.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r},function(){try{Object.defineProperty(Kt.prototype,"buffer",{get:ul.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var hr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(hr=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(t){return hr.call(this,t)?!0:this!==Q?!1:t&&t._writableState instanceof Kt}})):hr=function(t){return t instanceof this};function Q(e){xt=xt||$t;var t=this instanceof xt;if(!t&&!hr.call(Q,this))return new Q(e);this._writableState=new Kt(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),un.call(this)}Q.prototype.pipe=function(){Et(this,new ml)};function $l(e,t){var r=new wl;Et(e,r),process.nextTick(t,r)}function Sl(e,t,r,i){var n;return r===null?n=new bl:typeof r!="string"&&!t.objectMode&&(n=new vl("chunk",["string","Buffer"],r)),n?(Et(e,n),process.nextTick(i,n),!1):!0}Q.prototype.write=function(e,t,r){var i=this._writableState,n=!1,a=!i.objectMode&&cl(e);return a&&!pr.isBuffer(e)&&(e=dl(e)),typeof t=="function"&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),typeof r!="function"&&(r=El),i.ending?$l(this,r):(a||Sl(this,i,e,r))&&(i.pendingcb++,n=Rl(this,i,a,e,t,r)),n},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&dn(this,e))},Q.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new xl(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Dl(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=pr.from(t,r)),t}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Rl(e,t,r,i,n,a){if(!r){var s=Dl(t,i,n);i!==s&&(r=!0,n="buffer",i=s)}var u=t.objectMode?1:i.length;t.length+=u;var v=t.length<t.highWaterMark;if(v||(t.needDrain=!0),t.writing||t.corked){var w=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:a,next:null},w?w.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Ur(e,t,!1,u,i,n,a);return v}function Ur(e,t,r,i,n,a,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new gl("write")):r?e._writev(n,t.onwrite):e._write(n,a,t.onwrite),t.sync=!1}function Fl(e,t,r,i,n){--t.pendingcb,r?(process.nextTick(n,i),process.nextTick(qt,e,t),e._writableState.errorEmitted=!0,Et(e,i)):(n(i),e._writableState.errorEmitted=!0,Et(e,i),qt(e,t))}function Cl(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Ol(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new _l;if(Cl(r),t)Fl(e,r,i,t,n);else{var a=cn(r)||e.destroyed;!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&dn(e,r),i?process.nextTick(fn,e,r,a,n):fn(e,r,a,n)}}function fn(e,t,r,i){r||Ml(e,t),t.pendingcb--,i(),qt(e,t)}function Ml(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function dn(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)n[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;n.allBuffers=u,Ur(e,t,!0,t.length,n,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new sn(t),t.bufferedRequestCount=0}else{for(;r;){var v=r.chunk,w=r.encoding,E=r.callback,S=t.objectMode?1:v.length;if(Ur(e,t,!1,S,v,w,E),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Q.prototype._write=function(e,t,r){r(new yl("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(e,t,r){var i=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||Pl(this,i,r),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function cn(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Tl(e,t){e._final(function(r){t.pendingcb--,r&&Et(e,r),t.prefinished=!0,e.emit("prefinish"),qt(e,t)})}function Al(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(Tl,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function qt(e,t){var r=cn(t);if(r&&(Al(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}function Pl(e,t,r){t.ending=!0,qt(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function kl(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}}),Q.prototype.destroy=Nr.destroy,Q.prototype._undestroy=Nr.undestroy,Q.prototype._destroy=function(e,t){t(e)};var Bl=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},$t=Le,pn=mn,Kr=ln;We.exports(Le,pn);for(var hn=Bl(Kr.prototype),qr=0;qr<hn.length;qr++){var Wr=hn[qr];Le.prototype[Wr]||(Le.prototype[Wr]=Kr.prototype[Wr])}function Le(e){if(!(this instanceof Le))return new Le(e);pn.call(this,e),Kr.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Ll)))}Object.defineProperty(Le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ll(){this._writableState.ended||process.nextTick(jl,this)}function jl(e){e.end()}Object.defineProperty(Le.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});var zr={},Vr=Nt.exports.Buffer,vn=Vr.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Il(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Nl(e){var t=Il(e);if(typeof t!="string"&&(Vr.isEncoding===vn||!vn(e)))throw new Error("Unknown encoding: "+e);return t||e}zr.StringDecoder=Wt;function Wt(e){this.encoding=Nl(e);var t;switch(this.encoding){case"utf16le":this.text=Vl,this.end=Hl,t=4;break;case"utf8":this.fillLast=ql,t=4;break;case"base64":this.text=Yl,this.end=Gl,t=3;break;default:this.write=Xl,this.end=Jl;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Vr.allocUnsafe(t)}Wt.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},Wt.prototype.end=zl,Wt.prototype.text=Wl,Wt.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Hr(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Ul(e,t,r){var i=t.length-1;if(i<r)return 0;var n=Hr(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||n===-2?0:(n=Hr(t[i]),n>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||n===-2?0:(n=Hr(t[i]),n>=0?(n>0&&(n===2?n=0:e.lastNeed=n-3),n):0))}function Kl(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function ql(e){var t=this.lastTotal-this.lastNeed,r=Kl(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Wl(e,t){var r=Ul(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)}function zl(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Vl(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Hl(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Yl(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Gl(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Xl(e){return e.toString(this.encoding)}function Jl(e){return e&&e.length?this.write(e):""}var yn=pt.codes.ERR_STREAM_PREMATURE_CLOSE;function Ql(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}function Zl(){}function es(e){return e.setHeader&&typeof e.abort=="function"}function _n(e,t,r){if(typeof t=="function")return _n(e,null,t);t||(t={}),r=Ql(r||Zl);var i=t.readable||t.readable!==!1&&e.readable,n=t.writable||t.writable!==!1&&e.writable,a=function(){e.writable||u()},s=e._writableState&&e._writableState.finished,u=function(){n=!1,s=!0,i||r.call(e)},v=e._readableState&&e._readableState.endEmitted,w=function(){i=!1,v=!0,n||r.call(e)},E=function(C){r.call(e,C)},S=function(){var C;if(i&&!v)return(!e._readableState||!e._readableState.ended)&&(C=new yn),r.call(e,C);if(n&&!s)return(!e._writableState||!e._writableState.ended)&&(C=new yn),r.call(e,C)},D=function(){e.req.on("finish",u)};return es(e)?(e.on("complete",u),e.on("abort",S),e.req?D():e.on("request",D)):n&&!e._writableState&&(e.on("end",a),e.on("close",a)),e.on("end",w),e.on("finish",u),t.error!==!1&&e.on("error",E),e.on("close",S),function(){e.removeListener("complete",u),e.removeListener("abort",S),e.removeListener("request",D),e.req&&e.req.removeListener("finish",u),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",u),e.removeListener("end",w),e.removeListener("error",E),e.removeListener("close",S)}}var Yr=_n,vr;function lt(e,t,r){return t=ts(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ts(e){var t=rs(e,"string");return typeof t=="symbol"?t:String(t)}function rs(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var is=Yr,st=Symbol("lastResolve"),ht=Symbol("lastReject"),zt=Symbol("error"),yr=Symbol("ended"),vt=Symbol("lastPromise"),Gr=Symbol("handlePromise"),yt=Symbol("stream");function ut(e,t){return{value:e,done:t}}function ns(e){var t=e[st];if(t!==null){var r=e[yt].read();r!==null&&(e[vt]=null,e[st]=null,e[ht]=null,t(ut(r,!1)))}}function os(e){process.nextTick(ns,e)}function as(e,t){return function(r,i){e.then(function(){if(t[yr]){r(ut(void 0,!0));return}t[Gr](r,i)},i)}}var ls=Object.getPrototypeOf(function(){}),ss=Object.setPrototypeOf((vr={get stream(){return this[yt]},next:function(){var t=this,r=this[zt];if(r!==null)return Promise.reject(r);if(this[yr])return Promise.resolve(ut(void 0,!0));if(this[yt].destroyed)return new Promise(function(s,u){process.nextTick(function(){t[zt]?u(t[zt]):s(ut(void 0,!0))})});var i=this[vt],n;if(i)n=new Promise(as(i,this));else{var a=this[yt].read();if(a!==null)return Promise.resolve(ut(a,!1));n=new Promise(this[Gr])}return this[vt]=n,n}},lt(vr,Symbol.asyncIterator,function(){return this}),lt(vr,"return",function(){var t=this;return new Promise(function(r,i){t[yt].destroy(null,function(n){if(n){i(n);return}r(ut(void 0,!0))})})}),vr),ls),us=function(t){var r,i=Object.create(ss,(r={},lt(r,yt,{value:t,writable:!0}),lt(r,st,{value:null,writable:!0}),lt(r,ht,{value:null,writable:!0}),lt(r,zt,{value:null,writable:!0}),lt(r,yr,{value:t._readableState.endEmitted,writable:!0}),lt(r,Gr,{value:function(a,s){var u=i[yt].read();u?(i[vt]=null,i[st]=null,i[ht]=null,a(ut(u,!1))):(i[st]=a,i[ht]=s)},writable:!0}),r));return i[vt]=null,is(t,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=i[ht];a!==null&&(i[vt]=null,i[st]=null,i[ht]=null,a(n)),i[zt]=n;return}var s=i[st];s!==null&&(i[vt]=null,i[st]=null,i[ht]=null,s(ut(void 0,!0))),i[yr]=!0}),t.on("readable",os.bind(null,i)),i},fs=us,ds=function(){throw new Error("Readable.from is not available in the browser")},mn=j,St;j.ReadableState=bn,fr.EventEmitter;var gn=function(t,r){return t.listeners(r).length},Vt=Xi,_r=Ut.Buffer,cs=(typeof Fe!="undefined"?Fe:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function ps(e){return _r.from(e)}function hs(e){return _r.isBuffer(e)||e instanceof cs}var Xr=fr,M;Xr&&Xr.debuglog?M=Xr.debuglog("stream"):M=function(){};var vs=Xa,Jr=rn,ys=an,_s=ys.getHighWaterMark,mr=pt.codes,ms=mr.ERR_INVALID_ARG_TYPE,gs=mr.ERR_STREAM_PUSH_AFTER_EOF,bs=mr.ERR_METHOD_NOT_IMPLEMENTED,ws=mr.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Dt,Qr,Zr;We.exports(j,Vt);var Ht=Jr.errorOrDestroy,ei=["error","close","destroy","pause","resume"];function xs(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function bn(e,t,r){St=St||$t,e=e||{},typeof r!="boolean"&&(r=t instanceof St),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=_s(this,e,"readableHighWaterMark",r),this.buffer=new vs,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Dt||(Dt=zr.StringDecoder),this.decoder=new Dt(e.encoding),this.encoding=e.encoding)}function j(e){if(St=St||$t,!(this instanceof j))return new j(e);var t=this instanceof St;this._readableState=new bn(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Vt.call(this)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}}),j.prototype.destroy=Jr.destroy,j.prototype._undestroy=Jr.undestroy,j.prototype._destroy=function(e,t){t(e)},j.prototype.push=function(e,t){var r=this._readableState,i;return r.objectMode?i=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=_r.from(e,t),t=""),i=!0),wn(this,e,t,!1,i)},j.prototype.unshift=function(e){return wn(this,e,null,!0,!1)};function wn(e,t,r,i,n){M("readableAddChunk",t);var a=e._readableState;if(t===null)a.reading=!1,Ss(e,a);else{var s;if(n||(s=Es(a,t)),s)Ht(e,s);else if(a.objectMode||t&&t.length>0)if(typeof t!="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==_r.prototype&&(t=ps(t)),i)a.endEmitted?Ht(e,new ws):ti(e,a,t,!0);else if(a.ended)Ht(e,new gs);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||t.length!==0?ti(e,a,t,!1):ri(e,a)):ti(e,a,t,!1)}else i||(a.reading=!1,ri(e,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function ti(e,t,r,i){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&gr(e)),ri(e,t)}function Es(e,t){var r;return!hs(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new ms("chunk",["string","Buffer","Uint8Array"],t)),r}j.prototype.isPaused=function(){return this._readableState.flowing===!1},j.prototype.setEncoding=function(e){Dt||(Dt=zr.StringDecoder);var t=new Dt(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var xn=1073741824;function $s(e){return e>=xn?e=xn:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function En(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=$s(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}j.prototype.read=function(e){M("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return M("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?ni(this):gr(this),null;if(e=En(e,t),e===0&&t.ended)return t.length===0&&ni(this),null;var i=t.needReadable;M("need readable",i),(t.length===0||t.length-e<t.highWaterMark)&&(i=!0,M("length less than watermark",i)),t.ended||t.reading?(i=!1,M("reading or ended",i)):i&&(M("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=En(r,t)));var n;return e>0?n=Dn(e,t):n=null,n===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ni(this)),n!==null&&this.emit("data",n),n};function Ss(e,t){if(M("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?gr(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,$n(e)))}}function gr(e){var t=e._readableState;M("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(M("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick($n,e))}function $n(e){var t=e._readableState;M("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ii(e)}function ri(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(Ds,e,t))}function Ds(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(M("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}j.prototype._read=function(e){Ht(this,new bs("_read()"))},j.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,M("pipe count=%d opts=%j",i.pipesCount,t);var n=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,a=n?u:T;i.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",s);function s(g,q){M("onunpipe"),g===r&&q&&q.hasUnpiped===!1&&(q.hasUnpiped=!0,E())}function u(){M("onend"),e.end()}var v=Rs(r);e.on("drain",v);var w=!1;function E(){M("cleanup"),e.removeListener("close",F),e.removeListener("finish",C),e.removeListener("drain",v),e.removeListener("error",D),e.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",T),r.removeListener("data",S),w=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&v()}r.on("data",S);function S(g){M("ondata");var q=e.write(g);M("dest.write",q),q===!1&&((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&Rn(i.pipes,e)!==-1)&&!w&&(M("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function D(g){M("onerror",g),T(),e.removeListener("error",D),gn(e,"error")===0&&Ht(e,g)}xs(e,"error",D);function F(){e.removeListener("finish",C),T()}e.once("close",F);function C(){M("onfinish"),e.removeListener("close",F),T()}e.once("finish",C);function T(){M("unpipe"),r.unpipe(e)}return e.emit("pipe",r),i.flowing||(M("pipe resume"),r.resume()),e};function Rs(e){return function(){var r=e._readableState;M("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&gn(e,"data")&&(r.flowing=!0,ii(e))}}j.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Rn(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},j.prototype.on=function(e,t){var r=Vt.prototype.on.call(this,e,t),i=this._readableState;return e==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):e==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,M("on readable",i.length,i.reading),i.length?gr(this):i.reading||process.nextTick(Fs,this)),r},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(e,t){var r=Vt.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(Sn,this),r},j.prototype.removeAllListeners=function(e){var t=Vt.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(Sn,this),t};function Sn(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function Fs(e){M("readable nexttick read 0"),e.read(0)}j.prototype.resume=function(){var e=this._readableState;return e.flowing||(M("resume"),e.flowing=!e.readableListening,Cs(this,e)),e.paused=!1,this};function Cs(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(Os,e,t))}function Os(e,t){M("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ii(e),t.flowing&&!t.reading&&e.read(0)}j.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ii(e){var t=e._readableState;for(M("flow",t.flowing);t.flowing&&e.read()!==null;);}j.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;e.on("end",function(){if(M("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&t.push(s)}t.push(null)}),e.on("data",function(s){if(M("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var u=t.push(s);u||(i=!0,e.pause())}});for(var n in e)this[n]===void 0&&typeof e[n]=="function"&&(this[n]=function(u){return function(){return e[u].apply(e,arguments)}}(n));for(var a=0;a<ei.length;a++)e.on(ei[a],this.emit.bind(this,ei[a]));return this._read=function(s){M("wrapped _read",s),i&&(i=!1,e.resume())},this},typeof Symbol=="function"&&(j.prototype[Symbol.asyncIterator]=function(){return Qr===void 0&&(Qr=fs),Qr(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),j._fromList=Dn,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Dn(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function ni(e){var t=e._readableState;M("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(Ms,t,e))}function Ms(e,t){if(M("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(j.from=function(e,t){return Zr===void 0&&(Zr=ds),Zr(j,e,t)});function Rn(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}var Fn=ze,br=pt.codes,Ts=br.ERR_METHOD_NOT_IMPLEMENTED,As=br.ERR_MULTIPLE_CALLBACK,Ps=br.ERR_TRANSFORM_ALREADY_TRANSFORMING,ks=br.ERR_TRANSFORM_WITH_LENGTH_0,wr=$t;We.exports(ze,wr);function Bs(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new As);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function ze(e){if(!(this instanceof ze))return new ze(e);wr.call(this,e),this._transformState={afterTransform:Bs.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Ls)}function Ls(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Cn(e,t,r)}):Cn(this,null,null)}ze.prototype.push=function(e,t){return this._transformState.needTransform=!1,wr.prototype.push.call(this,e,t)},ze.prototype._transform=function(e,t,r){r(new Ts("_transform()"))},ze.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},ze.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},ze.prototype._destroy=function(e,t){wr.prototype._destroy.call(this,e,function(r){t(r)})};function Cn(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new ks;if(e._transformState.transforming)throw new Ps;return e.push(null)}var js=Yt,On=Fn;We.exports(Yt,On);function Yt(e){if(!(this instanceof Yt))return new Yt(e);On.call(this,e)}Yt.prototype._transform=function(e,t,r){r(null,e)};var oi;function Is(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Mn=pt.codes,Ns=Mn.ERR_MISSING_ARGS,Us=Mn.ERR_STREAM_DESTROYED;function Tn(e){if(e)throw e}function Ks(e){return e.setHeader&&typeof e.abort=="function"}function qs(e,t,r,i){i=Is(i);var n=!1;e.on("close",function(){n=!0}),oi===void 0&&(oi=Yr),oi(e,{readable:t,writable:r},function(s){if(s)return i(s);n=!0,i()});var a=!1;return function(s){if(!n&&!a){if(a=!0,Ks(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();i(s||new Us("pipe"))}}}function An(e){e()}function Ws(e,t){return e.pipe(t)}function zs(e){return!e.length||typeof e[e.length-1]!="function"?Tn:e.pop()}function Vs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=zs(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Ns("streams");var n,a=t.map(function(s,u){var v=u<t.length-1,w=u>0;return qs(s,v,w,function(E){n||(n=E),E&&a.forEach(An),!v&&(a.forEach(An),i(n))})});return t.reduce(Ws)}var Hs=Vs;(function(e,t){t=e.exports=mn,t.Stream=t,t.Readable=t,t.Writable=ln,t.Duplex=$t,t.Transform=Fn,t.PassThrough=js,t.finished=Yr,t.pipeline=Hs})(Br,Br.exports);var xr=Nt.exports.Buffer,Pn=Br.exports.Transform,Ys=We.exports;function Gs(e,t){if(!xr.isBuffer(e)&&typeof e!="string")throw new TypeError(t+" must be a string or a buffer")}function ft(e){Pn.call(this),this._block=xr.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Ys(ft,Pn),ft.prototype._transform=function(e,t,r){var i=null;try{this.update(e,t)}catch(n){i=n}r(i)},ft.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)},ft.prototype.update=function(e,t){if(Gs(e,"Data"),this._finalized)throw new Error("Digest already called");xr.isBuffer(e)||(e=xr.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)r[n++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var a=0,s=e.length*8;s>0;++a)this._length[a]+=s,s=this._length[a]/4294967296|0,s>0&&(this._length[a]-=4294967296*s);return this},ft.prototype._update=function(){throw new Error("_update is not implemented")},ft.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();e!==void 0&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},ft.prototype._digest=function(){throw new Error("_digest is not implemented")};var Xs=ft,Js=We.exports,kn=Xs,Qs=Nt.exports.Buffer,Zs=new Array(16);function Er(){kn.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}Js(Er,kn),Er.prototype._update=function(){for(var e=Zs,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a,i=this._b,n=this._c,a=this._d;r=ve(r,i,n,a,e[0],3614090360,7),a=ve(a,r,i,n,e[1],3905402710,12),n=ve(n,a,r,i,e[2],606105819,17),i=ve(i,n,a,r,e[3],3250441966,22),r=ve(r,i,n,a,e[4],4118548399,7),a=ve(a,r,i,n,e[5],1200080426,12),n=ve(n,a,r,i,e[6],2821735955,17),i=ve(i,n,a,r,e[7],4249261313,22),r=ve(r,i,n,a,e[8],1770035416,7),a=ve(a,r,i,n,e[9],2336552879,12),n=ve(n,a,r,i,e[10],4294925233,17),i=ve(i,n,a,r,e[11],2304563134,22),r=ve(r,i,n,a,e[12],1804603682,7),a=ve(a,r,i,n,e[13],4254626195,12),n=ve(n,a,r,i,e[14],2792965006,17),i=ve(i,n,a,r,e[15],1236535329,22),r=ye(r,i,n,a,e[1],4129170786,5),a=ye(a,r,i,n,e[6],3225465664,9),n=ye(n,a,r,i,e[11],643717713,14),i=ye(i,n,a,r,e[0],3921069994,20),r=ye(r,i,n,a,e[5],3593408605,5),a=ye(a,r,i,n,e[10],38016083,9),n=ye(n,a,r,i,e[15],3634488961,14),i=ye(i,n,a,r,e[4],3889429448,20),r=ye(r,i,n,a,e[9],568446438,5),a=ye(a,r,i,n,e[14],3275163606,9),n=ye(n,a,r,i,e[3],4107603335,14),i=ye(i,n,a,r,e[8],1163531501,20),r=ye(r,i,n,a,e[13],2850285829,5),a=ye(a,r,i,n,e[2],4243563512,9),n=ye(n,a,r,i,e[7],1735328473,14),i=ye(i,n,a,r,e[12],2368359562,20),r=_e(r,i,n,a,e[5],4294588738,4),a=_e(a,r,i,n,e[8],2272392833,11),n=_e(n,a,r,i,e[11],1839030562,16),i=_e(i,n,a,r,e[14],4259657740,23),r=_e(r,i,n,a,e[1],2763975236,4),a=_e(a,r,i,n,e[4],1272893353,11),n=_e(n,a,r,i,e[7],4139469664,16),i=_e(i,n,a,r,e[10],3200236656,23),r=_e(r,i,n,a,e[13],681279174,4),a=_e(a,r,i,n,e[0],3936430074,11),n=_e(n,a,r,i,e[3],3572445317,16),i=_e(i,n,a,r,e[6],76029189,23),r=_e(r,i,n,a,e[9],3654602809,4),a=_e(a,r,i,n,e[12],3873151461,11),n=_e(n,a,r,i,e[15],530742520,16),i=_e(i,n,a,r,e[2],3299628645,23),r=me(r,i,n,a,e[0],4096336452,6),a=me(a,r,i,n,e[7],1126891415,10),n=me(n,a,r,i,e[14],2878612391,15),i=me(i,n,a,r,e[5],4237533241,21),r=me(r,i,n,a,e[12],1700485571,6),a=me(a,r,i,n,e[3],2399980690,10),n=me(n,a,r,i,e[10],4293915773,15),i=me(i,n,a,r,e[1],2240044497,21),r=me(r,i,n,a,e[8],1873313359,6),a=me(a,r,i,n,e[15],4264355552,10),n=me(n,a,r,i,e[6],2734768916,15),i=me(i,n,a,r,e[13],1309151649,21),r=me(r,i,n,a,e[4],4149444226,6),a=me(a,r,i,n,e[11],3174756917,10),n=me(n,a,r,i,e[2],718787259,15),i=me(i,n,a,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+a|0},Er.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=Qs.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};function $r(e,t){return e<<t|e>>>32-t}function ve(e,t,r,i,n,a,s){return $r(e+(t&r|~t&i)+n+a|0,s)+t|0}function ye(e,t,r,i,n,a,s){return $r(e+(t&i|r&~i)+n+a|0,s)+t|0}function _e(e,t,r,i,n,a,s){return $r(e+(t^r^i)+n+a|0,s)+t|0}function me(e,t,r,i,n,a,s){return $r(e+(r^(t|~i))+n+a|0,s)+t|0}var eu=Er,Sr=Fe&&Fe.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),n,a=[],s;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(u){s={error:u}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return a},Gt=Fe&&Fe.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Xt=Fe&&Fe.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Sr(arguments[t]));return e};Object.defineProperty(ce,"__esModule",{value:!0}),ce.toValue=li=ce.formatData=ce.parseBody=ce.parseData=ce.checkLength=ce.errorInfo=ce.validSign=ce.filterData=void 0;var O=Cr.default,Rt=nt.default,Bn=eu;function tu(e,t){return function(r,i){var n,a,s,u={},v=function(D){var F=D.key,C=D.type,T=D.rules,g=D.format,q=D.defaultValue,I=D.md5,p=D.separator,B=r[F];if(/\[\]$/.test(C)&&!O.isArray(B)&&(B=Ct("string")(B||"").split(p||/\,/)),/\[\]$/.test(C)&&O.isArray(B)){var P=Sr((s=C.match(/(\S+)(\[\])$/))!==null&&s!==void 0?s:[],2),R=P[1];B=O.compact(B).map(Ct(R)),T&&B.forEach(function(V){return Ln(T||[],t)(V,i)}),q&&B.length===0&&(B=q),g&&(B=B.map(Jt(g,t)))}else B=Ct(C)(B),T&&Ln(T,t)(B,i),B=B!=null?B:q,g&&(B=Jt(g,t)(B)),I&&(B=new Bn().update(O.template(I)(u)).digest("hex"));O.set(u,F,B)};try{for(var w=Gt(e),E=w.next();!E.done;E=w.next()){var S=E.value;v(S)}}catch(D){n={error:D}}finally{try{E&&!E.done&&(a=w.return)&&a.call(w)}finally{if(n)throw n.error}}return u}}ce.filterData=tu;function ru(e,t){return t===void 0&&(t="sign"),function(r){var i=new Bn().update(O.template(e)(r)).digest("hex");return r[t]===i}}ce.validSign=ru;function Ln(e,t){return function(r,i){var n,a;try{for(var s=Gt(e),u=s.next();!u.done;u=s.next()){var v=u.value,w=v.required,E=v.message,S=v.min,D=v.max,F=v.pattern,C=v.validator,T=v.code;if(w&&(O.isUndefined(r)||r===""))throw Ft(E,T||i);if(O.isString(r)){if(S&&ai(r)<S||D&&ai(r)>D)throw Ft(E,T||i);if(F){var g=Nn(F);if(!g.test(r))throw Ft(E,T||i)}}if(C&&O.isString(C)&&t&&(C=O.get(t,C)),C&&O.isFunction(C)&&(!C(r)||String(r)==="Invalid Date"))throw Ft(E,T||i)}}catch(q){n={error:q}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}}}function Ft(e,t){var r=new Error(e);return t&&(r.code=t),r}ce.errorInfo=Ft;function ai(e){var t,r,i=0;if(O.isNull(e))return i;var n=e.split("");try{for(var a=Gt(n),s=a.next();!s.done;s=a.next()){var u=s.value;i++,/[^\x00-\xff]/g.test(u)&&i++}}catch(v){t={error:v}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}ce.checkLength=ai;function jn(e,t){return function(r){var i,n;if(!e)return r;var a=e.separator,s=e.collection,u=e.omits,v=r.split(a),w=s.filter(Rt.default({result:{$exists:!1}})),E=v.map(function(g,q){var I=w[q]||{},p=I.type,B=I.format,P=Jt(B,t)(Ct(p)(g));return P}),S=O.zipObject(O.map(s,"key"),E),D=s.filter(Rt.default({result:{$exists:!0}}));try{for(var F=Gt(D),C=F.next();!C.done;C=F.next()){var T=C.value;O.set(S,T.key,Jt(T.format,t)(su(T.result,t)(S)))}}catch(g){i={error:g}}finally{try{C&&!C.done&&(n=F.return)&&n.call(F)}finally{if(i)throw i.error}}return O.omit(S,u||[])}}ce.parseData=jn;function iu(e,t){return function(r){if(!e)return r;for(var i in r){var n=e.find(Rt.default({key:i}));if(n){var a=jn(n,t),s=r[i];if(O.isArray(s)){if(s=s.map(a),n.orderBy){var u=n.orderBy,v=u.iteratees,w=u.orders;s=O.orderBy(s,v,w)}}else a(s);O.set(r,i,s)}}return r}}ce.parseBody=iu;function Jt(e,t){return function(r){var i,n;if(e=O.isArray(e)?e:O.compact([e]),e.length===0)return r;try{for(var a=Gt(e),s=a.next();!s.done;s=a.next()){var u=s.value;r=nu(u,t)(r)}}catch(v){i={error:v}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return r}}var li=ce.formatData=Jt;function nu(e,t){return function(r){if(!e)return r;var i=Ct(e.type)(r);return e.regexp&&O.isString(i)?i=ou(e.regexp,e.substr||"")(i):e.maps?i=au(e.maps)(i):e.func&&(i=lu(e.func,e.options,t)(i)),i}}function ou(e,t){return function(r){return r.replace(Nn(e),t)}}function au(e){return function(t){return O.isString(e)&&O.isPlainObject(t)?O.get(t,e):O.isNumber(e)&&O.isArray(t)?t[e]||t:O.isPlainObject(e)&&["string","number"].includes(typeof t)&&e[t]||t}}function lu(e,t,r){return function(i){var n;try{i=i[e||"toLocaleString"].apply(i,Xt(t||[]))}catch{i=(n=O.get(r,e))===null||n===void 0?void 0:n.apply(void 0,Xt([i],t||[]))}return i}}function su(e,t){return function(r){var i,n,a=e.defaultValue,s=e.formula;if(s){var u=s.exec,v=(s.opts||[]).map(In(r,t));if(typeof u=="function")return u.apply(void 0,Xt(v));if(t)return(i=O.get(t,u))===null||i===void 0?void 0:i.apply(void 0,Xt(v))}return(n=In(r,t))===null||n===void 0?void 0:n(a)}}function In(e,t){return function(r){var i;if(O.isString(r)&&/^\$(\_){2}/.test(r)){var n=Sr(r.match(/^\$(\_){2}([a-zA-Z0-9\_\-\.]+)/)||[],3),a=n[2];return O.get(e,a)}if(O.isArray(r)){var s=Sr(r),u=s[0],v=s.slice(1);if(t)return(i=O.get(t,u))===null||i===void 0?void 0:i.apply(void 0,Xt(v))}return r}}function Nn(e){if(O.isRegExp(e))return e;try{return new RegExp(e)}catch{throw Error("This is not a regular expression.")}}function Ct(e){return e===void 0&&(e="string"),function(t){if(e==="any")return t;var r=t;if(O.isString(t)){if(/^([\d\.]+)\%$/.test(t))r=Number(t.replace(/\%$/i,""))/100,r=String(r);else if(e==="date")r=new Date(Rt.isDateString(t)?t:/^\d+$/.test(t)?Number(t):t);else if(e==="map")try{r=Rt.emit(t)}catch{r=void 0}}else e==="string"&&!O.isUndefined(t)?r=O.isPlainObject(t)?JSON.stringify(t):String(t):e==="date"&&O.isNumber(t)&&(r=new Date(t));return e==="number"&&(O.isString(r)&&!/^\d+$/.test(r)&&Rt.isDateString(r)&&(r=new Date(r)),r=Number(r)),r}}ce.toValue=Ct;var uu=Object.defineProperty,fu=Object.getOwnPropertyDescriptor,si=(e,t,r,i)=>{for(var n=i>1?void 0:i?fu(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&uu(t,r,n),n};let Qt=class extends Ee(b.KlBaseMixin){};si([y()],Qt.prototype,"data",2),si([y()],Qt.prototype,"values",2),Qt=si([le({name:"KlFormExpand"})],Qt);var du=function(){var e,t=this,r=t.$createElement,i=t._self._c||r;return i("fragment",[t._l((e=t.data)!==null&&e!==void 0?e:[],function(n,a){var s;return[t.isFilter(n.conditions,t.env)?[n.type=="button"?i("el-button",{key:a,attrs:{type:n.style,disabled:t.isDisabled(n.disabled,{values:t.values}),plain:""},on:{click:function(u){var v;return t.command((v=n.command)!==null&&v!==void 0?v:"",{})}}},[t._v(" "+t._s(t.parseTemplate(n.name,t.env))+" ")]):n.type=="dropdown"?i("el-dropdown",{key:a,class:t.isDisabled(n.disabled,{values:t.values})&&"disabled",attrs:{disabled:t.isDisabled(n.disabled,{values:t.values}),"hide-on-click":!0},on:{command:function(u){return t.command(u,{})}}},[i("el-button",{attrs:{plain:""}},[t._v(" "+t._s(n.name)),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t._l((s=n.children)!==null&&s!==void 0?s:[],function(u){return[i("el-dropdown-item",{key:u.key,attrs:{command:u.command,disabled:t.isDisabled(u.disabled,{values:t.values})}},[t._v(" "+t._s(u.name)+" ")])]})],2)],1):t._e()]:t._e()]})],2)},cu=[];const Un={};var pu=he(Qt,du,cu,!1,hu,null,null,null);function hu(e){for(let t in Un)this[t]=Un[t]}var Dr=function(){return pu.exports}(),vu=Object.defineProperty,yu=Object.getOwnPropertyDescriptor,be=(e,t,r,i)=>{for(var n=i>1?void 0:i?yu(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&vu(t,r,n),n};let pe=class extends Ee(b.KlBaseMixin){constructor(){super(...arguments),this.selected="",this.data=[]}onDrafts(e){this.data=e.filter(t=>t.associate==this.associate)}onValue(e,t){e!==t&&e!==this.selected&&(this.selected=e)}onSelected(e,t){e!==t&&e!==this.value&&this.update(e)}update(e){}change(e){}updatePlan(e,t,r){}handleChange(e){var r;let t=(r=this.drafts)==null?void 0:r.find(i=>i.value==e);t&&this.change(t.content)}handleCommand(e){e=="create"?this.createData():e=="remove"?this.removeData():e=="clear"&&(this.selected="",this.$emit("clear"))}handleSaveData(){this.selected?this.updatePlan("update",{value:this.selected},e=>{var t;this.selected=(t=e==null?void 0:e.value)!=null?t:"",this.$message.success(`${this.name}-[${e.label}]\u5DF2\u66F4\u65B0`)}):this.createData()}async createData(){let e={confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",inputValidator:t=>!!t.trim(),inputErrorMessage:`\u8BF7\u586B\u5199${this.name}\u540D\u79F0`,inputPlaceholder:`\u8BBE\u7F6E${this.name}\u540D\u79F0`,inputType:"text"};try{let t=await this.$prompt("",`\u521B\u5EFA${this.name}`,e);this.updatePlan("create",{label:t.value},r=>{var i;this.selected=(i=r==null?void 0:r.value)!=null?i:"",this.$message.success(`${this.name}-[${r.label}]\u5DF2\u4FDD\u5B58`)})}catch{this.$message.warning("\u60A8\u5DF2\u53D6\u6D88\u4FDD\u5B58\u64CD\u4F5C")}}removeData(){this.updatePlan("remove",{value:this.selected},e=>{e&&(this.selected="")})}};be([y()],pe.prototype,"drafts",2),be([y({default:"\u8349\u7A3F"})],pe.prototype,"name",2),be([y()],pe.prototype,"width",2),be([y({default:void 0})],pe.prototype,"placeholder",2),be([y({default:void 0})],pe.prototype,"associate",2),be([U()],pe.prototype,"selected",2),be([U()],pe.prototype,"data",2),be([ie("drafts")],pe.prototype,"onDrafts",1),be([ie("value")],pe.prototype,"onValue",1),be([ie("selected")],pe.prototype,"onSelected",1),be([ar("update")],pe.prototype,"value",2),be([J("update")],pe.prototype,"update",1),be([J("change")],pe.prototype,"change",1),be([J("update-plan")],pe.prototype,"updatePlan",1),pe=be([le({name:"KlPlanPicker",components:{KlFormItem:sr},created(){this.data=this.drafts.filter(e=>e.associate===this.associate),this.selected=this.value}})],pe);var _u=function(){var e,t=this,r=t.$createElement,i=t._self._c||r;return((e=t.data)===null||e===void 0?void 0:e.length)>0?i("div",{staticClass:"inline"},[i("el-select",{style:{width:t.toStyleSize(t.width)},attrs:{placeholder:t.placeholder,filterable:""},on:{change:t.handleChange},model:{value:t.selected,callback:function(n){t.selected=n},expression:"selected"}},t._l(t.data,function(n,a){return i("el-option",{key:a,attrs:{label:n.label,value:n.value}})}),1),i("el-dropdown",{style:{marginLeft:0},attrs:{trigger:"click","split-button":""},on:{click:t.handleSaveData,command:t.handleCommand}},[i("span",[t._v("\u4FDD\u5B58"+t._s(t.name))]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"create",disabled:!t.selected}},[t._v("\u53E6\u5B58")]),i("el-dropdown-item",{attrs:{command:"remove",disabled:!t.selected}},[t._v("\u5220\u9664")]),i("el-dropdown-item",{attrs:{command:"clear"}},[t._v("\u6E05\u9664")])],1)],1)],1):i("el-button",{attrs:{plain:""},on:{click:t.handleSaveData}},[t._v("\u4FDD\u5B58"+t._s(t.name))])},mu=[];const Kn={};var gu=he(pe,_u,mu,!1,bu,null,null,null);function bu(e){for(let t in Kn)this[t]=Kn[t]}var ui=function(){return gu.exports}(),wu=Object.defineProperty,xu=Object.getOwnPropertyDescriptor,_t=(e,t,r,i)=>{for(var n=i>1?void 0:i?xu(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&wu(t,r,n),n};let Ve=class extends Ee(b.KlFormMixin){constructor(){super(...arguments),this.Rules={},this.DefaultValues={},this.values={},this.selectedDraft="",this.parseRules=vi(this.validate)}getData(e,t,r){}updatePlan(e,t,r){}handleUpdatePlan(e,t,r){this.updatePlan(e,x.merge(t,{content:Ue.default.dump(this.values)}),r)}handleSetValues(e){x.isString(e)?this.values=Ue.default.load(e):this.values=e}handleChange(){console.log(this.values)}handleSubmit(){var t;((t=this.$refs)==null?void 0:t.theForm).validate(r=>{var i;if(r){let n=x.map(this.columns.filter(E=>this.isFilter(E.conditions)),"key"),a=this.parseValues(x.pick(this.values,n)),s=this.parseValues(x.pick(this.DefaultValues,n)),{changeSubmit:u}=(i=this.options)!=null?i:{};if(u&&x.isEqual(x.omitBy(a,x.isUndefined),s)){this.$message.warning(u!=null?u:"\u6570\u636E\u597D\u50CF\u6CA1\u4EC0\u4E48\u6539\u53D8\uFF0C\u65E0\u9700\u63D0\u4EA4");return}let v={...this.options,next:E=>{this.DefaultValues=x.assign(this.DefaultValues,E),this.values=x.cloneDeep(this.DefaultValues)}},w=x.map(this.columns.filter(nt.default({labelOptions:{$exists:!0}})),"labelOptions.key");a=x.merge(a,x.pick(this.values,w)),this.submit(a,this.action,v)}else return!1})}parseValues(e){var i,n;for(let[a,s]of Object.entries((i=this.mergeField)!=null?i:{}))x.set(e,a,x.pick(e,s));let t=this.exclude?x.omit(e,this.exclude):e,r=this.columns.filter(a=>["datetimerange","daterange","monthrange"].includes(a.type));for(let a of r){let s=a.key.split(/\_{2}/);s.length===2&&(t=x.merge(t,x.zipObject(s,t==null?void 0:t[a.key])),x.unset(t,a.key))}for(let[a,s]of Object.entries((n=this.valueFormat)!=null?n:{}))t[a]=li(s)(t==null?void 0:t[a]);return t}handleRest(){var t;((t=this.$refs)==null?void 0:t.theForm).resetFields(),this.$emit("reset",this.DefaultValues),this.values=x.cloneDeep(this.DefaultValues),this.selectedDraft=""}};_t([U()],Ve.prototype,"Rules",2),_t([U()],Ve.prototype,"DefaultValues",2),_t([U()],Ve.prototype,"values",2),_t([U()],Ve.prototype,"selectedDraft",2),_t([J("get-data")],Ve.prototype,"getData",1),_t([J("update-plan")],Ve.prototype,"updatePlan",1),Ve=_t([le({name:"KlForm",components:{KlFormItem:sr,KlFormExpand:Dr,KlPlanPicker:ui},created(){this.Rules=vi(this.validate)(this.rules,this),this.DefaultValues=fo(this.defaultValues)(this.env),this.values=x.cloneDeep(this.DefaultValues)}})],Ve);var Eu=function(){var e,t,r,i,n,a,s,u,v,w,E,S,D,F,C,T,g=this,q=g.$createElement,I=g._self._c||q;return I("div",{staticClass:"form-container",class:g.border&&"border"},[I("el-form",{ref:"theForm",attrs:{model:g.values,rules:g.Rules,"label-width":g.toStyleSize(g.labelWidth),"label-position":g.labelPosition,"label-suffix":g.labelSuffix,inline:g.inline,"inline-message":g.inlineMessage,"status-icon":g.statusIcon,"hide-required-asterisk":g.hideRequiredAsterisk,disabled:g.disabled},nativeOn:{keyup:function(p){return!p.type.indexOf("key")&&g._k(p.keyCode,"enter",13,p.key,"Enter")?null:g.handleSubmit.apply(null,arguments)},submit:function(p){return p.preventDefault(),g.handleSubmit.apply(null,arguments)}}},[I("el-row",{attrs:{gutter:20}},[I("el-col",{attrs:{span:24}},[g._l(g.columns,function(p,B){var P;return[I("el-form-item",{key:B,ref:p.key,refInFor:!0,style:{paddingRight:0},attrs:{label:p.label,rules:(P=g.Rules)===null||P===void 0?void 0:P[p.key],prop:p.key,"label-width":g.toStyleSize(p.labelWidth)}},[p.labelOptions?I("template",{slot:"label"},[I("el-select",{style:{width:"calc(100% - 14px)"},model:{value:g.values[p.labelOptions.key],callback:function(R){g.$set(g.values,p.labelOptions.key,R)},expression:"values[item.labelOptions.key]"}},g._l(p.labelOptions.options,function(R,V){return I("el-option",{key:V,attrs:{label:R,value:V}})}),1)],1):g._e(),I("kl-form-item",{attrs:{type:p.type,placeholder:p==null?void 0:p.placeholder,disabled:g.isDisabled(p==null?void 0:p.disabled),width:p==null?void 0:p.width,size:p==null?void 0:p.size,format:p==null?void 0:p.format,"value-format":p==null?void 0:p.valueFormat,options:p==null?void 0:p.options,data:p==null?void 0:p.data,props:p==null?void 0:p.props,pickerOptions:p==null?void 0:p.pickerOptions,readonly:p==null?void 0:p.readonly,"request-options":p==null?void 0:p.requestOptions},on:{"get-data":g.getData,change:g.handleChange},model:{value:g.values[p.key],callback:function(R){g.$set(g.values,p.key,R)},expression:"values[item.key]"}})],2)]})],2)],1),(e=g.options)!==null&&e!==void 0&&e.hide?g._e():I("el-row",{attrs:{gutter:20}},[I("el-col",{attrs:{span:24}},[I("div",{staticClass:"el-form-item",class:g.inline?"footer":"",style:{marginLeft:`${g.toStyleSize(g.labelWidth)}`}},[I("el-button",{attrs:{type:"primary","native-type":"submit",loading:g.loading}},[g._v(" "+g._s(g.submitName)+" ")]),(t=g.options)!==null&&t!==void 0&&t.reset?I("el-button",{attrs:{plain:""},on:{click:g.handleRest}},[g._v(g._s((r=g.options)===null||r===void 0?void 0:r.reset))]):g._e(),I("kl-form-expand",{attrs:{data:(i=g.options)===null||i===void 0?void 0:i.emits,env:g.env,values:g.values},on:{command:g.command}}),(n=g.options)!==null&&n!==void 0&&n.draft?I("kl-plan-picker",{attrs:{name:(a=g.options)===null||a===void 0||(s=a.draft)===null||s===void 0?void 0:s.name,placeholder:(u=g.options)===null||u===void 0||(v=u.draft)===null||v===void 0?void 0:v.placeholder,width:(w=g.options)===null||w===void 0||(E=w.draft)===null||E===void 0?void 0:E.width,drafts:(S=(D=g.options)===null||D===void 0||(F=D.draft)===null||F===void 0?void 0:F.data)!==null&&S!==void 0?S:[],associate:(C=g.options)===null||C===void 0||(T=C.draft)===null||T===void 0?void 0:T.associate},on:{"update-plan":g.handleUpdatePlan,clear:g.handleRest,change:g.handleSetValues},model:{value:g.selectedDraft,callback:function(p){g.selectedDraft=p},expression:"selectedDraft"}}):g._e()],1)])],1)],1)],1)},$u=[],Df="";const qn={};var Su=he(Ve,Eu,$u,!1,Du,null,null,null);function Du(e){for(let t in qn)this[t]=qn[t]}var fi=function(){return Su.exports}(),Ru=Object.defineProperty,Fu=Object.getOwnPropertyDescriptor,ge=(e,t,r,i)=>{for(var n=i>1?void 0:i?Fu(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Ru(t,r,n),n};let fe=class extends Ee(b.KlBaseMixin){constructor(){super(...arguments),this.fullscreen=!1}onVisibleChange(e,t){e!==t&&e&&this.showFullscreen=="open"&&(this.fullscreen=!0)}handleClose(){this.$emit("close"),this.fullscreen=!1}handleSubmit(){this.$emit("submit"),this.fullscreen=!1}};ge([y({default:!1})],fe.prototype,"loading",2),ge([y({default:""})],fe.prototype,"title",2),ge([y({default:!1})],fe.prototype,"visible",2),ge([y()],fe.prototype,"width",2),ge([y({default:"100px"})],fe.prototype,"height",2),ge([y({default:!1})],fe.prototype,"center",2),ge([y({default:!0})],fe.prototype,"closeOnClickModal",2),ge([y({default:!0})],fe.prototype,"closeOnPressEscape",2),ge([y({default:!0})],fe.prototype,"showClose",2),ge([y({default:!1})],fe.prototype,"showFullscreen",2),ge([y({default:!1})],fe.prototype,"showFooter",2),ge([y({default:"\u786E \u5B9A"})],fe.prototype,"confirmButtonText",2),ge([y({default:"\u53D6 \u6D88"})],fe.prototype,"cancelButtonText",2),ge([U()],fe.prototype,"fullscreen",2),ge([ie("visible")],fe.prototype,"onVisibleChange",1),fe=ge([le({name:"KlDialog"})],fe);var Cu=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.title,width:e.toStyleSize(e.width),fullscreen:e.fullscreen,visible:e.visible,"append-to-body":!0,"close-on-click-modal":e.closeOnClickModal,"close-on-press-escape":e.closeOnPressEscape,"destroy-on-close":!0,"show-close":e.showClose,center:e.center},on:{close:e.handleClose}},[r("div",{staticClass:"el-dialog__header_left",attrs:{slot:"title"},slot:"title"},[r("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.title))]),e.showFullscreen?r("el-button",{staticStyle:{float:"right"},attrs:{icon:e.fullscreen?"el-icon-copy-document":"el-icon-full-screen"},on:{click:function(i){e.fullscreen=!e.fullscreen}}}):e._e()],1),r("section",{style:Object.assign({minHeight:`${e.toStyleSize(e.height)}`,display:"flex"},e.fullscreen?null:{maxHeight:`${e.toStyleSize(e.height)}`})},[r("perfect-scrollbar",{staticStyle:{flex:"1"},attrs:{options:{suppressScrollX:!0}}},[e._t("default")],2)],1),e.showFooter?r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("div",{staticClass:"dialog-footer-left"},[e._t("tools")],2),r("el-button",{on:{click:e.handleClose}},[e._v(e._s(e.cancelButtonText))]),e.showFooter=="confirm"?r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v(e._s(e.confirmButtonText))]):e._e()],1):e._e()])},Ou=[],Rf="";const Wn={};var Mu=he(fe,Cu,Ou,!1,Tu,null,null,null);function Tu(e){for(let t in Wn)this[t]=Wn[t]}var di=function(){return Mu.exports}(),Au=Object.defineProperty,Pu=Object.getOwnPropertyDescriptor,Ae=(e,t,r,i)=>{for(var n=i>1?void 0:i?Pu(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Au(t,r,n),n};let $e=class extends Ee(b.KlFormMixin){handleClose(e){let t=this.$refs.dialogForm;e?t.handleSubmit():this.$emit("close")}};Ae([y({default:"\u6807\u9898"})],$e.prototype,"title",2),Ae([y({default:!1})],$e.prototype,"visible",2),Ae([y({default:500})],$e.prototype,"width",2),Ae([y({default:"fit-content"})],$e.prototype,"height",2),Ae([y({default:!1})],$e.prototype,"center",2),Ae([y({default:!0})],$e.prototype,"closeOnClickModal",2),Ae([y({default:!0})],$e.prototype,"closeOnPressEscape",2),Ae([y({default:!1})],$e.prototype,"showClose",2),Ae([y({default:"\u786E \u5B9A"})],$e.prototype,"confirmButtonText",2),Ae([y({default:"\u53D6 \u6D88"})],$e.prototype,"cancelButtonText",2),$e=Ae([le({name:"KlDiakogForm",components:{KlDialog:di,KlForm:fi,KlFormExpand:Dr}})],$e);var ku=function(){var e,t=this,r=t.$createElement,i=t._self._c||r;return i("kl-dialog",{attrs:{title:t.title,width:t.width,height:t.height,visible:t.visible,center:t.center,"show-footer":"confirm","show-close":t.showClose,loading:t.loading,"close-on-click-modal":t.closeOnClickModal,"close-on-press-escape":t.closeOnPressEscape,"confirm-button-text":t.confirmButtonText,"cancel-button-text":t.cancelButtonText},on:{submit:function(n){return t.handleClose(!0)},close:function(n){return t.handleClose(!1)}}},[i("kl-form",{ref:"dialogForm",attrs:{columns:t.columns,rules:t.rules,"default-values":t.defaultValues,"label-width":t.labelWidth,"label-position":t.labelPosition,"label-suffix":t.labelSuffix,validate:t.validate,options:{hide:!0},"hide-required-asterisk":t.hideRequiredAsterisk,"status-icon":t.statusIcon,"value-format":t.valueFormat,exclude:t.exclude,"merge-field":t.mergeField,"unique-method":t.uniqueMethod,action:t.action,loading:t.loading},on:{submit:t.submit}}),i("template",{slot:"tools"},[i("kl-form-expand",{attrs:{data:(e=t.options)===null||e===void 0?void 0:e.emits,env:t.env},on:{command:t.command}})],1)],2)},Bu=[];const zn={};var Lu=he($e,ku,Bu,!1,ju,null,null,null);function ju(e){for(let t in zn)this[t]=zn[t]}var Vn=function(){return Lu.exports}(),Iu=Object.defineProperty,Nu=Object.getOwnPropertyDescriptor,Rr=(e,t,r,i)=>{for(var n=i>1?void 0:i?Nu(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Iu(t,r,n),n};let Ot=class extends Ee(b.KlBaseMixin){constructor(){super(...arguments),this.get=x.get}getValue(e,t){let r=x.get(e,t),{format:i,defaultValue:n}=this.column;return co(this.customize)(r,i,n)}getAlpha(e,t){return this.isFilter(e,t)?"":"opacoty:.7"}handleClipboard(e){return e}blockData(e,t,r){let i=this.getFilter(t,{...this.env,row:r}),n=[];for(let a of e)i(a)&&(a.disabled=!0),n.push(a);return n}};Rr([y()],Ot.prototype,"scope",2),Rr([y()],Ot.prototype,"column",2),Rr([y({default:void 0})],Ot.prototype,"customize",2),Ot=Rr([le({name:"KlTableColumnCell"})],Ot);var Uu=function(){var e,t,r,i,n,a,s,u,v,w,E,S,D,F,C,T,g,q,I,p=this,B=p.$createElement,P=p._self._c||B;return p.column.emits?P("fragment",[p._l(p.column.emits,function(R){var V,De,Ye,Ge,Xe,Je,Qe,je,Ie,Ze,et,tt,rt,it;return[p.isFilter(R.conditions,{row:(V=p.scope)===null||V===void 0?void 0:V.row})?[R.type=="dropdown"?P("el-dropdown",{key:R.key,class:p.isDisabled(R.disabled,{row:(De=p.scope)===null||De===void 0?void 0:De.row})&&"el-dropdown-disabled",attrs:{size:"small",trigger:"click","split-button":""},on:{click:function(L){var A,te,de;!p.isDisabled(R.disabled,{row:(A=p.scope)===null||A===void 0?void 0:A.row})&&p.command((te=R==null?void 0:R.command)!==null&&te!==void 0?te:"",(de=p.scope)===null||de===void 0?void 0:de.row)},command:function(L){var A,te,de;return p.command(L,(A=p.scope)===null||A===void 0?void 0:A.row,(te=p.$parent)===null||te===void 0||(de=te.$children)===null||de===void 0?void 0:de[0])}}},[P("span",[p._v(p._s(R.name))]),P("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[p._l((Ye=R.children)!==null&&Ye!==void 0?Ye:[],function(L){var A;return[p.isFilter(L.conditions,{row:p.scope.row})?P("el-dropdown-item",{key:L.key,attrs:{command:L.command,disabled:p.isDisabled(L.disabled,{row:(A=p.scope)===null||A===void 0?void 0:A.row})}},[p._v(" "+p._s(L.name)+" ")]):p._e()]})],2)],1):R.type=="button"?P("el-button",{key:R.key,attrs:{size:"small",type:R.style,disabled:p.isDisabled(R.disabled,{row:(Ge=p.scope)===null||Ge===void 0?void 0:Ge.row})},on:{click:function(L){var A,te;return p.command((A=R==null?void 0:R.command)!==null&&A!==void 0?A:"",(te=p.scope)===null||te===void 0?void 0:te.row)}}},[p._v(" "+p._s(R.name)+" ")]):R.type=="select"?P("kl-form-item",{key:R.key,attrs:{size:"small",type:R.type,data:p.blockData(((Xe=R.formitem)===null||Xe===void 0?void 0:Xe.data)||p.get(p.env,(Je=(Qe=R.dataBlock)===null||Qe===void 0?void 0:Qe.key)!==null&&Je!==void 0?Je:""),(je=R.dataBlock)===null||je===void 0?void 0:je.query,(Ie=p.scope)===null||Ie===void 0?void 0:Ie.row),format:(Ze=R.formitem)===null||Ze===void 0?void 0:Ze.format,props:(et=R.formitem)===null||et===void 0?void 0:et.props,disabled:p.isDisabled(R.disabled,{row:(tt=p.scope)===null||tt===void 0?void 0:tt.row}),value:p.get((rt=p.scope)===null||rt===void 0?void 0:rt.row,(it=p.column)===null||it===void 0?void 0:it.key)},on:{change:function(L){var A,te,de;return p.command((A=R.command)!==null&&A!==void 0?A:"",(te=p.scope)===null||te===void 0?void 0:te.row,(de={},de[p.column.key]=L,de))}}}):p._e()]:p._e()]})],2):(e=p.column)!==null&&e!==void 0&&e.clipboard?P("el-tooltip",{attrs:{content:((t=p.column)===null||t===void 0?void 0:t.clipboard)==!0?"\u70B9\u51FB\u590D\u5236":(r=p.column)===null||r===void 0?void 0:r.clipboard,placement:"top"}},[P("el-link",{directives:[{name:"clipboard",rawName:"v-clipboard",value:p.handleClipboard(p.getValue((i=p.scope)===null||i===void 0?void 0:i.row,p.column.key)),expression:"handleClipboard(getValue(scope?.row, column.key))"}],style:p.getAlpha(p.column.alpha,{row:(n=p.scope)===null||n===void 0?void 0:n.row})},[p._v(" "+p._s(p.getValue((a=p.scope)===null||a===void 0?void 0:a.row,p.column.key))+" ")])],1):(s=p.column)!==null&&s!==void 0&&s.click?P("el-link",{style:p.getAlpha(p.column.alpha,{row:(u=p.scope)===null||u===void 0?void 0:u.row}),on:{click:function(R){var V,De;return p.command((V=p.column)===null||V===void 0?void 0:V.click,(De=p.scope)===null||De===void 0?void 0:De.row)}}},[p._v(" "+p._s(p.getValue((v=p.scope)===null||v===void 0?void 0:v.row,p.column.key))+" ")]):(w=p.column)!==null&&w!==void 0&&w.status?P("fragment",[p._l((E=p.column)===null||E===void 0?void 0:E.status,function(R){var V;return[p.isFilter(R.conditions,{row:(V=p.scope)===null||V===void 0?void 0:V.row})?P("el-tag",{key:R.key,attrs:{type:R.style}},[p._v(p._s(R.name))]):p._e()]})],2):(S=p.column)!==null&&S!==void 0&&S.dots?P("fragment",[p._l((D=p.column)===null||D===void 0?void 0:D.dots,function(R){var V;return[p.isFilter(R.conditions,{row:(V=p.scope)===null||V===void 0?void 0:V.row})?[R.name?P("i",{key:R.key,staticClass:"dot",class:R.name}):P("span",{key:R.key,staticClass:"dot",style:R.style},[p._v("\u25CF")])]:p._e()]})],2):(F=p.column)!==null&&F!==void 0&&F.template?P("span",{style:p.getAlpha(p.column.alpha,{row:(C=p.scope)===null||C===void 0?void 0:C.row})},[p._v(p._s(p.parseTemplate((T=p.column)===null||T===void 0?void 0:T.template,(g=p.scope)===null||g===void 0?void 0:g.row)))]):P("span",{style:p.getAlpha(p.column.alpha,{row:(q=p.scope)===null||q===void 0?void 0:q.row})},[p._v(p._s(p.getValue((I=p.scope)===null||I===void 0?void 0:I.row,p.column.key)))])},Ku=[],Ff="";const Hn={};var qu=he(Ot,Uu,Ku,!1,Wu,null,null,null);function Wu(e){for(let t in Hn)this[t]=Hn[t]}var ci=function(){return qu.exports}(),zu=Object.defineProperty,Vu=Object.getOwnPropertyDescriptor,Z=(e,t,r,i)=>{for(var n=i>1?void 0:i?Vu(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&zu(t,r,n),n};let G=class extends Ee(b.KlBaseMixin){constructor(){super(...arguments),this.cdata=[],this.pdata=[],this.current=1,this.total=0}toPage(e){}currentChange(e){}selectionChange(e){}onData(e,t){e!==t&&this.initialData(e)}initialData(e){var t;if(this.cdata=e!=null?e:[],this.counts>-1)this.total==this.counts,this.pdata=e!=null?e:[],this.current=this.pageno;else{((t=this.$refs)==null?void 0:t.filterTable).clearFilter(),this.total=e.length;let i=this.pagination||10,n=(this.total+i-1)/i;n=parseInt(n.toString())||1,this.handleCurrentChange(this.pageno>n?n:this.pageno,e)}}handleCurrentChange(e,t){var n,a;let r=this.pagination||10;if(this.counts>-1){if(this.current==e)return;this.current=e,this.sortOptions&&this.sortOptions,this.toPage(e);return}this.current=e,this.pageno!==e&&this.toPage(e);let i=x.cloneDeep(t!=null?t:this.cdata);if((n=this.sortOptions)!=null&&n.order){let{prop:s,order:u}=this.sortOptions;i=x.orderBy(i,[s],[u.replace(/(ending)$/,"")])}this.total=i.length,this.pagination?this.pdata=(a=x.chunk(i,r))==null?void 0:a[e-1]:this.pdata=i!=null?i:[]}handleSortChange(e){let{prop:t,order:r}=e;this.sortOptions=r&&{prop:t,order:r},this.sorter&&this.counts>(this.pagination||10)&&(this.sorter,this.pagination,this.current),this.handleCurrentChange(this.current)}getSelection(e){if(!!e)return e==!0?{open:e}:e}isTooltip(e){return!nt.default({$or:[{clipboard:{$exists:!0}},{dots:{$exists:!0}}]})(e)}};Z([y({default:void 0})],G.prototype,"data",2),Z([y({default:!1})],G.prototype,"loading",2),Z([y()],G.prototype,"columns",2),Z([y({default:!1})],G.prototype,"border",2),Z([y({default:void 0})],G.prototype,"selection",2),Z([y({default:void 0})],G.prototype,"expand",2),Z([y({default:!1})],G.prototype,"highlightCurrentRow",2),Z([y({default:1})],G.prototype,"pageno",2),Z([y({default:!1})],G.prototype,"pagination",2),Z([y({default:-1})],G.prototype,"counts",2),Z([y({default:void 0})],G.prototype,"customize",2),Z([y({default:void 0})],G.prototype,"sorter",2),Z([U()],G.prototype,"cdata",2),Z([U()],G.prototype,"pdata",2),Z([U()],G.prototype,"current",2),Z([U()],G.prototype,"total",2),Z([U()],G.prototype,"sortOptions",2),Z([J("to-page")],G.prototype,"toPage",1),Z([J("current-change")],G.prototype,"currentChange",1),Z([J("selection-change")],G.prototype,"selectionChange",1),Z([ie("data")],G.prototype,"onData",1),G=Z([le({name:"KlTable",components:{KlColumnCell:ci},mounted(){this.data&&this.initialData(this.data)}})],G);var Hu=function(){var e,t=this,r=t.$createElement,i=t._self._c||r;return i("fragment",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"filterTable",attrs:{data:t.pdata,border:t.border,"highlight-current-row":t.highlightCurrentRow},on:{"sort-change":t.handleSortChange,"current-change":t.currentChange,"selection-change":t.selectionChange}},[(e=t.getSelection(t.selection))!==null&&e!==void 0&&e.open?i("el-table-column",{attrs:{type:"selection",fixed:"left",width:"50",selectable:function(n){var a;return!t.isDisabled((a=t.getSelection(t.selection))===null||a===void 0?void 0:a.disabled,{row:n})}}}):t._e(),t._l(t.columns,function(n,a){return i("el-table-column",{key:a,attrs:{label:n.name,prop:n.key,width:t.toStyleSize(n==null?void 0:n.width),"min-width":t.toStyleSize((n==null?void 0:n.minWidth)||100),fixed:n==null?void 0:n.fixed,align:n==null?void 0:n.align,sortable:n==null?void 0:n.sortable,"show-overflow-tooltip":t.isTooltip(n)},scopedSlots:t._u([{key:"default",fn:function(s){return[i("kl-column-cell",{attrs:{scope:s,column:n,customize:t.customize,env:t.env},on:{command:t.command}})]}}],null,!0)})}),t.expand?i("el-table-column",{attrs:{type:"expand",fixed:"left"},scopedSlots:t._u([{key:"default",fn:function(n){return[t._v(" "+t._s(t.parseTemplate(t.expand,Object.assign({},t.env,{row:n==null?void 0:n.row})))+" ")]}}],null,!1,2134650507)}):t._e()],2),t.pagination?i("el-pagination",{attrs:{"current-page":t.current,"page-size":t.pagination,total:t.total,layout:"total, prev, pager, next, jumper",background:""},on:{"current-change":t.handleCurrentChange}}):t._e()],1)},Yu=[],Cf="";const Yn={};var Gu=he(G,Hu,Yu,!1,Xu,null,null,null);function Xu(e){for(let t in Yn)this[t]=Yn[t]}var Gn=function(){return Gu.exports}();function Xn(e,t,r){this.$children.forEach(function(i){var n=i.$options.componentName;n===e?i.$emit.apply(i,[t].concat(r)):Xn.apply(i,[e,t].concat([r]))})}var Jn={methods:{dispatch:function(t,r,i){for(var n=this.$parent||this.$root,a=n.$options.componentName;n&&(!a||a!==t);)n=n.$parent,n&&(a=n.$options.componentName);n&&n.$emit.apply(n,[r].concat(i))},broadcast:function(t,r,i){Xn.call(this,t,r,i)}}},Ju=Object.defineProperty,Qu=Object.getOwnPropertyDescriptor,oe=(e,t,r,i)=>{for(var n=i>1?void 0:i?Qu(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&Ju(t,r,n),n};function Qn(e){return x.isBoolean(e)?{enabled:e}:e}let ee=class extends Ee(b.KlBaseMixin,Jn){constructor(){super(...arguments),this.code=""}update(e){}change(e){}onValueChange(e,t){var r;e!==t&&(this.code=e,(r=this.editor)==null||r.setValue(e))}onCodeChange(e,t){e!==t&&this.update(e)}onThemeChange(e,t){e!==t&&ot.editor.setTheme(e)}onLanguageChange(e,t){var r;e!==t&&ot.editor.setModelLanguage((r=this.editor)==null?void 0:r.getModel(),e)}onTabSizeChange(e,t){var r,i;e!==t&&((i=(r=this.editor)==null?void 0:r.getModel())==null||i.updateOptions({tabSize:e}))}onMinimapChange(e,t){var r;e!==t&&((r=this.editor)==null||r.updateOptions({minimap:Qn(e)}))}initialEditor(){var t;let e=(t=this.$refs)==null?void 0:t.codeEditor;this.editor=ot.editor.create(e,{value:this.code,language:this.language,model:ot.editor.createModel(this.code,this.language),theme:this.theme,automaticLayout:!0,fontSize:14,tabSize:this.tabSize,minimap:Qn(this.minimap),readOnly:this.readOnly}),this.editor.onDidChangeModelContent(r=>{var n;let i=(n=this.editor)==null?void 0:n.getValue();this.change(i!=null?i:""),this==null||this.dispatch("ElFormItem","el.form.change",i)})}};oe([y({default:"javascript"})],ee.prototype,"language",2),oe([y({default:"vs"})],ee.prototype,"theme",2),oe([y({default:!1})],ee.prototype,"border",2),oe([y({default:4})],ee.prototype,"tabSize",2),oe([y({default:!1})],ee.prototype,"minimap",2),oe([y()],ee.prototype,"width",2),oe([y({default:500})],ee.prototype,"height",2),oe([y({default:!1})],ee.prototype,"readOnly",2),oe([U()],ee.prototype,"code",2),oe([U()],ee.prototype,"editor",2),oe([ar("update")],ee.prototype,"value",2),oe([J("update")],ee.prototype,"update",1),oe([J("change")],ee.prototype,"change",1),oe([ie("value")],ee.prototype,"onValueChange",1),oe([ie("code")],ee.prototype,"onCodeChange",1),oe([ie("theme")],ee.prototype,"onThemeChange",1),oe([ie("language")],ee.prototype,"onLanguageChange",1),oe([ie("tabSize")],ee.prototype,"onTabSizeChange",1),oe([ie("minimap")],ee.prototype,"onMinimapChange",1),ee=oe([le({name:"KlCodeEditor",mounted(){var e;this.code=(e=this.value)!=null?e:"",this.initialEditor()}})],ee);var Zu=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"codeEditor",class:e.border?"code-editer__broder":"",style:{width:e.toStyleSize(e.width),height:e.toStyleSize(e.height)}})},ef=[],Of="";const Zn={};var tf=he(ee,Zu,ef,!1,rf,null,null,null);function rf(e){for(let t in Zn)this[t]=Zn[t]}var eo=function(){return tf.exports}(),nf=Object.defineProperty,of=Object.getOwnPropertyDescriptor,Pe=(e,t,r,i)=>{for(var n=i>1?void 0:i?of(t,r):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(n=(i?s(t,r,n):s(n))||n);return i&&n&&nf(t,r,n),n};let Se=class extends Ee(b.KlBaseMixin,Jn){change(e){}onThemeChange(e,t){e!==t&&ot.editor.setTheme(e)}initialEditor(){var t;let e=(t=this.$refs)==null?void 0:t.diffEditor;this.editor=ot.editor.createDiffEditor(e,{fontSize:14,automaticLayout:!0}),this.editor.setModel({original:ot.editor.createModel(this.original,this.language),modified:ot.editor.createModel(this.modified,this.language)}),this.editor.onDidUpdateDiff(r=>{var n;let i=(n=this.editor)==null?void 0:n.getModifiedEditor().getValue();this.change(i!=null?i:""),this==null||this.dispatch("ElFormItem","el.form.change",i)})}};Pe([y({default:!1})],Se.prototype,"border",2),Pe([y()],Se.prototype,"width",2),Pe([y({default:500})],Se.prototype,"height",2),Pe([y({default:""})],Se.prototype,"original",2),Pe([y({default:""})],Se.prototype,"modified",2),Pe([y({default:"javascript"})],Se.prototype,"language",2),Pe([y({default:"vs"})],Se.prototype,"theme",2),Pe([U()],Se.prototype,"editor",2),Pe([J("change")],Se.prototype,"change",1),Pe([ie("theme")],Se.prototype,"onThemeChange",1),Se=Pe([le({name:"KlDiffEditor",mounted(){this.initialEditor()}})],Se);var af=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"diffEditor",class:e.border?"code-editer__broder":"",style:{width:e.toStyleSize(e.width),height:e.toStyleSize(e.height)}})},lf=[],Mf="";const to={};var sf=he(Se,af,lf,!1,uf,null,null,null);function uf(e){for(let t in to)this[t]=to[t]}var ro=function(){return sf.exports}(),ff=Object.freeze(Object.defineProperty({__proto__:null,Drawer:Li,ChannelSearchbar:Ii,Sidebar:Ki,SidebarItem:Ar,LoginForm:Wi,Qrcode:Hi,FormItem:sr,Form:fi,DialogForm:Vn,FormExpand:Dr,PlanPicker:ui,Dialog:di,Table:Gn,ColumnCell:ci,CodeEditor:eo,DiffEditor:ro},Symbol.toStringTag,{value:"Module"}));function io(e,t){if(!e)return null;let r=x.compact(["dialog","action","command","router","https?",t]).join("|"),i=new RegExp(`^(${r})\\:(\\S+)$`),n=e.match(i);if(!n)return null;let[,a,s]=n;return/^(https?)/.test(a)?{type:"http",path:e}:{type:a,path:s}}function df(e,t){return(r,i,n)=>{let a=io(r);if(!!a){if(a.type==="command"){let[s,...u]=a.path.split("|"),v=x.get(t!=null?t:e,s);x.isFunction(v)&&v(...u)}else if(a.type==="action")t!=null&&t.action&&(t==null||t.action(a.path,i,n,e));else if(a.type==="dialog")t!=null&&t.dialog&&(t==null||t.dialog(a.path,i,n,e));else if(a.type==="router"){if(!(e!=null&&e.$router))return;e.$router.push(a.path)}else if(a.type==="http"){if(!document)return;let s=document.createElement("a"),[u,v]=a.path.split("|");s.href=u,v&&(s.target=v),s.click()}}}}function pi(e,t,r=[]){if(!t)return;let i=x.map(r,"key"),n={$or:[{name:{$regex:new RegExp(t,"i")}},{keywords:{$_in:[t.toLocaleLowerCase()]}}]},a=Fr.dataNodeProxy(e).find({$and:[{key:{$nin:i}},n,{children:{$exists:!1}}]});a&&(r.push(a),pi(e,t,r))}function no(e){return(t,r)=>{if(!t)return!1;let i=t,n=x.assign({},e,r);return x.isString(t)&&(i=Ue.default.safeLoad(He(t,n)),!x.isPlainObject(i))?!1:x.isBoolean(i)?i:nt.default(i)(n)}}function oo(e){return(t,r)=>{if(!t)return!0;let i=t,n=x.assign({},e,r);return x.isString(t)&&(i=Ue.default.safeLoad(He(t,n)),!x.isPlainObject(i))?!0:nt.default(i)(n)}}function ao(e,t={}){if(!e)return i=>!0;let r=e;return x.isString(e)&&(r=Ue.default.safeLoad(He(e,{...t}))),x.isPlainObject(r)?nt.default(r):i=>!0}function cf(e,t={}){if(!e)return null;let r=e;return x.isString(e)&&(r=Ue.default.safeLoad(He(e,{...t}))),x.isPlainObject(r)?r:null}function He(e,t,r){let i=new mo.default.Environment(null,x.merge({autoescape:!1},r));return i.addFilter(Mt.name,n=>String(Mt(n))),i.addFilter(hi.name,n=>String.raw`${hi(n,t)}`),i.renderString(e,t)}function Mt(e,t){if(x.isDate(e))return e;if(/(\_)/.test(e)){let a=e.split(/\_/),s=null;for(let u of a){if(s&&!/(day?(s|e)|week?(s|e))$/.test(u))break;s=Mt(u,s)}return s}let r=pf(e),i=t!=null?t:new Date,n=i.getDay()-1;if(e==="now")return new Date;if(["yesterday","today","tomorrow"].includes(e)){let a=["yesterday","today","tomorrow"].indexOf(e)-1;return Mt([a,"days"].join(" "))}else{if(/(day)$/.test(e))return new Date(i.setDate(i.getDate()+r));if(/(days)$/.test(e))return new Date(new Date(i.setDate(i.getDate()+r)).setHours(0,0,0,0));if(/(daye)$/.test(e))return new Date(new Date(i.setDate(i.getDate()+r)).setHours(23,59,59,999));if(/(week)$/.test(e)){let a=new Date(i.getFullYear(),i.getMonth(),i.getDate()-n+r*7+n).setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds());return new Date(a)}else{if(/(weeks)$/.test(e))return new Date(i.getFullYear(),i.getMonth(),i.getDate()-n+r*7+0);if(/(weeke)$/.test(e)){let a=new Date(i.getFullYear(),i.getMonth(),i.getDate()-n+r*7+6).setHours(23,59,59,999);return new Date(a)}else{if(/(month)$/.test(e))return new Date(new Date(new Date().setMonth(r)));if(/(months)$/.test(e))return new Date(new Date(new Date().setMonth(r,1)).setHours(0,0,0,0));if(/(monthe)$/.test(e)){let a=r-new Date().getMonth()+1;return new Date(Mt(`${a} months`).getTime()-1)}else{if(/(year)$/.test(e))return new Date(new Date().setFullYear(r));if(/(years)$/.test(e))return new Date(new Date(new Date().setFullYear(r,0,1)).setHours(0,0,0,0));if(/(yeare)$/.test(e))return new Date(new Date(new Date().setFullYear(r,11,31)).setHours(23,59,59,999))}}}}return null}function hi(e,t){return x.get(t,e,"").split(`
`).join(`

`).replace(/\"/g,'\\"')}function Tt(e){return t=>{if(!e)return t;let r=x.cloneDeep(t),i=[];for(let[n,a]of Object.entries(e)){let s=x.get(t,a);x.isArray(s)?r[n]=s==null?void 0:s.map(u=>x.isPlainObject(u)?Tt(e)(u):u):r[n]=/(\{)/.test(a)?He(a,t):s,n!==a&&i.push(a)}return x.omit(r,i)}}function pf(e){var a,s;let[t]=e.split(/\s+/),[r]=(a=e.match(/(year|month|day|week)/))!=null?a:[],i={day:0,month:new Date().getMonth(),year:new Date().getFullYear()},n=(s=i==null?void 0:i[r])!=null?s:0;return/(\d+){4}/.test(t)?n=Number(t):x.isNaN(Number(t))||(n+=Number(t)),n}function lo(e){if(e.path)return e;let t=e.target;for(e.path=[];t.parentNode!==null;)e.path.push(t),t=t.parentNode;return e.path.push(document,window),e}function so(e){return(t,r="{label}")=>{if(e)for(let i in Object.keys(e))e!=null&&e[i]&&(r=r.replace(new RegExp(`{${i}}`,"g"),`{${e==null?void 0:e[i]}}`));return x.template(r,{interpolate:/{([\s\S]+?)}/g})(t)}}function uo(e){if(!!e){if(typeof e=="number"||/^([0-9]+)?(\.)?([0-9]+)$/.test(e))return`${e}px`;if(/^([0-9]+)?(\.)?([0-9]+)(px|pt|em|rem|%)$|^(auto|fit-content)$/.test(e))return e}}function vi(e){return(t,r)=>{if(!t)return t;for(let[i,n]of Object.entries(t))t[i]=n.map(a=>{if(x.isArray(a.validator)){let[s,...u]=a.validator,v=e==null?void 0:e[s];if(v)return x.merge(a,{validator:v(...u,r)})}return a});return t}}function fo(e){return t=>{let r=x.merge(t,{}),i=x.isString(e)?e:Ue.default.safeDump(e!=null?e:""),n=He(i,r);return Ue.default.safeLoad(n)||r}}function co(e){return(t,r,i)=>!t&&t!==0?i!=null?i:t:r?li(r,e)(t):t}Ne.default.prototype.$message=Ti.Message;const hf={install:e=>{for(let[,t]of Object.entries(ff))e.component(`${t.name}`,t)}};b.ChannelSearchbar=Ii,b.CodeEditor=eo,b.ColumnCell=ci,b.Dialog=di,b.DialogForm=Vn,b.DiffEditor=ro,b.Drawer=Li,b.Form=fi,b.FormExpand=Dr,b.FormItem=sr,b.LoginForm=Wi,b.PlanPicker=ui,b.Plugin=hf,b.Qrcode=Hi,b.Sidebar=Ki,b.SidebarItem=Ar,b.Table=Gn,b.filterChannelDataNode=pi,b.formatString=co,b.getConditions=cf,b.getFilter=ao,b.isDisabled=no,b.isFilter=oo,b.parseCommand=io,b.parseContent=hi,b.parseDate=Mt,b.parseMouseEvent=lo,b.parseParams=fo,b.parseProps=Tt,b.parseRules=vi,b.parseTemplate=He,b.runCommand=df,b.toFormatString=so,b.toStyleSize=uo,Object.defineProperties(b,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
